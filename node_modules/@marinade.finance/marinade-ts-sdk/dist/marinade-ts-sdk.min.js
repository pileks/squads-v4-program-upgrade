(()=>{var __webpack_modules__={9908:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ACCOUNT_DISCRIMINATOR_SIZE:()=>jt,AccountClient:()=>tn,AnchorError:()=>At,AnchorProvider:()=>lt,BN:()=>s.a,BorshAccountsCoder:()=>Wt,BorshCoder:()=>Gt,BorshEventCoder:()=>Vt,BorshInstructionCoder:()=>Nt,EventManager:()=>an,EventParser:()=>cn,IdlError:()=>kt,LangErrorCode:()=>Et,LangErrorMessage:()=>Tt,MethodsBuilderFactory:()=>kn,Native:()=>On,Program:()=>Tn,ProgramError:()=>_t,ProgramErrorStack:()=>St,SystemCoder:()=>Re,eventDiscriminator:()=>qt,getProvider:()=>yt,parseIdlErrors:()=>M,setProvider:()=>pt,splitArgsAndCtx:()=>Ze,toInstruction:()=>O,translateAddress:()=>R,translateError:()=>It,utils:()=>He,validateAccounts:()=>B,web3:()=>i});var r=n(5872),i=n(9243),o=n(9098),s=n.n(o),a=n(1511),c=n.n(a),u=n(5415),l=n(5787),d=n.n(l),h=n(9489),f=n(1466),p=n(189),y=n(1312),m=n.n(y),g=n(2943),w=n(9500),b=n(5872).Buffer;const v=t=>"version"in t;var k=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?r.Buffer.from([]):r.Buffer.from(e.map((t=>parseInt(t,16))))}});function S(t){return new TextDecoder("utf-8").decode(t)}function A(t){return(new TextEncoder).encode(t)}var _=Object.freeze({__proto__:null,decode:S,encode:A});function I(t){return c().encode(t)}var E=Object.freeze({__proto__:null,encode:I,decode:function(t){return c().decode(t)}});function T(t){return r.Buffer.from(u.toByteArray(t))}var x=Object.freeze({__proto__:null,encode:function(t){return u.fromByteArray(t)},decode:T}),P=Object.freeze({__proto__:null,hex:k,utf8:_,bs58:E,base64:x});function M(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function O(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function B(t,e={}){t.forEach((t=>{if("accounts"in t)B(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function R(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}class C extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function L(t){return"object"==typeof t&&null!=t}function D(t){return"string"==typeof t?JSON.stringify(t):""+t}function N(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+D(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*U(t,e,n,r){var i;L(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=N(i,e,n,r);t&&(yield t)}}function*z(t,e,n){void 0===n&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&L(e.schema)&&L(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,a))c=!1,yield[n,void 0];for(let[n,u,l]of e.entries(t,a)){const e=z(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:o,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):o&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):L(t)&&(t[n]=u))}if(c)for(const n of e.refiner(t,a))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class K{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>U(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>U(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=W(t,e);if(n[0])throw n[0]}(t,this)}create(t){return F(t,this)}is(t){return j(t,this)}mask(t){return function(t,e){const n=W(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),W(t,this,e)}}function F(t,e){const n=W(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function j(t,e){return!W(t,e)[0]}function W(t,e,n){void 0===n&&(n={});const r=z(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new C(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function V(t,e){return new K({type:t,schema:null,validator:e})}function q(t){return new K({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+D(t)})}function H(t){const e=D(t),n=typeof t;return new K({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+D(n)})}function G(t){return new K({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function $(){return V("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+D(t)))}function Z(t){return new K({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function Y(){return V("string",(t=>"string"==typeof t||"Expected a string, but received: "+D(t)))}function X(t){const e=Object.keys(t);return new K({type:"type",schema:t,*entries(n){if(L(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>L(t)||"Expected an object, but received: "+D(t)})}function J(t){const e=t.map((t=>t.type)).join(" | ");return new K({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||Q()).coercer(e,n),validator(n,r){const i=[];for(const e of t){const[...t]=z(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+D(n),...i]}})}function Q(){return V("unknown",(()=>!0))}const tt=99;async function et(t,e,n){if(e.length<=tt)return await nt(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}(e,tt);return(await Promise.all(r.map((e=>nt(t,e,n))))).flat()}}async function nt(t,e,n){const r=null!=n?n:t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map(((t,n)=>null===t?null:{publicKey:e[n],account:t,context:o}))}async function rt(t,e,n,r,o){n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!=r?r:t.commitment};if(o){const t=(Array.isArray(o)?o:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}n&&(u.sigVerify=!0);const l=[c,u],d=F(await t._rpcRequest("simulateTransaction",l),at);if("error"in d){let t;if("data"in d.error&&(t=d.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);w.error(d.error.message,n)}throw new i.SendTransactionError("failed to simulate transaction: "+d.error.message,t)}return d.result}function it(t){return function(t,e,n){return new K({...t,coercer:(r,i)=>j(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}(st(t),ot,(e=>"error"in e?e:{...e,result:F(e.result,t)}))}const ot=st(Q());function st(t){return J([X({jsonrpc:H("2.0"),id:Y(),result:t}),X({jsonrpc:H("2.0"),id:Y(),error:X({code:Q(),message:Y(),data:Z(V("any",(()=>!0)))})})])}const at=(ct=X({err:G(J([X({}),Y()])),logs:G(q(Y())),accounts:Z(G(q(G(X({executable:V("boolean",(t=>"boolean"==typeof t)),owner:Y(),lamports:$(),data:q(Y()),rentEpoch:Z($())}))))),unitsConsumed:Z($())}),it(X({context:X({slot:$()}),value:ct})));var ct,ut=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=R(t),r||(r=yt());const o=new i.Transaction;if(o.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(o,[])},getMultipleAccounts:async function(t,e,n){return(await et(t,e,n)).map((t=>t?{publicKey:t.publicKey,account:t.account}:null))},getMultipleAccountsAndContext:et,simulateTransaction:rt});class lt{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r,o,s,a;if(void 0===n&&(n=this.opts),v(t))e&&t.sign(e);else if(t.feePayer=null!==(r=t.feePayer)&&void 0!==r?r:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const n of e)t.partialSign(n);const c=(t=await this.wallet.signTransaction(t)).serialize();try{return await ht(this.connection,c,n)}catch(e){if(e instanceof ft){const n=I(v(t)?(null===(o=t.signatures)||void 0===o?void 0:o[0])||new Uint8Array:null!==(s=t.signature)&&void 0!==s?s:new Uint8Array),r=await this.connection.getTransaction(n,{commitment:"confirmed"});if(r){const t=null===(a=r.meta)||void 0===a?void 0:a.logMessages;throw t?new i.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){var n,r,o;void 0===e&&(e=this.opts);const s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let a=t.map((t=>{var e,n;if(v(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let r=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=s,i.forEach((t=>{r.partialSign(t)})),r}}));const c=await this.wallet.signAllTransactions(a),u=[];for(let t=0;t<a.length;t+=1){const s=c[t],a=s.serialize();try{u.push(await ht(this.connection,a,e))}catch(t){if(t instanceof ft){const e=I(v(s)?(null===(n=s.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=s.signature)&&void 0!==r?r:new Uint8Array),a=await this.connection.getTransaction(e,{commitment:"confirmed"});if(a){const e=null===(o=a.meta)||void 0===o?void 0:o.logMessages;throw e?new i.SendTransactionError(t.message,e):t}throw t}throw t}}return u}async simulate(t,e,n,r){let i,o=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(v(t)?(e&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,e&&(t=await this.wallet.signTransaction(t)),i=await rt(this.connection,t,e,n,r)),i.value.err)throw new dt(i.value);return i.value}}class dt extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function ht(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new ft(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class ft extends Error{constructor(t){super(t)}}function pt(t){mt=t}function yt(){return null===mt?lt.local():mt}let mt=null;const gt=new Set(["anchor-deprecated-state","debug-logs"]),wt=new Map;function bt(t){return void 0!==wt.get(t)}var vt=Object.freeze({__proto__:null,set:function(t){if(!gt.has(t))throw new Error("Invalid feature");wt.set(t,!0)},isSet:bt});class kt extends Error{constructor(t){super(t),this.name="IdlError"}}class St{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,o=[];for(let s=0;s<t.length;s++){if(r.exec(t[s])){o.pop();continue}const a=null===(e=n.exec(t[s]))||void 0===e?void 0:e[1];a&&o.push(new i.PublicKey(a))}return new St(o)}}class At extends Error{constructor(t,e,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:o,origin:i},this._programErrorStack=St.parse(r)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const n=t[e],r=[n];let o;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const n=/^Program log: (.*)$/,s=n.exec(t[e+2])[1],a=n.exec(t[e+4])[1];o=[new i.PublicKey(s),new i.PublicKey(a)],r.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(t[e+1])[2],s=n.exec(t[e+2])[2];r.push(...t.slice(e+1,e+3)),o=[i,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[e,n,i]=s.slice(1,4),a={code:e,number:parseInt(n)};return new At(a,i,r,t,void 0,o)}if(a){const[e,n,i,s,c]=a.slice(1,6),u={code:i,number:parseInt(s)},l={file:e,line:parseInt(n)};return new At(u,c,r,t,l,o)}if(c){const[e,n,i,s]=c.slice(1,5),a=e,u={code:n,number:parseInt(i)};return new At(u,s,r,t,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class _t extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=St.parse(n))}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(t){return null}let o=e.get(i);return void 0!==o?new _t(i,o,t.logs):(o=Tt.get(i),void 0!==o?new _t(i,o,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function It(t,e){bt("debug-logs")&&w.log("Translating error:",t);const n=At.parse(t.logs);if(n)return n;const r=_t.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=St.parse(t.logs),new Proxy(t,e)}return t}const Et={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,DeclaredProgramIdMismatch:4100,Deprecated:5e3},Tt=new Map([[Et.InstructionMissing,"8 byte instruction identifier not provided"],[Et.InstructionFallbackNotFound,"Fallback functions are not supported"],[Et.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Et.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Et.IdlInstructionStub,"The program was compiled without idl instructions"],[Et.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Et.ConstraintMut,"A mut constraint was violated"],[Et.ConstraintHasOne,"A has one constraint was violated"],[Et.ConstraintSigner,"A signer constraint was violated"],[Et.ConstraintRaw,"A raw constraint was violated"],[Et.ConstraintOwner,"An owner constraint was violated"],[Et.ConstraintRentExempt,"A rent exemption constraint was violated"],[Et.ConstraintSeeds,"A seeds constraint was violated"],[Et.ConstraintExecutable,"An executable constraint was violated"],[Et.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Et.ConstraintAssociated,"An associated constraint was violated"],[Et.ConstraintAssociatedInit,"An associated init constraint was violated"],[Et.ConstraintClose,"A close constraint was violated"],[Et.ConstraintAddress,"An address constraint was violated"],[Et.ConstraintZero,"Expected zero account discriminant"],[Et.ConstraintTokenMint,"A token mint constraint was violated"],[Et.ConstraintTokenOwner,"A token owner constraint was violated"],[Et.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Et.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Et.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Et.ConstraintSpace,"A space constraint was violated"],[Et.ConstraintAccountIsNone,"A required account for the constraint is None"],[Et.RequireViolated,"A require expression was violated"],[Et.RequireEqViolated,"A require_eq expression was violated"],[Et.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Et.RequireNeqViolated,"A require_neq expression was violated"],[Et.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Et.RequireGtViolated,"A require_gt expression was violated"],[Et.RequireGteViolated,"A require_gte expression was violated"],[Et.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Et.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Et.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Et.AccountDidNotDeserialize,"Failed to deserialize the account"],[Et.AccountDidNotSerialize,"Failed to serialize the account"],[Et.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Et.AccountNotMutable,"The given account is not mutable"],[Et.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Et.InvalidProgramId,"Program ID was not as expected"],[Et.InvalidProgramExecutable,"Program account is not executable"],[Et.AccountNotSigner,"The given account did not sign"],[Et.AccountNotSystemOwned,"The given account is not owned by the system program"],[Et.AccountNotInitialized,"The program expected this account to be already initialized"],[Et.AccountNotProgramData,"The given account is not a program data account"],[Et.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Et.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Et.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Et.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Et.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Et.Deprecated,"The API being used is deprecated and should no longer be used"]]);var xt=function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xt.apply(this,arguments)},Pt=function(){return Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Pt.apply(this,arguments)};function Mt(t){return t.toLowerCase()}var Ot=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Bt=/[^A-Z0-9]+/gi;function Rt(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}function Ct(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?Ot:n,i=e.stripRegexp,o=void 0===i?Bt:i,s=e.transform,a=void 0===s?Mt:s,c=e.delimiter,u=void 0===c?" ":c,l=Rt(Rt(t,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(u)}(t,Pt({delimiter:"."},e))}class Lt{static fieldLayout(t,e){const n=void 0!==t.name?d()(t.name):void 0;switch(t.type){case"bool":return f.bool(n);case"u8":return f.u8(n);case"i8":return f.i8(n);case"u16":return f.u16(n);case"i16":return f.i16(n);case"u32":return f.u32(n);case"i32":return f.i32(n);case"f32":return f.f32(n);case"u64":return f.u64(n);case"i64":return f.i64(n);case"f64":return f.f64(n);case"u128":return f.u128(n);case"i128":return f.i128(n);case"u256":return f.u256(n);case"i256":return f.i256(n);case"bytes":return f.vecU8(n);case"string":return f.str(n);case"publicKey":return f.publicKey(n);default:if("vec"in t.type)return f.vec(Lt.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return f.option(Lt.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new kt("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new kt(`Type not found: ${JSON.stringify(t)}`);return Lt.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=Lt.fieldLayout({name:void 0,type:r},e);return f.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>Lt.fieldLayout(t,e)));return f.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=d()(t.name);if(void 0===t.fields)return f.struct([],n);const r=t.fields.map(((t,n)=>t.hasOwnProperty("name")?Lt.fieldLayout(t,e):Lt.fieldLayout({type:t,name:n.toString()},e)));return f.struct(r,n)}));return void 0!==n?f.rustEnum(r).replicate(n):f.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}const Dt="global";class Nt{constructor(t){this.idl=t,this.ixLayout=Nt.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=zt(Dt,t.name);e.set(c().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode(Dt,t,e)}_encode(t,e,n){const i=r.Buffer.alloc(1e3),o=d()(e),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,i),c=i.slice(0,a);return r.Buffer.concat([zt(t,e),c])}static parseIxLayout(t){const e=t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return Lt.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=d()(e.name);return[r,f.struct(n,r)]}));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):c().decode(t));let n=c().encode(t.slice(0,8)),i=t.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(t,e){return Ut.format(t,e,this.idl)}}class Ut{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return w.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:Ut.formatIdlType(e.type),data:Ut.formatIdlData(e,t.data[e.name],n.types)}))),o=Ut.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return Ut.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+Ut.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],s=Object.keys(o).map((t=>{var e;const s=o[t],a=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Ut.formatIdlData(a,s,n)})).join(", "),a=d()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return Ut.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function zt(t,e){var n;let i=`${t}:${void 0===n&&(n={}),Ct(e,xt({delimiter:"_"},n))}`;return r.Buffer.from(h.sha256.digest(i)).slice(0,8)}function Kt(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return Ft(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>Ft(t,e.type))).reduce(((t,e)=>t+e),0)}function Ft(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Ft(t,e.option);if("coption"in e)return 4+Ft(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new kt(`Type not found: ${JSON.stringify(e)}`);return Kt(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return Ft(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const jt=8;class Wt{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,Lt.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,n);let s=n.slice(0,o),a=Wt.accountDiscriminator(t);return r.Buffer.concat([a,s])}decode(t,e){if(Wt.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,8),n=Array.from(this.accountLayouts.keys()).find((t=>Wt.accountDiscriminator(t).equals(e)));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,t)}decodeUnchecked(t,e){const n=e.slice(jt),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=Wt.accountDiscriminator(t);return{offset:0,bytes:c().encode(e?r.Buffer.concat([n,e]):n)}}size(t){var e;return jt+(null!==(e=Kt(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return r.Buffer.from(h.sha256.digest(`account:${d()(t,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)).slice(0,jt)}}class Vt{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,Lt.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[u.fromByteArray(qt(t.name)),t.name])))}decode(t){let e;try{e=r.Buffer.from(u.toByteArray(t))}catch(t){return null}const n=u.fromByteArray(e.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}function qt(t){return r.Buffer.from(h.sha256.digest(`event:${t}`)).slice(0,8)}class Ht{constructor(t){if(void 0===t.types)return void(this.typeLayouts=new Map);const e=t.types.map((e=>[e.name,Lt.typeDefLayout(e,t.types)]));this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const n=r.Buffer.alloc(1e3),i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);const o=i.encode(e,n);return n.slice(0,o)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class Gt{constructor(t){this.instruction=new Nt(t),this.accounts=new Wt(t),this.events=new Vt(t),this.types=new Ht(t)}}var $t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function Zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Yt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Xt=Yt;class Jt extends Yt{isCount(){throw new Error("ExternalLayout is abstract")}}class Qt extends Jt{constructor(t,e,n){if(!(t instanceof Yt))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof te||this.layout instanceof ee}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class te extends Yt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class ee extends Yt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const ne=Math.pow(2,32);function re(t){const e=Math.floor(t/ne);return{hi32:e,lo32:t-e*ne}}function ie(t,e){return t*ne+e}class oe extends Yt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return ie(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=re(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class se extends Yt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return ie(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=re(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class ae extends Yt{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Yt),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class ce{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ue extends ce{constructor(t,e){if(!(t instanceof Jt&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class le extends Yt{constructor(t,e,n){const r=t instanceof te||t instanceof ee;if(r)t=new ue(new Qt(t));else if(t instanceof Jt&&t.isCount())t=new ue(t);else if(!(t instanceof ce))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Yt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new de(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return b.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class de extends Yt{constructor(t,e,n,r){if(!(t instanceof le))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Yt))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class he extends Yt{constructor(t,e){if(!(t instanceof Jt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Jt||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Jt&&(r=t.length),!b.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,o;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Jt&&this.length.encode(r,e,n),r}}var fe=(t,e,n)=>new Qt(t,e,n),pe=t=>new te(4,t),ye=t=>new se(t),me=(t,e,n)=>new ae(t,e,n),ge=(t,e,n)=>new le(t,e,n),we=(t,e)=>new he(t,e);class be{constructor(t){}encode(t,e){switch(d()(t)){case"createAccount":return function({lamports:t,space:e,owner:n}){return _e({createAccount:{lamports:t,space:e,owner:n.toBuffer()}})}(e);case"assign":return function({owner:t}){return _e({assign:{owner:t.toBuffer()}})}(e);case"transfer":return function({lamports:t}){return _e({transfer:{lamports:t}})}(e);case"createAccountWithSeed":return function({base:t,seed:e,lamports:n,space:r,owner:i}){return _e({createAccountWithSeed:{base:t.toBuffer(),seed:e,lamports:n,space:r,owner:i.toBuffer()}},Ae.getVariant(3).span+e.length)}(e);case"advanceNonceAccount":return function({authorized:t}){return _e({advanceNonceAccount:{authorized:t.toBuffer()}})}(e);case"withdrawNonceAccount":return function({lamports:t}){return _e({withdrawNonceAccount:{lamports:t}})}(e);case"initializeNonceAccount":return function({authorized:t}){return _e({initializeNonceAccount:{authorized:t.toBuffer()}})}(e);case"authorizeNonceAccount":return function({authorized:t}){return _e({authorizeNonceAccount:{authorized:t.toBuffer()}})}(e);case"allocate":return function({space:t}){return _e({allocate:{space:t}})}(e);case"allocateWithSeed":return function({base:t,seed:e,space:n,owner:r}){return _e({allocateWithSeed:{base:t.toBuffer(),seed:e,space:n,owner:r.toBuffer()}},Ae.getVariant(9).span+e.length)}(e);case"assignWithSeed":return function({base:t,seed:e,owner:n}){return _e({assignWithSeed:{base:t.toBuffer(),seed:e,owner:n.toBuffer()}},Ae.getVariant(10).span+e.length)}(e);case"transferWithSeed":return function({lamports:t,seed:e,owner:n}){return _e({transferWithSeed:{lamports:t,seed:e,owner:n.toBuffer()}},Ae.getVariant(11).span+e.length)}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("System does not have state")}}class ve extends Xt{constructor(t){super(-1,t),this.property=t,this.layout=me([pe("length"),pe("lengthPadding"),we(fe(pe(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:b.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return pe().span+pe().span+new(s())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function ke(t){return new ve(t)}function Se(t){return we(32,t)}const Ae=ge(pe("instruction"));function _e(t,e){const n=b.alloc(null!=e?e:Ie),r=Ae.encode(t,n);return void 0===e?n.slice(0,r):n}Ae.addVariant(0,me([ye("lamports"),ye("space"),Se("owner")]),"createAccount"),Ae.addVariant(1,me([Se("owner")]),"assign"),Ae.addVariant(2,me([ye("lamports")]),"transfer"),Ae.addVariant(3,me([Se("base"),ke("seed"),ye("lamports"),ye("space"),Se("owner")]),"createAccountWithSeed"),Ae.addVariant(4,me([Se("authorized")]),"advanceNonceAccount"),Ae.addVariant(5,me([ye("lamports")]),"withdrawNonceAccount"),Ae.addVariant(6,me([Se("authorized")]),"initializeNonceAccount"),Ae.addVariant(7,me([Se("authorized")]),"authorizeNonceAccount"),Ae.addVariant(8,me([ye("space")]),"allocate"),Ae.addVariant(9,me([Se("base"),ke("seed"),ye("space"),Se("owner")]),"allocateWithSeed"),Ae.addVariant(10,me([Se("base"),ke("seed"),Se("owner")]),"assignWithSeed"),Ae.addVariant(11,me([ye("lamports"),ke("seed"),Se("owner")]),"transferWithSeed");const Ie=Math.max(...Object.values(Ae.registry).map((t=>t.span)));class Ee{constructor(t){this.idl=t}async encode(t,e){if("nonce"===t){const t=b.alloc(i.NONCE_ACCOUNT_LENGTH),n=Pe.encode(e,t);return t.slice(0,n)}throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){if("nonce"===t)return function(t){return Pe.decode(t)}(e);throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){if("nonce"===t)return{dataSize:i.NONCE_ACCOUNT_LENGTH};throw new Error(`Invalid account name: ${t}`)}size(t){var e;return null!==(e=Kt(this.idl,t))&&void 0!==e?e:0}}class Te extends Xt{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function xe(t){return new Te(we(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}const Pe=me([pe("version"),pe("state"),xe("authorizedPubkey"),xe("nonce"),me([(Me="lamportsPerSignature",new oe(Me))],"feeCalculator")]);var Me;class Oe{constructor(t){}decode(t){throw new Error("System program does not have events")}}class Be{constructor(t){}encode(t,e){throw new Error("System does not have user-defined types")}decode(t,e){throw new Error("System does not have user-defined types")}}class Re{constructor(t){this.instruction=new be(t),this.accounts=new Ee(t),this.events=new Oe(t),this.types=new Be(t)}}var Ce=Object.freeze({__proto__:null,hash:function(t){return(0,h.sha256)(t)}});function Le(t,...e){let n=[r.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof r.Buffer?t:R(t).toBuffer())}));const[o]=i.PublicKey.findProgramAddressSync(n,R(t));return o}var De=Object.freeze({__proto__:null,createWithSeedSync:function(t,e,n){const o=r.Buffer.concat([t.toBuffer(),r.Buffer.from(e),n.toBuffer()]),s=h.sha256.digest(o);return new i.PublicKey(r.Buffer.from(s))},associated:Le});const Ne=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ue=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ze=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:Ue,associatedAddress:function({mint:t,owner:e}){return i.PublicKey.findProgramAddressSync([e.toBuffer(),Ne.toBuffer(),t.toBuffer()],Ue)[0]}}),Ke={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:$t,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function d(t){var e=new FileReader,n=l(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=l(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=o(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[o(t)]},c.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},c.prototype.set=function(t,e){this.map[o(t)]=s(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),a(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),a(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),a(t)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(t,e){var n,r,i=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},f.call(y.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];g.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(t,r){return new Promise((function(i,o){var s=new y(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new g(r,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}b.polyfill=!0,t.fetch||(t.fetch=b,t.Headers=c,t.Request=y,t.Response=g),e.Headers=c,e.Request=y,e.Response=g,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Ke,Ke.exports);var Fe=Zt(Ke.exports);async function je(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=Ve(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Ve(i.data);return o}const We=f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function Ve(t){return We.decode(t)}var qe=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([je(t,e),Fe(r)]),s=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:je,decodeUpgradeableLoaderState:Ve}),He=Object.freeze({__proto__:null,sha256:Ce,rpc:ut,publicKey:De,bytes:P,token:ze,features:vt,registry:qe});function Ge(t){return"accounts"in t}const $e=f.struct([f.publicKey("authority"),f.vecU8("data")]);function Ze(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class Ye{static build(t,e,n){if("_inner"===t.name)throw new kt("the _inner name is reserved");const r=(...o)=>{const[s,a]=Ze(t,[...o]);B(t.accounts,a.accounts);const c=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&c.push(...a.remainingAccounts),bt("debug-logs")&&w.log("Outgoing account metas:",c),new i.TransactionInstruction({keys:c,programId:n,data:e(t.name,O(t,...s))})};return r.accounts=e=>Ye.accountsArray(e,t.accounts,n,t.name),r}static accountsArray(t,e,n,r){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const i=t[e.name];return Ye.accountsArray(i,e.accounts,n,r).flat()}{const i=e;let o;try{o=R(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const s=i.isOptional&&o.equals(n);return{pubkey:o,isWritable:i.isMut&&!s,isSigner:i.isSigner&&!s}}})).flat():[]}}class Xe{static build(t,e){return(...n)=>{var r,o,s;const[,a]=Ze(t,[...n]),c=new i.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=a.preInstructions)||void 0===r||r.forEach((t=>c.add(t))),null===(o=a.instructions)||void 0===o||o.forEach((t=>c.add(t))),c.add(e(...n)),null===(s=a.postInstructions)||void 0===s||s.forEach((t=>c.add(t))),c}}}class Je{static build(t,e,n,r){return async(...i)=>{var o;const s=e(...i),[,a]=Ze(t,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(o=a.signers)&&void 0!==o?o:[],a.options)}catch(t){throw It(t,n)}}}}class Qe{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const s=d()(i.name);o[s]=new tn(t,i,n,r,e)})),o}}class tn{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:yt(),this._coder=null!=i?i:new Gt(t),this._size=this._coder.accounts.size(e)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:r}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:r}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await et(this._provider.connection,t.map((t=>R(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:n}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:n}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof b?t:void 0),n=[];return null!=(null==e?void 0:e.offset)&&null!=(null==e?void 0:e.bytes)&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),null!=(null==e?void 0:e.dataSize)&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=en.get(t.toString());if(n)return n.ee;const r=new(m());t=R(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return en.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=en.get(t.toString());e?en&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{en.delete(t.toString())})).catch(w.error):w.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return i.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await Le(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(R(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(R(t),e)}}const en=new Map,nn="Program log: ",rn="Program data: ",on=nn.length,sn=rn.length;class an{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new cn(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const n of this._eventParser.parseLogs(t.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,e.slot,t.signature)}}))}}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(g.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class cn{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new ln(t),r=new un;let i=n.next();for(;null!==i;){let[t,o,s]=this.handleLog(r,i,e);t&&(yield t),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(nn)||t.startsWith(rn)){const n=t.startsWith(nn)?t.slice(on):t.slice(sn),r=this.coder.events.decode(n);if(e&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class un{constructor(){this.stack=[]}program(){return g.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){g.ok(this.stack.length>0),this.stack.pop()}}class ln{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class dn{static build(t,e,n,r,i,o,s){return async(...a)=>{var c;const u=e(...a),[,l]=Ze(t,[...a]);let d;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await r.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(t){throw It(t,n)}if(void 0===d)throw new Error("Unable to simulate transaction");const h=d.logs;if(!h)throw new Error("Simulated logs not found");const f=[];if(s.events){let t=new cn(o,i);for(const e of t.parseLogs(h))f.push(e)}return{events:f,raw:h}}}}function hn(t){return new yn(we(8),(t=>gn.fromBuffer(t)),(t=>t.toBuffer()),t)}function fn(t){return new yn(we(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function pn(t,e){return new mn(t,e)}class yn extends Xt{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class mn extends Xt{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=pe()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class gn extends(s()){toBuffer(){const t=super.toArray().reverse(),e=b.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=b.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new gn([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const wn=me([fn("mint"),fn("owner"),hn("amount"),pn(fn(),"delegate"),(t=>{const e=ge((t=>new te(1,t))("discriminator"),null,"state");return e.addVariant(0,me([]),"uninitialized"),e.addVariant(1,me([]),"initialized"),e.addVariant(2,me([]),"frozen"),e})(),pn(hn(),"isNative"),hn("delegatedAmount"),pn(fn(),"closeAuthority")]);class bn{constructor(t,e,n,r,i,o,s,a){this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=s,this._customResolver=a,this._args=t,this._accountStore=new vn(n,o,this._programId)}args(t){this._args=t}async resolve(){for(await this.resolveConst(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveOptionalsHelper(t,e){const n={};for(const r of e){const e=r.name,i=t[e];void 0!==i&&(Sn(i)?Ge(r)?n[e]=this.resolveOptionalsHelper(i,r.accounts):n[e]=An(i,!0):null!==i?n[e]=R(i):r.isOptional&&(n[e]=this._programId))}return n}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach(((r,i)=>{i==t.length-1&&(n[r]=e),n[r]=n[r]||{},n=n[r]}))}async resolveConst(t,e=[]){for(let n=0;n<t.length;n+=1){const r=t[n],i=r.accounts;i&&await this.resolveConst(i,[...e,d()(r.name)]);const o=r,s=d()(r.name);if(o.isSigner&&!this.get([...e,s])){if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...e,s],this._provider.wallet.publicKey)}Reflect.has(bn.CONST_ACCOUNTS,s)&&!this.get([...e,s])&&this.set([...e,s],bn.CONST_ACCOUNTS[s])}}async resolvePdas(t,e=[]){let n=0;for(let r=0;r<t.length;r+=1){const i=t[r],o=i.accounts;o&&(n+=await this.resolvePdas(o,[...e,d()(i.name)]));const s=i,a=d()(i.name);s.pda&&s.pda.seeds.length>0&&!this.get([...e,a])&&Boolean(await this.autoPopulatePda(s,e))&&(n+=1)}return n}async resolveRelations(t,e=[]){let n=0;for(let r=0;r<t.length;r+=1){const i=t[r],o=i.accounts;o&&(n+=await this.resolveRelations(o,[...e,d()(i.name)]));const s=i.relations||[],a=d()(i.name),c=[...e,a],u=this.get(c);if(u){const t=s.filter((t=>!this.get([...e,d()(t)])));if(n+=t.length,t.length>0){const n=await this._accountStore.fetchAccount({publicKey:u});await Promise.all(t.map((async t=>{const r=d()(t);return this.set([...e,r],n[r]),n[r]})))}}}return n}async autoPopulatePda(t,e=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t,e))));if(n.some((t=>void 0===t)))return;const r=await this.parseProgramId(t,e);if(!r)return;const[o]=await i.PublicKey.findProgramAddress(n,r);this.set([...e,d()(t.name)],o)}async parseProgramId(t,e=[]){var n;if(!(null===(n=t.pda)||void 0===n?void 0:n.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,e);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}getType(t,e=[]){if(e.length>0&&t.defined){const n=this._idlTypes.find((e=>e.name===t.defined));if(!n)throw new Error(`Cannot find type ${t.defined}`);const r=n.type.fields.find((t=>t.name===e[0]));return this.getType(r.type,e.slice(1))}return t}toBufferConst(t){return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),t.value)}async toBufferArg(t){const e=this.argValue(t);if(void 0!==e)return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),e)}argValue(t){const e=t.path.split("."),n=d()(e[0]),r=this._idlIx.args.findIndex((t=>t.name===n));if(-1===r)throw new Error(`Unable to find argument for seed: ${n}`);return e.slice(1).reduce(((t,e)=>(t||{})[e]),this._args[r])}async toBufferAccount(t,e=[]){const n=await this.accountValue(t,e);if(n)return this.toBufferValue(t.type,n)}async accountValue(t,e=[]){const n=t.path.split("."),r=n[0],i=this.get([...e,d()(r)]);if(null===i)throw new Error("fieldPubkey is null");if(1===n.length)return i;const o=await this._accountStore.fetchAccount({publicKey:i,name:t.account});return this.parseAccountValue(o,n.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[d()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return b.from([e]);case"u16":let n=b.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=b.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=b.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return b.from(A(e));case"publicKey":return e.toBuffer();default:if(t.array)return b.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}bn.CONST_ACCOUNTS={associatedTokenProgram:Ue,rent:i.SYSVAR_RENT_PUBKEY,systemProgram:i.SystemProgram.programId,tokenProgram:Ne,clock:i.SYSVAR_CLOCK_PUBKEY};class vn{constructor(t,e,n){this._provider=t,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async ensureIdl(t){if(!this._idls[t.toBase58()]){const e=await Tn.fetchIdl(t,this._provider);if(e){const n=new Tn(e,t,this._provider);this._idls[t.toBase58()]=n.account}}return this._idls[t.toBase58()]}async fetchAccount({publicKey:t,name:e,programId:n=this._programId}){const r=t.toString();if(!this._cache.has(r))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=(i=e.data,wn.decode(i));this._cache.set(r,n)}else if(e){const i=await this.ensureIdl(n);if(i){const n=i[d()(e)];if(n){const e=await n.fetch(t);this._cache.set(r,e)}}}else{const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=e.data,i=await this.ensureIdl(e.owner);if(i){const t=Object.values(i)[0];if(!t)throw new Error("No accounts for this program");const e=t.coder.accounts.decodeAny(n);this._cache.set(r,e)}}var i;return this._cache.get(r)}}class kn{static build(t,e,n,r,i,o,s,a,c,u,l){return(...d)=>new _n(d,r,i,o,s,a,t,e,n,c,u,l)}}function Sn(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}function An(t,e){const n={};for(const r in t){const i=t[r];if(null!==i)n[r]=Sn(i)?An(i,!0):R(i);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class _n{constructor(t,e,n,r,i,o,s,a,c,u,l,d){this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=o,this._programId=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=t,this._accountsResolver=new bn(t,this._accounts,s,a,c,u,l,d)}args(t){this._args=t,this._accountsResolver.args(t)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class In{static build(t,e,n,r){const i=e.accounts.find((t=>t.isMut)),o=!!e.returns;if(i||!o)return;return async(...i)=>{var o,s;let a=await n(...i);const c=`Program return: ${t} `;let u=a.raw.find((t=>t.startsWith(c)));if(!u)throw new Error("View expected return log");let l=T(u.slice(c.length)),d=e.returns;if(!d)throw new Error("View expected return type");return Lt.fieldLayout({type:d},Array.from([...null!==(o=r.accounts)&&void 0!==o?o:[],...null!==(s=r.types)&&void 0!==s?s:[]])).decode(l)}}}class En{static build(t,e,n,r,i){const o={},s={},a={},c={},u={},l={},h=M(t),f=t.accounts?Qe.build(t,e,n,r):{};return t.instructions.forEach((p=>{const y=Ye.build(p,((t,n)=>e.instruction.encode(t,n)),n),m=Xe.build(p,y),g=Je.build(p,m,h,r),w=dn.build(p,m,h,r,e,n,t),b=In.build(n,p,w,t),v=kn.build(r,n,p,y,m,g,w,b,f,t.types||[],i&&i(p)),k=d()(p.name);s[k]=y,a[k]=m,o[k]=g,c[k]=w,u[k]=v,b&&(l[k]=b)})),[o,s,a,f,c,u,l]}}class Tn{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e,n,r,i){e=R(e),n||(n=yt()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new Gt(t),this._events=new an(this._programId,n,this._coder);const[o,s,a,c,u,l,d]=En.build(t,this._coder,e,n,null!=i?i:()=>{});this.rpc=o,this.instruction=s,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.views=d}static async at(t,e){const n=R(t),r=await Tn.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Tn(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:yt();const n=R(t),r=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),o=await e.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),$e.decode(a));var a;const c=(0,p.rr)(s.data);return JSON.parse(S(c))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}const xn=new i.PublicKey("11111111111111111111111111111111");function Pn(t){return new Tn(Mn,xn,t,new Re(Mn))}const Mn={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class On{static system(t){return Pn(t)}}},9631:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5872),i=n(9243),o=n(5189);class s{constructor(t){this.payer=t}static local(){const t=n(4224);if(!t.env.ANCHOR_WALLET||""===t.env.ANCHOR_WALLET)throw new Error("expected environment variable `ANCHOR_WALLET` is not set.");const e=i.Keypair.fromSecretKey(r.Buffer.from(JSON.parse(n(4785).readFileSync(t.env.ANCHOR_WALLET,{encoding:"utf-8"}))));return new s(e)}async signTransaction(t){return(0,o.isVersionedTransaction)(t)?t.sign([this.payer]):t.partialSign(this.payer),t}async signAllTransactions(t){return t.map((t=>((0,o.isVersionedTransaction)(t)?t.sign([this.payer]):t.partialSign(this.payer),t)))}get publicKey(){return this.payer.publicKey}}e.default=s},9679:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0;const r=n(5189);e.decode=function(t){return(r.isBrowser?new TextDecoder("utf-8"):new(n(3585).TextDecoder)("utf-8")).decode(t)},e.encode=function(t){return(r.isBrowser?new TextEncoder:new(n(3585).TextEncoder)("utf-8")).encode(t)}},5189:(t,e,n)=>{"use strict";var r,i=n(4224);Object.defineProperty(e,"__esModule",{value:!0}),e.isVersionedTransaction=e.chunks=e.isBrowser=void 0,e.isBrowser=i.env.ANCHOR_BROWSER||"undefined"!=typeof window&&!(null===(r=window.process)||void 0===r?void 0:r.hasOwnProperty("type")),e.chunks=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))};e.isVersionedTransaction=t=>"version"in t},9812:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ACCOUNT_DISCRIMINATOR_SIZE:()=>jt,AccountClient:()=>tn,AnchorError:()=>At,AnchorProvider:()=>lt,BN:()=>s.a,BorshAccountsCoder:()=>Wt,BorshCoder:()=>Gt,BorshEventCoder:()=>Vt,BorshInstructionCoder:()=>Nt,EventManager:()=>an,EventParser:()=>cn,IdlError:()=>kt,LangErrorCode:()=>Et,LangErrorMessage:()=>Tt,MethodsBuilderFactory:()=>kn,Native:()=>On,Program:()=>Tn,ProgramError:()=>_t,ProgramErrorStack:()=>St,SystemCoder:()=>Re,eventDiscriminator:()=>qt,getProvider:()=>yt,parseIdlErrors:()=>M,setProvider:()=>pt,splitArgsAndCtx:()=>Ze,toInstruction:()=>O,translateAddress:()=>R,translateError:()=>It,utils:()=>He,validateAccounts:()=>B,web3:()=>i});var r=n(5872),i=n(9243),o=n(9098),s=n.n(o),a=n(1511),c=n.n(a),u=n(5415),l=n(5787),d=n.n(l),h=n(9489),f=n(7947),p=n(189),y=n(1312),m=n.n(y),g=n(2943),w=n(9500),b=n(5872).Buffer;const v=t=>"version"in t;var k=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?r.Buffer.from([]):r.Buffer.from(e.map((t=>parseInt(t,16))))}});function S(t){return new TextDecoder("utf-8").decode(t)}function A(t){return(new TextEncoder).encode(t)}var _=Object.freeze({__proto__:null,decode:S,encode:A});function I(t){return c().encode(t)}var E=Object.freeze({__proto__:null,encode:I,decode:function(t){return c().decode(t)}});function T(t){return r.Buffer.from(u.toByteArray(t))}var x=Object.freeze({__proto__:null,encode:function(t){return u.fromByteArray(t)},decode:T}),P=Object.freeze({__proto__:null,hex:k,utf8:_,bs58:E,base64:x});function M(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function O(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function B(t,e={}){t.forEach((t=>{if("accounts"in t)B(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function R(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}class C extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function L(t){return"object"==typeof t&&null!=t}function D(t){return"string"==typeof t?JSON.stringify(t):""+t}function N(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+D(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*U(t,e,n,r){var i;L(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=N(i,e,n,r);t&&(yield t)}}function*z(t,e,n){void 0===n&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&L(e.schema)&&L(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,a))c=!1,yield[n,void 0];for(let[n,u,l]of e.entries(t,a)){const e=z(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:o,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):o&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):L(t)&&(t[n]=u))}if(c)for(const n of e.refiner(t,a))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class K{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>U(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>U(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=W(t,e);if(n[0])throw n[0]}(t,this)}create(t){return F(t,this)}is(t){return j(t,this)}mask(t){return function(t,e){const n=W(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),W(t,this,e)}}function F(t,e){const n=W(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function j(t,e){return!W(t,e)[0]}function W(t,e,n){void 0===n&&(n={});const r=z(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new C(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function V(t,e){return new K({type:t,schema:null,validator:e})}function q(t){return new K({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+D(t)})}function H(t){const e=D(t),n=typeof t;return new K({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+D(n)})}function G(t){return new K({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function $(){return V("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+D(t)))}function Z(t){return new K({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function Y(){return V("string",(t=>"string"==typeof t||"Expected a string, but received: "+D(t)))}function X(t){const e=Object.keys(t);return new K({type:"type",schema:t,*entries(n){if(L(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>L(t)||"Expected an object, but received: "+D(t)})}function J(t){const e=t.map((t=>t.type)).join(" | ");return new K({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||Q()).coercer(e,n),validator(n,r){const i=[];for(const e of t){const[...t]=z(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+D(n),...i]}})}function Q(){return V("unknown",(()=>!0))}const tt=99;async function et(t,e,n){if(e.length<=tt)return await nt(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}(e,tt);return(await Promise.all(r.map((e=>nt(t,e,n))))).flat()}}async function nt(t,e,n){const r=null!=n?n:t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map(((t,n)=>null===t?null:{publicKey:e[n],account:t,context:o}))}async function rt(t,e,n,r,o){var s;n&&n.length>0&&e.sign(...n);const a=e._compile(),c=a.serialize(),u=e._serialize(c).toString("base64"),l={encoding:"base64",commitment:null!=r?r:t.commitment};if(o){const t=(Array.isArray(o)?o:a.nonProgramIds()).map((t=>t.toBase58()));l.accounts={encoding:"base64",addresses:t}}n&&(l.sigVerify=!0);const d=[u,l],h=F(await t._rpcRequest("simulateTransaction",d),at);if("error"in h){let t;if("data"in h.error&&(t=null===(s=h.error.data)||void 0===s?void 0:s.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);w.error(h.error.message,n)}throw new i.SendTransactionError("failed to simulate transaction: "+h.error.message,t)}return h.result}function it(t){return function(t,e,n){return new K({...t,coercer:(r,i)=>j(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}(st(t),ot,(e=>"error"in e?e:{...e,result:F(e.result,t)}))}const ot=st(Q());function st(t){return J([X({jsonrpc:H("2.0"),id:Y(),result:t}),X({jsonrpc:H("2.0"),id:Y(),error:X({code:Q(),message:Y(),data:Z(V("any",(()=>!0)))})})])}const at=(ct=X({err:G(J([X({}),Y()])),logs:G(q(Y())),accounts:Z(G(q(G(X({executable:V("boolean",(t=>"boolean"==typeof t)),owner:Y(),lamports:$(),data:q(Y()),rentEpoch:Z($())}))))),unitsConsumed:Z($())}),it(X({context:X({slot:$()}),value:ct})));var ct,ut=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=R(t),r||(r=yt());const o=new i.Transaction;if(o.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(o,[])},getMultipleAccounts:async function(t,e,n){return(await et(t,e,n)).map((t=>t?{publicKey:t.publicKey,account:t.account}:null))},getMultipleAccountsAndContext:et,simulateTransaction:rt});class lt{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r,o,s,a;if(void 0===n&&(n=this.opts),v(t))e&&t.sign(e);else if(t.feePayer=null!==(r=t.feePayer)&&void 0!==r?r:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const n of e)t.partialSign(n);const c=(t=await this.wallet.signTransaction(t)).serialize();try{return await ht(this.connection,c,n)}catch(e){if(e instanceof ft){const n=I(v(t)?(null===(o=t.signatures)||void 0===o?void 0:o[0])||new Uint8Array:null!==(s=t.signature)&&void 0!==s?s:new Uint8Array),r=await this.connection.getTransaction(n,{commitment:"confirmed"});if(r){const t=null===(a=r.meta)||void 0===a?void 0:a.logMessages;throw t?new i.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){var n,r,o;void 0===e&&(e=this.opts);const s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let a=t.map((t=>{var e,n;if(v(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let r=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=s,i.forEach((t=>{r.partialSign(t)})),r}}));const c=await this.wallet.signAllTransactions(a),u=[];for(let t=0;t<a.length;t+=1){const s=c[t],a=s.serialize();try{u.push(await ht(this.connection,a,e))}catch(t){if(t instanceof ft){const e=I(v(s)?(null===(n=s.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=s.signature)&&void 0!==r?r:new Uint8Array),a=await this.connection.getTransaction(e,{commitment:"confirmed"});if(a){const e=null===(o=a.meta)||void 0===o?void 0:o.logMessages;throw e?new i.SendTransactionError(t.message,e):t}throw t}throw t}}return u}async simulate(t,e,n,r){let i,o=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(v(t)?(e&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,e&&(t=await this.wallet.signTransaction(t)),i=await rt(this.connection,t,e,n,r)),i.value.err)throw new dt(i.value);return i.value}}class dt extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function ht(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new ft(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class ft extends Error{constructor(t){super(t)}}function pt(t){mt=t}function yt(){return null===mt?lt.local():mt}let mt=null;const gt=new Set(["anchor-deprecated-state","debug-logs"]),wt=new Map;function bt(t){return void 0!==wt.get(t)}var vt=Object.freeze({__proto__:null,set:function(t){if(!gt.has(t))throw new Error("Invalid feature");wt.set(t,!0)},isSet:bt});class kt extends Error{constructor(t){super(t),this.name="IdlError"}}class St{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,o=[];for(let s=0;s<t.length;s++){if(r.exec(t[s])){o.pop();continue}const a=null===(e=n.exec(t[s]))||void 0===e?void 0:e[1];a&&o.push(new i.PublicKey(a))}return new St(o)}}class At extends Error{constructor(t,e,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:o,origin:i},this._programErrorStack=St.parse(r)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const n=t[e],r=[n];let o;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const n=/^Program log: (.*)$/,s=n.exec(t[e+2])[1],a=n.exec(t[e+4])[1];o=[new i.PublicKey(s),new i.PublicKey(a)],r.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(t[e+1])[2],s=n.exec(t[e+2])[2];r.push(...t.slice(e+1,e+3)),o=[i,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[e,n,i]=s.slice(1,4),a={code:e,number:parseInt(n)};return new At(a,i,r,t,void 0,o)}if(a){const[e,n,i,s,c]=a.slice(1,6),u={code:i,number:parseInt(s)},l={file:e,line:parseInt(n)};return new At(u,c,r,t,l,o)}if(c){const[e,n,i,s]=c.slice(1,5),a=e,u={code:n,number:parseInt(i)};return new At(u,s,r,t,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class _t extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=St.parse(n))}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(t){return null}let o=e.get(i);return void 0!==o?new _t(i,o,t.logs):(o=Tt.get(i),void 0!==o?new _t(i,o,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function It(t,e){bt("debug-logs")&&w.log("Translating error:",t);const n=At.parse(t.logs);if(n)return n;const r=_t.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=St.parse(t.logs),new Proxy(t,e)}return t}const Et={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,DeclaredProgramIdMismatch:4100,Deprecated:5e3},Tt=new Map([[Et.InstructionMissing,"8 byte instruction identifier not provided"],[Et.InstructionFallbackNotFound,"Fallback functions are not supported"],[Et.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Et.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Et.IdlInstructionStub,"The program was compiled without idl instructions"],[Et.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Et.ConstraintMut,"A mut constraint was violated"],[Et.ConstraintHasOne,"A has one constraint was violated"],[Et.ConstraintSigner,"A signer constraint was violated"],[Et.ConstraintRaw,"A raw constraint was violated"],[Et.ConstraintOwner,"An owner constraint was violated"],[Et.ConstraintRentExempt,"A rent exemption constraint was violated"],[Et.ConstraintSeeds,"A seeds constraint was violated"],[Et.ConstraintExecutable,"An executable constraint was violated"],[Et.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Et.ConstraintAssociated,"An associated constraint was violated"],[Et.ConstraintAssociatedInit,"An associated init constraint was violated"],[Et.ConstraintClose,"A close constraint was violated"],[Et.ConstraintAddress,"An address constraint was violated"],[Et.ConstraintZero,"Expected zero account discriminant"],[Et.ConstraintTokenMint,"A token mint constraint was violated"],[Et.ConstraintTokenOwner,"A token owner constraint was violated"],[Et.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Et.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Et.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Et.ConstraintSpace,"A space constraint was violated"],[Et.ConstraintAccountIsNone,"A required account for the constraint is None"],[Et.RequireViolated,"A require expression was violated"],[Et.RequireEqViolated,"A require_eq expression was violated"],[Et.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Et.RequireNeqViolated,"A require_neq expression was violated"],[Et.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Et.RequireGtViolated,"A require_gt expression was violated"],[Et.RequireGteViolated,"A require_gte expression was violated"],[Et.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Et.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Et.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Et.AccountDidNotDeserialize,"Failed to deserialize the account"],[Et.AccountDidNotSerialize,"Failed to serialize the account"],[Et.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Et.AccountNotMutable,"The given account is not mutable"],[Et.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Et.InvalidProgramId,"Program ID was not as expected"],[Et.InvalidProgramExecutable,"Program account is not executable"],[Et.AccountNotSigner,"The given account did not sign"],[Et.AccountNotSystemOwned,"The given account is not owned by the system program"],[Et.AccountNotInitialized,"The program expected this account to be already initialized"],[Et.AccountNotProgramData,"The given account is not a program data account"],[Et.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Et.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Et.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Et.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Et.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Et.Deprecated,"The API being used is deprecated and should no longer be used"]]);var xt=function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xt.apply(this,arguments)},Pt=function(){return Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Pt.apply(this,arguments)};function Mt(t){return t.toLowerCase()}var Ot=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Bt=/[^A-Z0-9]+/gi;function Rt(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}function Ct(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?Ot:n,i=e.stripRegexp,o=void 0===i?Bt:i,s=e.transform,a=void 0===s?Mt:s,c=e.delimiter,u=void 0===c?" ":c,l=Rt(Rt(t,r,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(u)}(t,Pt({delimiter:"."},e))}class Lt{static fieldLayout(t,e){const n=void 0!==t.name?d()(t.name):void 0;switch(t.type){case"bool":return f.bool(n);case"u8":return f.u8(n);case"i8":return f.i8(n);case"u16":return f.u16(n);case"i16":return f.i16(n);case"u32":return f.u32(n);case"i32":return f.i32(n);case"f32":return f.f32(n);case"u64":return f.u64(n);case"i64":return f.i64(n);case"f64":return f.f64(n);case"u128":return f.u128(n);case"i128":return f.i128(n);case"u256":return f.u256(n);case"i256":return f.i256(n);case"bytes":return f.vecU8(n);case"string":return f.str(n);case"publicKey":return f.publicKey(n);default:if("vec"in t.type)return f.vec(Lt.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return f.option(Lt.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new kt("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new kt(`Type not found: ${JSON.stringify(t)}`);return Lt.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=Lt.fieldLayout({name:void 0,type:r},e);return f.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>Lt.fieldLayout(t,e)));return f.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=d()(t.name);if(void 0===t.fields)return f.struct([],n);const r=t.fields.map(((t,n)=>t.hasOwnProperty("name")?Lt.fieldLayout(t,e):Lt.fieldLayout({type:t,name:n.toString()},e)));return f.struct(r,n)}));return void 0!==n?f.rustEnum(r).replicate(n):f.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}const Dt="global";class Nt{constructor(t){this.idl=t,this.ixLayout=Nt.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=zt(Dt,t.name);e.set(c().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode(Dt,t,e)}_encode(t,e,n){const i=r.Buffer.alloc(1e3),o=d()(e),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,i),c=i.slice(0,a);return r.Buffer.concat([zt(t,e),c])}static parseIxLayout(t){const e=t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return Lt.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=d()(e.name);return[r,f.struct(n,r)]}));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):c().decode(t));let n=c().encode(t.slice(0,8)),i=t.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(t,e){return Ut.format(t,e,this.idl)}}class Ut{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return w.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:Ut.formatIdlType(e.type),data:Ut.formatIdlData(e,t.data[e.name],n.types)}))),o=Ut.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return Ut.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+Ut.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],s=Object.keys(o).map((t=>{var e;const s=o[t],a=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Ut.formatIdlData(a,s,n)})).join(", "),a=d()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return Ut.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function zt(t,e){var n;let i=`${t}:${void 0===n&&(n={}),Ct(e,xt({delimiter:"_"},n))}`;return r.Buffer.from(h.sha256.digest(i)).slice(0,8)}function Kt(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return Ft(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>Ft(t,e.type))).reduce(((t,e)=>t+e),0)}function Ft(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Ft(t,e.option);if("coption"in e)return 4+Ft(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new kt(`Type not found: ${JSON.stringify(e)}`);return Kt(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return Ft(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const jt=8;class Wt{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,Lt.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,n);let s=n.slice(0,o),a=Wt.accountDiscriminator(t);return r.Buffer.concat([a,s])}decode(t,e){if(Wt.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,8),n=Array.from(this.accountLayouts.keys()).find((t=>Wt.accountDiscriminator(t).equals(e)));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,t)}decodeUnchecked(t,e){const n=e.slice(jt),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=Wt.accountDiscriminator(t);return{offset:0,bytes:c().encode(e?r.Buffer.concat([n,e]):n)}}size(t){var e;return jt+(null!==(e=Kt(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return r.Buffer.from(h.sha256.digest(`account:${d()(t,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)).slice(0,jt)}}class Vt{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,Lt.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[u.fromByteArray(qt(t.name)),t.name])))}decode(t){let e;try{e=r.Buffer.from(u.toByteArray(t))}catch(t){return null}const n=u.fromByteArray(e.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}function qt(t){return r.Buffer.from(h.sha256.digest(`event:${t}`)).slice(0,8)}class Ht{constructor(t){if(void 0===t.types)return void(this.typeLayouts=new Map);const e=t.types.map((e=>[e.name,Lt.typeDefLayout(e,t.types)]));this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const n=r.Buffer.alloc(1e3),i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);const o=i.encode(e,n);return n.slice(0,o)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class Gt{constructor(t){this.instruction=new Nt(t),this.accounts=new Wt(t),this.events=new Vt(t),this.types=new Ht(t)}}var $t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function Zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Yt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Xt=Yt;class Jt extends Yt{isCount(){throw new Error("ExternalLayout is abstract")}}class Qt extends Jt{constructor(t,e,n){if(!(t instanceof Yt))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof te||this.layout instanceof ee}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class te extends Yt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class ee extends Yt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const ne=Math.pow(2,32);function re(t){const e=Math.floor(t/ne);return{hi32:e,lo32:t-e*ne}}function ie(t,e){return t*ne+e}class oe extends Yt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return ie(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=re(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class se extends Yt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return ie(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=re(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class ae extends Yt{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Yt),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class ce{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ue extends ce{constructor(t,e){if(!(t instanceof Jt&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class le extends Yt{constructor(t,e,n){const r=t instanceof te||t instanceof ee;if(r)t=new ue(new Qt(t));else if(t instanceof Jt&&t.isCount())t=new ue(t);else if(!(t instanceof ce))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Yt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new de(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return b.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class de extends Yt{constructor(t,e,n,r){if(!(t instanceof le))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Yt))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class he extends Yt{constructor(t,e){if(!(t instanceof Jt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Jt||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Jt&&(r=t.length),!b.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,o;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Jt&&this.length.encode(r,e,n),r}}var fe=(t,e,n)=>new Qt(t,e,n),pe=t=>new te(4,t),ye=t=>new se(t),me=(t,e,n)=>new ae(t,e,n),ge=(t,e,n)=>new le(t,e,n),we=(t,e)=>new he(t,e);class be{constructor(t){}encode(t,e){switch(d()(t)){case"createAccount":return function({lamports:t,space:e,owner:n}){return _e({createAccount:{lamports:t,space:e,owner:n.toBuffer()}})}(e);case"assign":return function({owner:t}){return _e({assign:{owner:t.toBuffer()}})}(e);case"transfer":return function({lamports:t}){return _e({transfer:{lamports:t}})}(e);case"createAccountWithSeed":return function({base:t,seed:e,lamports:n,space:r,owner:i}){return _e({createAccountWithSeed:{base:t.toBuffer(),seed:e,lamports:n,space:r,owner:i.toBuffer()}},Ae.getVariant(3).span+e.length)}(e);case"advanceNonceAccount":return function({authorized:t}){return _e({advanceNonceAccount:{authorized:t.toBuffer()}})}(e);case"withdrawNonceAccount":return function({lamports:t}){return _e({withdrawNonceAccount:{lamports:t}})}(e);case"initializeNonceAccount":return function({authorized:t}){return _e({initializeNonceAccount:{authorized:t.toBuffer()}})}(e);case"authorizeNonceAccount":return function({authorized:t}){return _e({authorizeNonceAccount:{authorized:t.toBuffer()}})}(e);case"allocate":return function({space:t}){return _e({allocate:{space:t}})}(e);case"allocateWithSeed":return function({base:t,seed:e,space:n,owner:r}){return _e({allocateWithSeed:{base:t.toBuffer(),seed:e,space:n,owner:r.toBuffer()}},Ae.getVariant(9).span+e.length)}(e);case"assignWithSeed":return function({base:t,seed:e,owner:n}){return _e({assignWithSeed:{base:t.toBuffer(),seed:e,owner:n.toBuffer()}},Ae.getVariant(10).span+e.length)}(e);case"transferWithSeed":return function({lamports:t,seed:e,owner:n}){return _e({transferWithSeed:{lamports:t,seed:e,owner:n.toBuffer()}},Ae.getVariant(11).span+e.length)}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("System does not have state")}}class ve extends Xt{constructor(t){super(-1,t),this.property=t,this.layout=me([pe("length"),pe("lengthPadding"),we(fe(pe(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:b.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return pe().span+pe().span+new(s())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function ke(t){return new ve(t)}function Se(t){return we(32,t)}const Ae=ge(pe("instruction"));function _e(t,e){const n=b.alloc(null!=e?e:Ie),r=Ae.encode(t,n);return void 0===e?n.slice(0,r):n}Ae.addVariant(0,me([ye("lamports"),ye("space"),Se("owner")]),"createAccount"),Ae.addVariant(1,me([Se("owner")]),"assign"),Ae.addVariant(2,me([ye("lamports")]),"transfer"),Ae.addVariant(3,me([Se("base"),ke("seed"),ye("lamports"),ye("space"),Se("owner")]),"createAccountWithSeed"),Ae.addVariant(4,me([Se("authorized")]),"advanceNonceAccount"),Ae.addVariant(5,me([ye("lamports")]),"withdrawNonceAccount"),Ae.addVariant(6,me([Se("authorized")]),"initializeNonceAccount"),Ae.addVariant(7,me([Se("authorized")]),"authorizeNonceAccount"),Ae.addVariant(8,me([ye("space")]),"allocate"),Ae.addVariant(9,me([Se("base"),ke("seed"),ye("space"),Se("owner")]),"allocateWithSeed"),Ae.addVariant(10,me([Se("base"),ke("seed"),Se("owner")]),"assignWithSeed"),Ae.addVariant(11,me([ye("lamports"),ke("seed"),Se("owner")]),"transferWithSeed");const Ie=Math.max(...Object.values(Ae.registry).map((t=>t.span)));class Ee{constructor(t){this.idl=t}async encode(t,e){if("nonce"===t){const t=b.alloc(i.NONCE_ACCOUNT_LENGTH),n=Pe.encode(e,t);return t.slice(0,n)}throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){if("nonce"===t)return function(t){return Pe.decode(t)}(e);throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){if("nonce"===t)return{dataSize:i.NONCE_ACCOUNT_LENGTH};throw new Error(`Invalid account name: ${t}`)}size(t){var e;return null!==(e=Kt(this.idl,t))&&void 0!==e?e:0}}class Te extends Xt{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function xe(t){return new Te(we(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}const Pe=me([pe("version"),pe("state"),xe("authorizedPubkey"),xe("nonce"),me([(Me="lamportsPerSignature",new oe(Me))],"feeCalculator")]);var Me;class Oe{constructor(t){}decode(t){throw new Error("System program does not have events")}}class Be{constructor(t){}encode(t,e){throw new Error("System does not have user-defined types")}decode(t,e){throw new Error("System does not have user-defined types")}}class Re{constructor(t){this.instruction=new be(t),this.accounts=new Ee(t),this.events=new Oe(t),this.types=new Be(t)}}var Ce=Object.freeze({__proto__:null,hash:function(t){return(0,h.sha256)(t)}});function Le(t,...e){let n=[r.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof r.Buffer?t:R(t).toBuffer())}));const[o]=i.PublicKey.findProgramAddressSync(n,R(t));return o}var De=Object.freeze({__proto__:null,createWithSeedSync:function(t,e,n){const o=r.Buffer.concat([t.toBuffer(),r.Buffer.from(e),n.toBuffer()]),s=h.sha256.digest(o);return new i.PublicKey(r.Buffer.from(s))},associated:Le});const Ne=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ue=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ze=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:Ue,associatedAddress:function({mint:t,owner:e}){return i.PublicKey.findProgramAddressSync([e.toBuffer(),Ne.toBuffer(),t.toBuffer()],Ue)[0]}}),Ke={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:$t,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function d(t){var e=new FileReader,n=l(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=l(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=o(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[o(t)]},c.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},c.prototype.set=function(t,e){this.map[o(t)]=s(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),a(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),a(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),a(t)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(t,e){var n,r,i=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},f.call(y.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];g.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(t,r){return new Promise((function(i,o){var s=new y(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new g(r,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}b.polyfill=!0,t.fetch||(t.fetch=b,t.Headers=c,t.Request=y,t.Response=g),e.Headers=c,e.Request=y,e.Response=g,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Ke,Ke.exports);var Fe=Zt(Ke.exports);async function je(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=Ve(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Ve(i.data);return o}const We=f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function Ve(t){return We.decode(t)}var qe=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([je(t,e),Fe(r)]),s=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:je,decodeUpgradeableLoaderState:Ve}),He=Object.freeze({__proto__:null,sha256:Ce,rpc:ut,publicKey:De,bytes:P,token:ze,features:vt,registry:qe});function Ge(t){return"accounts"in t}const $e=f.struct([f.publicKey("authority"),f.vecU8("data")]);function Ze(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class Ye{static build(t,e,n){if("_inner"===t.name)throw new kt("the _inner name is reserved");const r=(...o)=>{const[s,a]=Ze(t,[...o]);B(t.accounts,a.accounts);const c=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&c.push(...a.remainingAccounts),bt("debug-logs")&&w.log("Outgoing account metas:",c),new i.TransactionInstruction({keys:c,programId:n,data:e(t.name,O(t,...s))})};return r.accounts=e=>Ye.accountsArray(e,t.accounts,n,t.name),r}static accountsArray(t,e,n,r){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const i=t[e.name];return Ye.accountsArray(i,e.accounts,n,r).flat()}{const i=e;let o;try{o=R(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const s=i.isOptional&&o.equals(n);return{pubkey:o,isWritable:i.isMut&&!s,isSigner:i.isSigner&&!s}}})).flat():[]}}class Xe{static build(t,e){return(...n)=>{var r,o,s;const[,a]=Ze(t,[...n]),c=new i.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=a.preInstructions)||void 0===r||r.forEach((t=>c.add(t))),null===(o=a.instructions)||void 0===o||o.forEach((t=>c.add(t))),c.add(e(...n)),null===(s=a.postInstructions)||void 0===s||s.forEach((t=>c.add(t))),c}}}class Je{static build(t,e,n,r){return async(...i)=>{var o;const s=e(...i),[,a]=Ze(t,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(o=a.signers)&&void 0!==o?o:[],a.options)}catch(t){throw It(t,n)}}}}class Qe{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const s=d()(i.name);o[s]=new tn(t,i,n,r,e)})),o}}class tn{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:yt(),this._coder=null!=i?i:new Gt(t),this._size=this._coder.accounts.size(e)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:r}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:r}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await et(this._provider.connection,t.map((t=>R(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:n}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:n}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof b?t:void 0),n=[];return null!=(null==e?void 0:e.offset)&&null!=(null==e?void 0:e.bytes)&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),null!=(null==e?void 0:e.dataSize)&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=en.get(t.toString());if(n)return n.ee;const r=new(m());t=R(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return en.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=en.get(t.toString());e?en&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{en.delete(t.toString())})).catch(w.error):w.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return i.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await Le(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(R(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(R(t),e)}}const en=new Map,nn="Program log: ",rn="Program data: ",on=nn.length,sn=rn.length;class an{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new cn(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const n of this._eventParser.parseLogs(t.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,e.slot,t.signature)}}))}}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(g.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class cn{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new ln(t),r=new un;let i=n.next();for(;null!==i;){let[t,o,s]=this.handleLog(r,i,e);t&&(yield t),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(nn)||t.startsWith(rn)){const n=t.startsWith(nn)?t.slice(on):t.slice(sn),r=this.coder.events.decode(n);if(e&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class un{constructor(){this.stack=[]}program(){return g.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){g.ok(this.stack.length>0),this.stack.pop()}}class ln{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class dn{static build(t,e,n,r,i,o,s){return async(...a)=>{var c;const u=e(...a),[,l]=Ze(t,[...a]);let d;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await r.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(t){throw It(t,n)}if(void 0===d)throw new Error("Unable to simulate transaction");const h=d.logs;if(!h)throw new Error("Simulated logs not found");const f=[];if(s.events){let t=new cn(o,i);for(const e of t.parseLogs(h))f.push(e)}return{events:f,raw:h}}}}function hn(t){return new yn(we(8),(t=>gn.fromBuffer(t)),(t=>t.toBuffer()),t)}function fn(t){return new yn(we(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function pn(t,e){return new mn(t,e)}class yn extends Xt{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class mn extends Xt{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=pe()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class gn extends(s()){toBuffer(){const t=super.toArray().reverse(),e=b.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=b.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new gn([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const wn=me([fn("mint"),fn("owner"),hn("amount"),pn(fn(),"delegate"),(t=>{const e=ge((t=>new te(1,t))("discriminator"),null,"state");return e.addVariant(0,me([]),"uninitialized"),e.addVariant(1,me([]),"initialized"),e.addVariant(2,me([]),"frozen"),e})(),pn(hn(),"isNative"),hn("delegatedAmount"),pn(fn(),"closeAuthority")]);class bn{constructor(t,e,n,r,i,o,s,a){this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=s,this._customResolver=a,this._args=t,this._accountStore=new vn(n,o,this._programId)}args(t){this._args=t}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveOptionalsHelper(t,e){const n={};for(const r of e){const e=r.name,i=t[e];void 0!==i&&(Sn(i)?Ge(r)?n[e]=this.resolveOptionalsHelper(i,r.accounts):n[e]=An(i,!0):null!==i?n[e]=R(i):r.isOptional&&(n[e]=this._programId))}return n}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach(((r,i)=>{i==t.length-1&&(n[r]=e),n[r]=n[r]||{},n=n[r]}))}async resolveConst(t,e=[]){for(let n=0;n<t.length;n+=1){const r=t[n],i=r.accounts;i&&await this.resolveConst(i,[...e,d()(r.name)]);const o=r,s=d()(r.name);if(o.isSigner&&!this.get([...e,s])){if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...e,s],this._provider.wallet.publicKey)}Reflect.has(bn.CONST_ACCOUNTS,s)&&!this.get([...e,s])&&this.set([...e,s],bn.CONST_ACCOUNTS[s])}}_resolveEventCpi(t,e=[]){for(const n in t){const r=t[n],o=r.accounts;o&&this._resolveEventCpi(o,[...e,d()(r.name)]);const s=+n+1;if(s===t.length)return;const a=d()(t[n].name),c=d()(t[s].name);if("eventAuthority"===a&&"program"===c){const t=[...e,a],n=[...e,c];return this.get(t)||this.set(t,i.PublicKey.findProgramAddressSync([b.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}async resolvePdas(t,e=[]){let n=0;for(let r=0;r<t.length;r+=1){const i=t[r],o=i.accounts;o&&(n+=await this.resolvePdas(o,[...e,d()(i.name)]));const s=i,a=d()(i.name);s.pda&&s.pda.seeds.length>0&&!this.get([...e,a])&&Boolean(await this.autoPopulatePda(s,e))&&(n+=1)}return n}async resolveRelations(t,e=[]){let n=0;for(let r=0;r<t.length;r+=1){const i=t[r],o=i.accounts;o&&(n+=await this.resolveRelations(o,[...e,d()(i.name)]));const s=i.relations||[],a=d()(i.name),c=[...e,a],u=this.get(c);if(u){const t=s.filter((t=>!this.get([...e,d()(t)])));if(n+=t.length,t.length>0){const n=await this._accountStore.fetchAccount({publicKey:u});await Promise.all(t.map((async t=>{const r=d()(t);return this.set([...e,r],n[r]),n[r]})))}}}return n}async autoPopulatePda(t,e=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t,e))));if(n.some((t=>void 0===t)))return;const r=await this.parseProgramId(t,e);if(!r)return;const[o]=await i.PublicKey.findProgramAddress(n,r);this.set([...e,d()(t.name)],o)}async parseProgramId(t,e=[]){var n;if(!(null===(n=t.pda)||void 0===n?void 0:n.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,e);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}getType(t,e=[]){if(e.length>0&&t.defined){const n=this._idlTypes.find((e=>e.name===t.defined));if(!n)throw new Error(`Cannot find type ${t.defined}`);const r=n.type.fields.find((t=>t.name===e[0]));return this.getType(r.type,e.slice(1))}return t}toBufferConst(t){return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),t.value)}async toBufferArg(t){const e=this.argValue(t);if(void 0!==e)return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),e)}argValue(t){const e=t.path.split("."),n=d()(e[0]),r=this._idlIx.args.findIndex((t=>t.name===n));if(-1===r)throw new Error(`Unable to find argument for seed: ${n}`);return e.slice(1).reduce(((t,e)=>(t||{})[e]),this._args[r])}async toBufferAccount(t,e=[]){const n=await this.accountValue(t,e);if(n)return this.toBufferValue(t.type,n)}async accountValue(t,e=[]){const n=t.path.split("."),r=n[0],i=this.get([...e,d()(r)]);if(null===i)throw new Error("fieldPubkey is null");if(1===n.length)return i;const o=await this._accountStore.fetchAccount({publicKey:i,name:t.account});return this.parseAccountValue(o,n.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[d()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return b.from([e]);case"u16":let n=b.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=b.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=b.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return b.from(A(e));case"publicKey":return e.toBuffer();default:if(t.array)return b.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}bn.CONST_ACCOUNTS={associatedTokenProgram:Ue,rent:i.SYSVAR_RENT_PUBKEY,systemProgram:i.SystemProgram.programId,tokenProgram:Ne,clock:i.SYSVAR_CLOCK_PUBKEY};class vn{constructor(t,e,n){this._provider=t,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async ensureIdl(t){if(!this._idls[t.toBase58()]){const e=await Tn.fetchIdl(t,this._provider);if(e){const n=new Tn(e,t,this._provider);this._idls[t.toBase58()]=n.account}}return this._idls[t.toBase58()]}async fetchAccount({publicKey:t,name:e,programId:n=this._programId}){const r=t.toString();if(!this._cache.has(r))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=(i=e.data,wn.decode(i));this._cache.set(r,n)}else if(e){const i=await this.ensureIdl(n);if(i){const n=i[d()(e)];if(n){const e=await n.fetch(t);this._cache.set(r,e)}}}else{const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=e.data,i=await this.ensureIdl(e.owner);if(i){const t=Object.values(i)[0];if(!t)throw new Error("No accounts for this program");const e=t.coder.accounts.decodeAny(n);this._cache.set(r,e)}}var i;return this._cache.get(r)}}class kn{static build(t,e,n,r,i,o,s,a,c,u,l){return(...d)=>new _n(d,r,i,o,s,a,t,e,n,c,u,l)}}function Sn(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}function An(t,e){const n={};for(const r in t){const i=t[r];if(null!==i)n[r]=Sn(i)?An(i,!0):R(i);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class _n{constructor(t,e,n,r,i,o,s,a,c,u,l,d){this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=o,this._programId=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=t,this._accountsResolver=new bn(t,this._accounts,s,a,c,u,l,d)}args(t){this._args=t,this._accountsResolver.args(t)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class In{static build(t,e,n,r){const i=e.accounts.find((t=>t.isMut)),o=!!e.returns;if(i||!o)return;return async(...i)=>{var o,s;let a=await n(...i);const c=`Program return: ${t} `;let u=a.raw.find((t=>t.startsWith(c)));if(!u)throw new Error("View expected return log");let l=T(u.slice(c.length)),d=e.returns;if(!d)throw new Error("View expected return type");return Lt.fieldLayout({type:d},Array.from([...null!==(o=r.accounts)&&void 0!==o?o:[],...null!==(s=r.types)&&void 0!==s?s:[]])).decode(l)}}}class En{static build(t,e,n,r,i){const o={},s={},a={},c={},u={},l={},h=M(t),f=t.accounts?Qe.build(t,e,n,r):{};return t.instructions.forEach((p=>{const y=Ye.build(p,((t,n)=>e.instruction.encode(t,n)),n),m=Xe.build(p,y),g=Je.build(p,m,h,r),w=dn.build(p,m,h,r,e,n,t),b=In.build(n,p,w,t),v=kn.build(r,n,p,y,m,g,w,b,f,t.types||[],i&&i(p)),k=d()(p.name);s[k]=y,a[k]=m,o[k]=g,c[k]=w,u[k]=v,b&&(l[k]=b)})),[o,s,a,f,c,u,l]}}class Tn{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e,n,r,i){e=R(e),n||(n=yt()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new Gt(t),this._events=new an(this._programId,n,this._coder);const[o,s,a,c,u,l,d]=En.build(t,this._coder,e,n,null!=i?i:()=>{});this.rpc=o,this.instruction=s,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.views=d}static async at(t,e){const n=R(t),r=await Tn.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Tn(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:yt();const n=R(t),r=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),o=await e.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),$e.decode(a));var a;const c=(0,p.rr)(s.data);return JSON.parse(S(c))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}const xn=new i.PublicKey("11111111111111111111111111111111");function Pn(t){return new Tn(Mn,xn,t,new Re(Mn))}const Mn={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class On{static system(t){return Pn(t)}}},9864:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5872),i=n(9243),o=n(530);class s{constructor(t){this.payer=t}static local(){const t=n(4224);if(!t.env.ANCHOR_WALLET||""===t.env.ANCHOR_WALLET)throw new Error("expected environment variable `ANCHOR_WALLET` is not set.");const e=i.Keypair.fromSecretKey(r.Buffer.from(JSON.parse(n(1450).readFileSync(t.env.ANCHOR_WALLET,{encoding:"utf-8"}))));return new s(e)}async signTransaction(t){return(0,o.isVersionedTransaction)(t)?t.sign([this.payer]):t.partialSign(this.payer),t}async signAllTransactions(t){return t.map((t=>((0,o.isVersionedTransaction)(t)?t.sign([this.payer]):t.partialSign(this.payer),t)))}get publicKey(){return this.payer.publicKey}}e.default=s},530:(t,e,n)=>{"use strict";var r,i=n(4224);Object.defineProperty(e,"__esModule",{value:!0}),e.isVersionedTransaction=e.chunks=e.isBrowser=void 0,e.isBrowser=i.env.ANCHOR_BROWSER||"undefined"!=typeof window&&!(null===(r=window.process)||void 0===r?void 0:r.hasOwnProperty("type")),e.chunks=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))};e.isVersionedTransaction=t=>"version"in t},1466:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const o=n(4104),s=n(9243),a=i(n(9098));var c=n(4104);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends o.Layout{constructor(t,e,n){super(t,n),this.blob=(0,o.blob)(t),this.signed=e}decode(t,e=0){const n=new a.default(this.blob.decode(t,e),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,e,n=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(r,"le",this.span),e,n)}}function l(t){return new u(8,!1,t)}e.u64=l,e.i64=function(t){return new u(8,!0,t)},e.u128=function(t){return new u(16,!1,t)},e.i128=function(t){return new u(16,!0,t)},e.u256=function(t){return new u(32,!1,t)},e.i256=function(t){return new u(32,!0,t)};class d extends o.Layout{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new d((0,o.blob)(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends o.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,o.u8)()}encode(t,e,n=0){return null==t?this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+1)+1)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return 1;if(1===n)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function f(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function p(t){return t?1:0}function y(t){const e=(0,o.u32)("length"),n=(0,o.struct)([e,(0,o.blob)((0,o.offset)(e,-e.span),"data")]);return new d(n,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new d((0,o.u8)(),f,p,t)},e.vec=function(t,e){const n=(0,o.u32)("length"),r=(0,o.struct)([n,(0,o.seq)(t,(0,o.offset)(n,-n.span),"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,n){const r=(0,o.struct)([l("tag"),e.replicate("data")]);return new d(r,(function({tag:e,data:n}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return n}),(e=>({tag:t,data:e})),n)},e.vecU8=y,e.str=function(t){return new d(y(),(t=>t.toString("utf-8")),(t=>r.from(t,"utf-8")),t)},e.rustEnum=function(t,e,n){const r=(0,o.union)(null!=n?n:(0,o.u8)(),e);return t.forEach(((t,e)=>r.addVariant(e,t,t.property))),r},e.array=function(t,e,n){const r=(0,o.struct)([(0,o.seq)(t,e,"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),n)};class m extends o.Layout{constructor(t,e,n){super(t.span+e.span,n),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,n){n=n||0;const r=this.keyLayout.encode(t[0],e,n);return r+this.valueLayout.encode(t[1],e,n+r)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,n){const r=(0,o.u32)("length"),i=(0,o.struct)([r,(0,o.seq)(new m(t,e),(0,o.offset)(r,-r.span),"values")]);return new d(i,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),n)}},7947:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const o=n(4104),s=n(9243),a=i(n(9098));var c=n(4104);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends o.Layout{constructor(t,e,n){super(t,n),this.blob=(0,o.blob)(t),this.signed=e}decode(t,e=0){const n=new a.default(this.blob.decode(t,e),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,e,n=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(r,"le",this.span),e,n)}}function l(t){return new u(8,!1,t)}e.u64=l,e.i64=function(t){return new u(8,!0,t)},e.u128=function(t){return new u(16,!1,t)},e.i128=function(t){return new u(16,!0,t)},e.u256=function(t){return new u(32,!1,t)},e.i256=function(t){return new u(32,!0,t)};class d extends o.Layout{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new d((0,o.blob)(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends o.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,o.u8)()}encode(t,e,n=0){return null==t?this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+1)+1)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return 1;if(1===n)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function f(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function p(t){return t?1:0}function y(t){const e=(0,o.u32)("length"),n=(0,o.struct)([e,(0,o.blob)((0,o.offset)(e,-e.span),"data")]);return new d(n,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new d((0,o.u8)(),f,p,t)},e.vec=function(t,e){const n=(0,o.u32)("length"),r=(0,o.struct)([n,(0,o.seq)(t,(0,o.offset)(n,-n.span),"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,n){const r=(0,o.struct)([l("tag"),e.replicate("data")]);return new d(r,(function({tag:e,data:n}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return n}),(e=>({tag:t,data:e})),n)},e.vecU8=y,e.str=function(t){return new d(y(),(t=>t.toString("utf-8")),(t=>r.from(t,"utf-8")),t)},e.rustEnum=function(t,e,n){const r=(0,o.union)(null!=n?n:(0,o.u8)(),e);return t.forEach(((t,e)=>r.addVariant(e,t,t.property))),r},e.array=function(t,e,n){const r=(0,o.struct)([(0,o.seq)(t,e,"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),n)};class m extends o.Layout{constructor(t,e,n){super(t.span+e.span,n),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,n){n=n||0;const r=this.keyLayout.encode(t[0],e,n);return r+this.valueLayout.encode(t[1],e,n+r)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,n){const r=(0,o.u32)("length"),i=(0,o.struct)([r,(0,o.seq)(new m(t,e),(0,o.offset)(r,-r.span),"values")]);return new d(i,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),n)}},6469:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDL=void 0,e.IDL={version:"0.1.0",name:"directed_stake",constants:[{name:"STAKE_DIRECTION_SEED",type:"bytes",value:"[115, 116, 97, 107, 101, 45, 100, 105, 114, 101, 99, 116, 105, 111, 110]"}],instructions:[{name:"createVote",accounts:[{name:"voteRecord",isMut:!0,isSigner:!1,docs:["vote record that will be created"]},{name:"owner",isMut:!1,isSigner:!0,docs:["pubkey that the directed stake vote record will be created for"]},{name:"root",isMut:!0,isSigner:!1,docs:["root account that the vote record belongs under"]},{name:"rentPayer",isMut:!0,isSigner:!0,docs:["rent payer for creation of the vote record account"]},{name:"validatorVote",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateVote",accounts:[{name:"voteRecord",isMut:!0,isSigner:!1,docs:["vote record that will be updated"]},{name:"owner",isMut:!1,isSigner:!0,docs:["pubkey that the directed stake vote record belongs to"]},{name:"validatorVote",isMut:!1,isSigner:!1}],args:[]},{name:"removeVote",accounts:[{name:"voteRecord",isMut:!0,isSigner:!1,docs:["vote record that will be closed"]},{name:"owner",isMut:!1,isSigner:!0,docs:["pubkey that the directed stake vote record belongs to"]},{name:"root",isMut:!0,isSigner:!1,docs:["root account the directed stake vote record PDA account was derived from"]},{name:"rentCollector",isMut:!0,isSigner:!1,docs:["account to obtain rent for closing the vote record account"]}],args:[]},{name:"createRoot",accounts:[{name:"root",isMut:!0,isSigner:!0,docs:["root account that will be created"]},{name:"rentPayer",isMut:!0,isSigner:!0,docs:["to deduct rent for account creation from"]},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"root",docs:["Directed Stake Root account","Used as a root account for PDA calculation of the vote record accounts, storing a statistic information."],type:{kind:"struct",fields:[{name:"voteCount",docs:["how many vote records created the directed stake contract with this root account"],type:"u64"}]}},{name:"voteRecord",docs:["Account storing information to direct the stake directly to a validator","An user can create one vote record account directing to a validator"],type:{kind:"struct",fields:[{name:"root",docs:["root account that the vote record belongs under"],type:"publicKey"},{name:"owner",docs:["the pubkey that the directed stake vote recorded will be created for"],type:"publicKey"},{name:"validatorVote",docs:["validator vote account that the owner's stake directs to"],type:"publicKey"},{name:"bump",docs:["PDA bump this account was created with"],type:"u8"}]}}],events:[{name:"CreateRootEvent",fields:[{name:"root",type:"publicKey",index:!1}]},{name:"CreateVoteRecordEvent",fields:[{name:"root",type:"publicKey",index:!1},{name:"validatorVote",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"bump",type:"u8",index:!1},{name:"newVoteCount",type:"u64",index:!1}]},{name:"RemoveVoteRecordEvent",fields:[{name:"root",type:"publicKey",index:!1},{name:"validatorVote",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"newVoteCount",type:"u64",index:!1}]},{name:"UpdateVoteRecordEvent",fields:[{name:"root",type:"publicKey",index:!1},{name:"oldValidatorVote",type:"publicKey",index:!1},{name:"newValidatorVote",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1}]}],errors:[{code:6e3,name:"InvalidVoteProgram",msg:"Account not owned by Solana Vote program"},{code:6001,name:"InvalidValidatorVoteAccount",msg:"Account is has not a correct validator vote account"}]}},6762:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.voteRecordAddress=void 0;const r=n(9679),i=n(9243),o=n(2209);e.voteRecordAddress=function({directedStakeProgramId:t=new i.PublicKey(o.DEFAULT_DIRECTED_STAKE_PROGRAM_ID),root:e,owner:n}){const[s,a]=i.PublicKey.findProgramAddressSync([(0,r.encode)(o.DIRECTED_STAKE_SEED),e.toBytes(),n.toBytes()],t);return{address:s,bump:a}}},376:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findVoteRecords=e.root=e.voteRecord=void 0,e.voteRecord=async function({sdk:t,address:e}){return t.program.account.voteRecord.fetch(e)},e.root=async function({sdk:t,address:e}){return t.program.account.root.fetch(e)},e.findVoteRecords=async function({sdk:t,root:e,owner:n,validatorVote:r}){const i=[];return e&&i.push({memcmp:{bytes:e.toBase58(),offset:8}}),n&&i.push({memcmp:{bytes:n.toBase58(),offset:40}}),r&&i.push({memcmp:{bytes:r.toBase58(),offset:72}}),await t.program.account.voteRecord.all(i)}},4916:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(2209),e),i(n(376),e),i(n(6762),e),i(n(5392),e),i(n(1993),e),i(n(5893),e),i(n(4450),e)},2209:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DirectedStakeSdk=e.UPDATE_VOTE_RECORD_EVENT=e.REMOVE_VOTE_RECORD_EVENT=e.CREATE_VOTE_RECORD_EVENT=e.CREATE_ROOT_EVENT=e.DIRECTED_STAKE_SEED=e.DEFAULT_DIRECTED_STAKE_ROOT=e.DEFAULT_DIRECTED_STAKE_PROGRAM_ID=void 0;const a=o(n(6469)),c=n(9908),u=n(9243),l=s(n(9631)),d=a.IDL;e.DEFAULT_DIRECTED_STAKE_PROGRAM_ID="dstK1PDHNoKN9MdmftRzsEbXP5T1FTBiQBm1Ee3meVd",e.DEFAULT_DIRECTED_STAKE_ROOT="DrooToPS3MLqgZwBiK2fkAPUTUgKNV3CGb2NqFRAL4Zf",e.DIRECTED_STAKE_SEED="stake-direction",e.CREATE_ROOT_EVENT="CreateRootEvent",e.CREATE_VOTE_RECORD_EVENT="CreateVoteRecordEvent",e.REMOVE_VOTE_RECORD_EVENT="RemoveVoteRecordEvent",e.UPDATE_VOTE_RECORD_EVENT="UpdateVoteRecordEvent";e.DirectedStakeSdk=class{constructor({programId:t=new u.PublicKey(e.DEFAULT_DIRECTED_STAKE_PROGRAM_ID),connection:n,wallet:r,opts:i={}}){this.program=this.getProgram({programId:t,connection:n,wallet:r,opts:i})}getProgram({connection:t,wallet:e,opts:n,programId:r}){e instanceof u.Keypair&&(e=new l.default(e));const i=new c.AnchorProvider(t,e,n);return new c.Program(d,r,i)}}},4450:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateRoot=void 0;const r=n(9243);e.withCreateRoot=async function({sdk:t,root:e,rentPayer:n}){return n=n||t.program.provider.publicKey,{instruction:await t.program.methods.createRoot().accountsStrict({root:e,rentPayer:n,systemProgram:r.SystemProgram.programId}).instruction()}}},5392:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateVote=void 0;const r=n(9243),i=n(2209),o=n(6762);e.withCreateVote=async function({sdk:t,root:e=new r.PublicKey(i.DEFAULT_DIRECTED_STAKE_ROOT),validatorVote:n,rentPayer:s}){const a=t.program.provider.publicKey;s=s||t.program.provider.publicKey;const c=(0,o.voteRecordAddress)({directedStakeProgramId:t.program.programId,root:e,owner:a}).address;return{address:c,instruction:await t.program.methods.createVote().accountsStrict({voteRecord:c,root:e,owner:a,validatorVote:n,rentPayer:s,systemProgram:r.SystemProgram.programId}).instruction()}}},1993:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withRemoveVote=void 0;const r=n(9243),i=n(2209),o=n(6762),s=n(376);e.withRemoveVote=async function({sdk:t,voteRecord:e,root:n=new r.PublicKey(i.DEFAULT_DIRECTED_STAKE_ROOT),rentCollector:a}){const c=t.program.provider.publicKey;if(!e&&!n)throw new Error("voteRecord or root must be provided to do removeVote");if(!e&&n)e=(0,o.voteRecordAddress)({directedStakeProgramId:t.program.programId,root:n,owner:c}).address;else if(e&&!n){const r=await(0,s.voteRecord)({address:e,sdk:t});n=n||r.root}return a=a||t.program.provider.publicKey,{instruction:await t.program.methods.removeVote().accountsStrict({root:n,owner:c,voteRecord:e,rentCollector:a}).instruction()}}},5893:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withUpdateVote=void 0;const r=n(9243),i=n(2209),o=n(6762);e.withUpdateVote=async function({sdk:t,voteRecord:e,root:n=new r.PublicKey(i.DEFAULT_DIRECTED_STAKE_ROOT),validatorVote:s}){const a=t.program.provider.publicKey;if(!e&&!n)throw new Error("voteRecord or root with owner must be provided to do updateVote");return!e&&n&&(e=(0,o.voteRecordAddress)({directedStakeProgramId:t.program.programId,root:n,owner:a}).address),{instruction:await t.program.methods.updateVote().accountsStrict({voteRecord:e,owner:a,validatorVote:s}).instruction()}}},2724:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const o=n(4104),s=n(9243),a=i(n(9098));var c=n(4104);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends o.Layout{constructor(t,e,n){super(t,n),this.blob=o.blob(t),this.signed=e}decode(t,e=0){const n=new a.default(this.blob.decode(t,e),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,e,n=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(r,"le",this.span),e,n)}}function l(t){return new u(8,!1,t)}e.u64=l,e.i64=function(t){return new u(8,!0,t)},e.u128=function(t){return new u(16,!1,t)},e.i128=function(t){return new u(16,!0,t)};class d extends o.Layout{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new d(o.blob(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends o.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=o.u8()}encode(t,e,n=0){return null==t?this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+1)+1)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return 1;if(1===n)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function f(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function p(t){return t?1:0}function y(t){const e=o.u32("length"),n=o.struct([e,o.blob(o.offset(e,-e.span),"data")]);return new d(n,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new d(o.u8(),f,p,t)},e.vec=function(t,e){const n=o.u32("length"),r=o.struct([n,o.seq(t,o.offset(n,-n.span),"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,n){const r=o.struct([l("tag"),e.replicate("data")]);return new d(r,(function({tag:e,data:n}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return n}),(e=>({tag:t,data:e})),n)},e.vecU8=y,e.str=function(t){return new d(y(),(t=>t.toString("utf-8")),(t=>r.from(t,"utf-8")),t)},e.rustEnum=function(t,e,n){const r=o.union(null!=n?n:o.u8(),e);return t.forEach(((t,e)=>r.addVariant(e,t,t.property))),r},e.array=function(t,e,n){const r=o.struct([o.seq(t,e,"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),n)};class m extends o.Layout{constructor(t,e,n){super(t.span+e.span,n),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,n){n=n||0;const r=this.keyLayout.encode(t[0],e,n);return r+this.valueLayout.encode(t[1],e,n+r)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,n){const r=o.u32("length"),i=o.struct([r,o.seq(new m(t,e),o.offset(r,-r.span),"values")]);return new d(i,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),n)}},4639:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.s16=e.s8=e.nu64be=e.u48be=e.u40be=e.u32be=e.u24be=e.u16be=e.nu64=e.u48=e.u40=e.u32=e.u24=e.u16=e.u8=e.offset=e.greedy=e.Constant=e.UTF8=e.CString=e.Blob=e.Boolean=e.BitField=e.BitStructure=e.VariantLayout=e.Union=e.UnionLayoutDiscriminator=e.UnionDiscriminator=e.Structure=e.Sequence=e.DoubleBE=e.Double=e.FloatBE=e.Float=e.NearInt64BE=e.NearInt64=e.NearUInt64BE=e.NearUInt64=e.IntBE=e.Int=e.UIntBE=e.UInt=e.OffsetLayout=e.GreedyCount=e.ExternalLayout=e.bindConstructorLayout=e.nameWithProperty=e.Layout=e.uint8ArrayToBuffer=e.checkUint8Array=void 0,e.constant=e.utf8=e.cstr=e.blob=e.unionLayoutDiscriminator=e.union=e.seq=e.bits=e.struct=e.f64be=e.f64=e.f32be=e.f32=e.ns64be=e.s48be=e.s40be=e.s32be=e.s24be=e.s16be=e.ns64=e.s48=e.s40=e.s32=e.s24=void 0;const r=n(5872);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(t){return i(t),r.Buffer.from(t.buffer,t.byteOffset,t.length)}e.checkUint8Array=i,e.uint8ArrayToBuffer=o;class s{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=s,e.nameWithProperty=a,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof s))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:(t,n)=>e.decode(t,n),writable:!0})};class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}e.ExternalLayout=c;class u extends c{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){i(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}e.GreedyCount=u;class l extends c{constructor(t,e=0,n){if(!(t instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}e.OffsetLayout=l;class d extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntLE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntLE(t,n,this.span),this.span}}e.UInt=d;class h extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntBE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntBE(t,n,this.span),this.span}}e.UIntBE=h;class f extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readIntLE(e,this.span)}encode(t,e,n=0){return o(e).writeIntLE(t,n,this.span),this.span}}e.Int=f;class p extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readIntBE(e,this.span)}encode(t,e,n=0){return o(e).writeIntBE(t,n,this.span),this.span}}e.IntBE=p;const y=Math.pow(2,32);function m(t){const e=Math.floor(t/y);return{hi32:e,lo32:t-e*y}}function g(t,e){return t*y+e}class w extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return g(n.readUInt32LE(e+4),r)}encode(t,e,n=0){const r=m(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}e.NearUInt64=w;class b extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t);return g(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=m(t),i=o(e);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}e.NearUInt64BE=b;class v extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return g(n.readInt32LE(e+4),r)}encode(t,e,n=0){const r=m(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}e.NearInt64=v;class k extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t);return g(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=m(t),i=o(e);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}e.NearInt64BE=k;class S extends s{constructor(t){super(4,t)}decode(t,e=0){return o(t).readFloatLE(e)}encode(t,e,n=0){return o(e).writeFloatLE(t,n),4}}e.Float=S;class A extends s{constructor(t){super(4,t)}decode(t,e=0){return o(t).readFloatBE(e)}encode(t,e,n=0){return o(e).writeFloatBE(t,n),4}}e.FloatBE=A;class _ extends s{constructor(t){super(8,t)}decode(t,e=0){return o(t).readDoubleLE(e)}encode(t,e,n=0){return o(e).writeDoubleLE(t,n),8}}e.Double=_;class I extends s{constructor(t){super(8,t)}decode(t,e=0){return o(t).readDoubleBE(e)}encode(t,e,n=0){return o(e).writeDoubleBE(t,n),8}}e.DoubleBE=I;class E extends s{constructor(t,e,n){if(!(t instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof c)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof c&&this.count.encode(t.length,e,n),i}}e.Sequence=E;class T extends s{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e=0){i(t);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}e.Structure=T;class x{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}e.UnionDiscriminator=x;class P extends x{constructor(t,e){if(!(t instanceof c&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}e.UnionLayoutDiscriminator=P;class M extends s{constructor(t,e,n){let r;if(t instanceof d||t instanceof h)r=new P(new l(t));else if(t instanceof c&&t.isCount())r=new P(t);else{if(!(t instanceof x))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=t}if(void 0===e&&(e=null),!(null===e||e instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof d||t instanceof h)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=t instanceof d||t instanceof h,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const r=this.discriminator,i=r.decode(t,e),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=o.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n=0){const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new O(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}e.Union=M;class O extends s{constructor(t,e,n,r){if(!(t instanceof M))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof s))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(t,e+n)),n+r}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function B(t){return 0>t&&(t+=4294967296),t}e.VariantLayout=O;class R extends s{constructor(t,e,n){if(!(t instanceof d||t instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=B(t),this},this._packedGetValue=function(){return r}}decode(t,e=0){const n=this.makeDestinationObject(),r=this.word.decode(t,e);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(t));return n}encode(t,e,n=0){const r=this.word.decode(e,n);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const n=t[e.property];void 0!==n&&e.encode(n)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new C(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new L(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}e.BitStructure=R;class C{constructor(t,e,n){if(!(t instanceof R))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=B(this.valueMask<<this.start),this.property=n}decode(t,e){return B(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==B(t&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=B(t<<this.start);this.container._packedSetValue(B(e&~this.wordMask)|n)}}e.BitField=C;class L extends C{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}}e.Boolean=L;class D extends s{constructor(t,e){if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof c||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),o(t).slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof c&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");const i=o(t);return o(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,e,n),r}}e.Blob=D;class N extends s{constructor(t){super(-1,t)}getSpan(t,e=0){i(t);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return o(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const i=r.Buffer.from(t,"utf8"),s=i.length;if(n+s>e.length)throw new RangeError("encoding overruns Buffer");const a=o(e);return i.copy(a,n),a[n+s]=0,s+1}}e.CString=N;class U extends s{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return i(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return o(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const i=r.Buffer.from(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(e),n),s}}e.UTF8=U;class z extends s{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}e.Constant=z,e.greedy=(t,e)=>new u(t,e),e.offset=(t,e,n)=>new l(t,e,n),e.u8=t=>new d(1,t),e.u16=t=>new d(2,t),e.u24=t=>new d(3,t),e.u32=t=>new d(4,t),e.u40=t=>new d(5,t),e.u48=t=>new d(6,t),e.nu64=t=>new w(t),e.u16be=t=>new h(2,t),e.u24be=t=>new h(3,t),e.u32be=t=>new h(4,t),e.u40be=t=>new h(5,t),e.u48be=t=>new h(6,t),e.nu64be=t=>new b(t),e.s8=t=>new f(1,t),e.s16=t=>new f(2,t),e.s24=t=>new f(3,t),e.s32=t=>new f(4,t),e.s40=t=>new f(5,t),e.s48=t=>new f(6,t),e.ns64=t=>new v(t),e.s16be=t=>new p(2,t),e.s24be=t=>new p(3,t),e.s32be=t=>new p(4,t),e.s40be=t=>new p(5,t),e.s48be=t=>new p(6,t),e.ns64be=t=>new k(t),e.f32=t=>new S(t),e.f32be=t=>new A(t),e.f64=t=>new _(t),e.f64be=t=>new I(t),e.struct=(t,e,n)=>new T(t,e,n),e.bits=(t,e,n)=>new R(t,e,n),e.seq=(t,e,n)=>new E(t,e,n),e.union=(t,e,n)=>new M(t,e,n),e.unionLayoutDiscriminator=(t,e)=>new P(t,e),e.blob=(t,e)=>new D(t,e),e.cstr=t=>new N(t),e.utf8=(t,e)=>new U(t,e),e.constant=(t,e)=>new z(t,e)},9397:(t,e,n)=>{"use strict";n.r(e),n.d(e,{STAKE_POOL_INSTRUCTION_LAYOUTS:()=>ln,STAKE_POOL_PROGRAM_ID:()=>pe,StakePoolInstruction:()=>dn,decreaseValidatorStake:()=>vn,depositSol:()=>mn,depositStake:()=>yn,getStakeAccount:()=>fn,getStakePoolAccount:()=>hn,getStakePoolAccounts:()=>pn,increaseValidatorStake:()=>bn,stakePoolInfo:()=>Sn,updateStakePool:()=>kn,withdrawSol:()=>wn,withdrawStake:()=>gn});var r=n(9243);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}function s(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}for(var a=n(9098),c=n.n(a),u=n(9500),l={},d={byteLength:function(t){var e=w(t),n=e[0],r=e[1];return 3*(n+r)/4-r},toByteArray:function(t){var e,n,r=w(t),i=r[0],o=r[1],s=new p(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)e=f[t.charCodeAt(n)]<<18|f[t.charCodeAt(n+1)]<<12|f[t.charCodeAt(n+2)]<<6|f[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===o&&(e=f[t.charCodeAt(n)]<<2|f[t.charCodeAt(n+1)]>>4,s[a++]=255&e);1===o&&(e=f[t.charCodeAt(n)]<<10|f[t.charCodeAt(n+1)]<<4|f[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},fromByteArray:function(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(b(t,s,s+o>a?a:s+o));1===r?(e=t[n-1],i.push(h[e>>2]+h[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(h[e>>10]+h[e>>4&63]+h[e<<2&63]+"="));return i.join("")}},h=[],f=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,g=y.length;m<g;++m)h[m]=y[m],f[y.charCodeAt(m)]=m;function w(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function b(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(h[(i=r)>>18&63]+h[i>>12&63]+h[i>>6&63]+h[63&i]);return o.join("")}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;var v={read:function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+d],d+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+d],d+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},write:function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+f]=255&s,f+=p,s/=256,u-=8);t[n+f-p]|=128*y}};!function(t){const e=d,n=v,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},t.INSPECT_MAX_BYTES=50;const i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|y(t,e);let r=o(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return s.from(r,e,n);const i=function(t){if(s.isBuffer(t)){const e=0|p(t.length),n=o(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||X(t.length)?o(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return c(t),o(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=o(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,s.prototype),r}function p(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function y(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(i)return r?-1:G(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function k(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(X(r))return s;t[n+s]=r}return s}function S(t,e,n,r){return Z(G(e,t.length-n),t,n,r)}function A(t,e,n,r){return Z(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return Z($(e),t,n,r)}function I(t,e,n,r){return Z(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n}(r)}t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||void 0===u||"function"!=typeof u.error||u.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,n){return a(t,e,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?o(t):void 0!==e?"string"==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}(t,e,n)},s.allocUnsafe=function(t){return l(t)},s.allocUnsafeSlow=function(t){return l(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(Y(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=s.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))i+e.length>r.length?(s.isBuffer(e)||(e=s.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!s.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(t,e,n,r,i){if(Y(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const c=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<c;++t)if(u[t]!==l[t]){o=u[t],a=l[t];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return k(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":case"latin1":case"binary":return A(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function P(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function M(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=J[t[r]];return i}function B(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function D(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,r,i,o){return e=+e,r>>>=0,o||N(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function z(t,e,r,i,o){return e=+e,r>>>=0,o||N(t,0,r,8),n.write(t,e,r,i,52,8),r+8}s.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),s.prototype.readBigUInt64BE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),s.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),s.prototype.readBigInt64BE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),s.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){C(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){C(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigUInt64LE=Q((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=Q((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigInt64LE=Q((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=Q((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=s.isBuffer(t)?t:s.from(t,r),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};const K={};function F(t,e,n){K[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function W(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new K.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||q(e,t.length-(n+1))}(r,i,o)}function V(t,e){if("number"!=typeof t)throw new K.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,n){if(Math.floor(t)!==t)throw V(t,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=j(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?tt:t}function tt(){throw new Error("BigInt not supported")}}(l);var k=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},S="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};function A(t,e){var n={seen:[],stylize:I};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),P(e)?n.showHidden=e:e&&function(t,e){if(!e||!C(e))return t;var n=Object.keys(e),r=n.length;for(;r--;)t[n[r]]=e[n[r]]}(n,e),B(n.showHidden)&&(n.showHidden=!1),B(n.depth)&&(n.depth=2),B(n.colors)&&(n.colors=!1),B(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=_),E(n,t,n.depth)}function _(t,e){var n=A.styles[e];return n?"["+A.colors[n][0]+"m"+t+"["+A.colors[n][1]+"m":t}function I(t,e){return t}function E(t,e,n){if(t.customInspect&&e&&N(e.inspect)&&e.inspect!==A&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return O(r)||(r=E(t,r,n)),r}var i=function(t,e){if(B(e))return t.stylize("undefined","undefined");if(O(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(r=e,"number"==typeof r)return t.stylize(""+e,"number");var r;if(P(e))return t.stylize(""+e,"boolean");if(M(e))return t.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),D(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return T(e);if(0===o.length){if(N(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(R(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(L(e))return t.stylize(Date.prototype.toString.call(e),"date");if(D(e))return T(e)}var c,u,l="",d=!1,h=["{","}"];(c=e,Array.isArray(c)&&(d=!0,h=["[","]"]),N(e))&&(l=" [Function"+(e.name?": "+e.name:"")+"]");return R(e)&&(l=" "+RegExp.prototype.toString.call(e)),L(e)&&(l=" "+Date.prototype.toUTCString.call(e)),D(e)&&(l=" "+T(e)),0!==o.length||d&&0!=e.length?n<0?R(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=d?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)K(e,String(s))?o.push(x(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(x(t,e,n,r,i,!0))})),o}(t,e,n,s,o):o.map((function(r){return x(t,e,n,s,r,d)})),t.seen.pop(),function(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,l,h)):h[0]+l+h[1]}function T(t){return"["+Error.prototype.toString.call(t)+"]"}function x(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),K(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=M(n)?E(t,c.value,null):E(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),B(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function P(t){return"boolean"==typeof t}function M(t){return null===t}function O(t){return"string"==typeof t}function B(t){return void 0===t}function R(t){return C(t)&&"[object RegExp]"===z(t)}function C(t){return"object"==typeof t&&null!==t}function L(t){return C(t)&&"[object Date]"===z(t)}function D(t){return C(t)&&("[object Error]"===z(t)||t instanceof Error)}function N(t){return"function"==typeof t}function U(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function z(t){return Object.prototype.toString.call(t)}function K(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}A.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},A.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var j,W=Object.prototype.hasOwnProperty,V=Object.keys||function(t){var e=[];for(var n in t)W.call(t,n)&&e.push(n);return e},q=Array.prototype.slice;function H(){return void 0!==j?j:j="foo"===function(){}.name}function G(t){return Object.prototype.toString.call(t)}function $(t){return!l.isBuffer(t)&&("function"==typeof k.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function Z(t,e){t||et(t,!0,e,"==",nt)}var Y=/\s*function\s+([^\(\s]*)\s*/;function X(t){if(N(t)){if(H())return t.name;var e=t.toString().match(Y);return e&&e[1]}}function J(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return Q(tt(t.actual),128)+" "+t.operator+" "+Q(tt(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||et;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=X(e),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}}function Q(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function tt(t){if(H()||!N(t))return A(t);var e=X(t);return"[Function"+(e?": "+e:"")+"]"}function et(t,e,n,r,i){throw new J({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function nt(t,e){t||et(t,!0,e,"==",nt)}function rt(t,e,n,r){if(t===e)return!0;if(l.isBuffer(t)&&l.isBuffer(e))return 0===F(t,e);if(L(t)&&L(e))return t.getTime()===e.getTime();if(R(t)&&R(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if($(t)&&$(e)&&G(t)===G(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===F(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(l.isBuffer(t)!==l.isBuffer(e))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(U(t)||U(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=it(t),o=it(e);if(i&&!o||!i&&o)return!1;if(i)return rt(t=q.call(t),e=q.call(e),n);var s,a,c=V(t),u=V(e);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(!rt(t[s=c[a]],e[s],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function it(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function ot(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function st(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&et(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!t&&i&&!n;if((!t&&D(i)&&o&&ot(i,n)||s)&&et(i,n,"Got unwanted exception"+r),t&&i&&n&&!ot(i,n)||!t&&i)throw i}Z.AssertionError=J,S(J,Error),Z.fail=et,Z.ok=nt,Z.equal=function t(e,n,r){e!=n&&et(e,n,r,"==",t)},Z.notEqual=function t(e,n,r){e==n&&et(e,n,r,"!=",t)},Z.deepEqual=function t(e,n,r){rt(e,n,!1)||et(e,n,r,"deepEqual",t)},Z.deepStrictEqual=function t(e,n,r){rt(e,n,!0)||et(e,n,r,"deepStrictEqual",t)},Z.notDeepEqual=function t(e,n,r){rt(e,n,!1)&&et(e,n,r,"notDeepEqual",t)},Z.notDeepStrictEqual=function t(e,n,r){rt(e,n,!0)&&et(e,n,r,"notDeepStrictEqual",t)},Z.strictEqual=function t(e,n,r){e!==n&&et(e,n,r,"===",t)},Z.notStrictEqual=function t(e,n,r){e===n&&et(e,n,r,"!==",t)},Z.throws=function(t,e,n){st(!0,t,e,n)},Z.doesNotThrow=function(t,e,n){st(!1,t,e,n)},Z.ifError=function(t){if(t)throw t};var at={};class ct{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function ut(t,e){return e.property?t+"["+e.property+"]":t}at.Layout=ct,at.nameWithProperty=ut,at.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ct))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})};class lt extends ct{isCount(){throw new Error("ExternalLayout is abstract")}}class dt extends lt{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class ht extends lt{constructor(t,e,n){if(!(t instanceof ct))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof ft||this.layout instanceof pt}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class ft extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class pt extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}class yt extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class mt extends ct{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const gt=Math.pow(2,32);function wt(t){const e=Math.floor(t/gt);return{hi32:e,lo32:t-e*gt}}function bt(t,e){return t*gt+e}class vt extends ct{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return bt(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=wt(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class kt extends ct{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return bt(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=wt(t);return e.writeUInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class St extends ct{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return bt(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=wt(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class At extends ct{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return bt(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=wt(t);return e.writeInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class _t extends ct{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatLE(t,n),4}}class It extends ct{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatBE(t,n),4}}class Et extends ct{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleLE(t,n),8}}class Tt extends ct{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleBE(t,n),8}}class xt extends ct{constructor(t,e,n){if(!(t instanceof ct))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof lt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof lt)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0,r=this.count;if(r instanceof lt&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e){void 0===e&&(e=0);const n=[];let r=0,i=this.count;for(i instanceof lt&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n){void 0===n&&(n=0);const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof lt&&this.count.encode(t.length,e,n),i}}class Pt extends ct{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof ct),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class Mt{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Ot extends Mt{constructor(t,e){if(!(t instanceof lt&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Bt extends ct{constructor(t,e,n){const r=t instanceof ft||t instanceof pt;if(r)t=new Ot(new ht(t));else if(t instanceof lt&&t.isCount())t=new Ot(t);else if(!(t instanceof Mt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof ct))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new Rt(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return l.Buffer.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class Rt extends ct{constructor(t,e,n,r){if(!(t instanceof Bt))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof ct))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function Ct(t){return 0>t&&(t+=4294967296),t}class Lt extends ct{constructor(t,e,n){if(!(t instanceof ft||t instanceof pt))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=Ct(t),this},this._packedGetValue=function(){return r}}decode(t,e){const n=this.makeDestinationObject();void 0===e&&(e=0);const r=this.word.decode(t,e);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(r));return n}encode(t,e,n){void 0===n&&(n=0);const r=this.word.decode(e,n);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const n=t[e.property];void 0!==n&&e.encode(n)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Dt(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new Nt(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class Dt{constructor(t,e,n){if(!(t instanceof Lt))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=Ct(this.valueMask<<this.start),this.property=n}decode(){return Ct(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==Ct(t&this.valueMask))throw new TypeError(ut("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Ct(t<<this.start);this.container._packedSetValue(Ct(e&~this.wordMask)|n)}}class Nt extends Dt{constructor(t,e){super(t,1,e)}decode(t,e){return!!Dt.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),Dt.prototype.encode.call(this,t)}}class Ut extends ct{constructor(t,e){if(!(t instanceof lt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof lt||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof lt&&(r=t.length),!l.Buffer.isBuffer(t)||r!==t.length)throw new TypeError(ut("Blob.encode",this)+" requires (length "+r+") Buffer as src");if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof lt&&this.length.encode(r,e,n),r}}class zt extends ct{constructor(t){super(-1,t)}getSpan(t,e){if(!l.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);return t.slice(e,e+r-1).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const r=new l.Buffer(t,"utf8"),i=r.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return r.copy(e,n),e[n+i]=0,i+1}}class Kt extends ct{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!l.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+r).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const r=new l.Buffer(t,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return r.copy(e,n),i}}class Ft extends ct{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}at.ExternalLayout=lt,at.GreedyCount=dt,at.OffsetLayout=ht,at.UInt=ft,at.UIntBE=pt,at.Int=yt,at.IntBE=mt,at.Float=_t,at.FloatBE=It,at.Double=Et,at.DoubleBE=Tt,at.Sequence=xt,at.Structure=Pt,at.UnionDiscriminator=Mt,at.UnionLayoutDiscriminator=Ot,at.Union=Bt,at.VariantLayout=Rt,at.BitStructure=Lt,at.BitField=Dt,at.Boolean=Nt,at.Blob=Ut,at.CString=zt,at.UTF8=Kt,at.Constant=Ft,at.greedy=(t,e)=>new dt(t,e),at.offset=(t,e,n)=>new ht(t,e,n);var jt=at.u8=t=>new ft(1,t);at.u16=t=>new ft(2,t),at.u24=t=>new ft(3,t);var Wt=at.u32=t=>new ft(4,t);at.u40=t=>new ft(5,t),at.u48=t=>new ft(6,t),at.nu64=t=>new vt(t),at.u16be=t=>new pt(2,t),at.u24be=t=>new pt(3,t),at.u32be=t=>new pt(4,t),at.u40be=t=>new pt(5,t),at.u48be=t=>new pt(6,t),at.nu64be=t=>new kt(t),at.s8=t=>new yt(1,t),at.s16=t=>new yt(2,t),at.s24=t=>new yt(3,t),at.s32=t=>new yt(4,t),at.s40=t=>new yt(5,t),at.s48=t=>new yt(6,t),at.ns64=t=>new St(t),at.s16be=t=>new mt(2,t),at.s24be=t=>new mt(3,t),at.s32be=t=>new mt(4,t),at.s40be=t=>new mt(5,t),at.s48be=t=>new mt(6,t),at.ns64be=t=>new At(t),at.f32=t=>new _t(t),at.f32be=t=>new It(t),at.f64=t=>new Et(t),at.f64be=t=>new Tt(t);var Vt=at.struct=(t,e,n)=>new Pt(t,e,n);at.bits=(t,e,n)=>new Lt(t,e,n),at.seq=(t,e,n)=>new xt(t,e,n),at.union=(t,e,n)=>new Bt(t,e,n),at.unionLayoutDiscriminator=(t,e)=>new Ot(t,e);var qt=at.blob=(t,e)=>new Ut(t,e);at.cstr=t=>new zt(t),at.utf8=(t,e)=>new Kt(t,e),at.const=(t,e)=>new Ft(t,e);const Ht=(t="publicKey")=>qt(32,t),Gt=(t="uint64")=>qt(8,t);function $t(t,e,n,...i){return(0,r.sendAndConfirmTransaction)(e,n,i,{skipPreflight:!1})}const Zt=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Yt=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Xt="Failed to find account",Jt="Invalid account owner";function Qt(t){return l.Buffer.from(t.toBuffer())}class te extends(c()){toBuffer(){const t=super.toArray().reverse(),e=l.Buffer.from(t);if(8===e.length)return e;Z(e.length<8,"u64 too large");const n=l.Buffer.alloc(8);return e.copy(n),n}static fromBuffer(t){return Z(8===t.length,`Invalid buffer length: ${t.length}`),new te([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}function ee(t){return"publicKey"in t}const ne={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},re=new r.PublicKey("So11111111111111111111111111111111111111112"),ie=Vt([Wt("mintAuthorityOption"),Ht("mintAuthority"),Gt("supply"),jt("decimals"),jt("isInitialized"),Wt("freezeAuthorityOption"),Ht("freezeAuthority")]),oe=Vt([Ht("mint"),Ht("owner"),Gt("amount"),Wt("delegateOption"),Ht("delegate"),jt("state"),Wt("isNativeOption"),Gt("isNative"),Gt("delegatedAmount"),Wt("closeAuthorityOption"),Ht("closeAuthority")]),se=Vt([jt("m"),jt("n"),jt("is_initialized"),Ht("signer1"),Ht("signer2"),Ht("signer3"),Ht("signer4"),Ht("signer5"),Ht("signer6"),Ht("signer7"),Ht("signer8"),Ht("signer9"),Ht("signer10"),Ht("signer11")]);class ae{constructor(t,e,n,r){s(this,"connection",void 0),s(this,"publicKey",void 0),s(this,"programId",void 0),s(this,"associatedProgramId",void 0),s(this,"payer",void 0),Object.assign(this,{connection:t,publicKey:e,programId:n,payer:r,associatedProgramId:Yt})}static async getMinBalanceRentForExemptMint(t){return await t.getMinimumBalanceForRentExemption(ie.span)}static async getMinBalanceRentForExemptAccount(t){return await t.getMinimumBalanceForRentExemption(oe.span)}static async getMinBalanceRentForExemptMultisig(t){return await t.getMinimumBalanceForRentExemption(se.span)}static async createMint(t,e,n,i,o,s){const a=r.Keypair.generate(),c=new ae(t,a.publicKey,s,e),u=await ae.getMinBalanceRentForExemptMint(t),l=new r.Transaction;return l.add(r.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:a.publicKey,lamports:u,space:ie.span,programId:s})),l.add(ae.createInitMintInstruction(s,a.publicKey,o,n,i)),await $t(0,t,l,e,a),c}async createAccount(t){const e=await ae.getMinBalanceRentForExemptAccount(this.connection),n=r.Keypair.generate(),i=new r.Transaction;i.add(r.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:e,space:oe.span,programId:this.programId}));const o=this.publicKey;return i.add(ae.createInitAccountInstruction(this.programId,o,n.publicKey,t)),await $t(0,this.connection,i,this.payer,n),n.publicKey}async createAssociatedTokenAccount(t){const e=await ae.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,t);return this.createAssociatedTokenAccountInternal(t,e)}async createAssociatedTokenAccountInternal(t,e){return await $t(0,this.connection,(new r.Transaction).add(ae.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,e,t,this.payer.publicKey)),this.payer),e}async getOrCreateAssociatedAccountInfo(t){const e=await ae.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,t);try{return await this.getAccountInfo(e)}catch(n){if(n.message===Xt||n.message===Jt){try{await this.createAssociatedTokenAccountInternal(t,e)}catch(t){}return await this.getAccountInfo(e)}throw n}}static async createWrappedNativeAccount(t,e,n,i,o){const s=await ae.getMinBalanceRentForExemptAccount(t),a=r.Keypair.generate(),c=new r.Transaction;return c.add(r.SystemProgram.createAccount({fromPubkey:i.publicKey,newAccountPubkey:a.publicKey,lamports:s,space:oe.span,programId:e})),c.add(r.SystemProgram.transfer({fromPubkey:i.publicKey,toPubkey:a.publicKey,lamports:o})),c.add(ae.createInitAccountInstruction(e,re,a.publicKey,n)),await $t(0,t,c,i,a),a.publicKey}async createMultisig(t,e){const n=r.Keypair.generate(),i=await ae.getMinBalanceRentForExemptMultisig(this.connection),o=new r.Transaction;o.add(r.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:i,space:se.span,programId:this.programId}));let s=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];e.forEach((t=>s.push({pubkey:t,isSigner:!1,isWritable:!1})));const a=Vt([jt("instruction"),jt("m")]),c=l.Buffer.alloc(a.span);return a.encode({instruction:2,m:t},c),o.add({keys:s,programId:this.programId,data:c}),await $t(0,this.connection,o,this.payer,n),n.publicKey}async getMintInfo(){const t=await this.connection.getAccountInfo(this.publicKey);if(null===t)throw new Error("Failed to find mint account");if(!t.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(t.owner)}`);if(t.data.length!=ie.span)throw new Error("Invalid mint size");const e=l.Buffer.from(t.data),n=ie.decode(e);return 0===n.mintAuthorityOption?n.mintAuthority=null:n.mintAuthority=new r.PublicKey(n.mintAuthority),n.supply=te.fromBuffer(n.supply),n.isInitialized=0!=n.isInitialized,0===n.freezeAuthorityOption?n.freezeAuthority=null:n.freezeAuthority=new r.PublicKey(n.freezeAuthority),n}async getAccountInfo(t,e){const n=await this.connection.getAccountInfo(t,e);if(null===n)throw new Error(Xt);if(!n.owner.equals(this.programId))throw new Error(Jt);if(n.data.length!=oe.span)throw new Error("Invalid account size");const i=l.Buffer.from(n.data),o=oe.decode(i);if(o.address=t,o.mint=new r.PublicKey(o.mint),o.owner=new r.PublicKey(o.owner),o.amount=te.fromBuffer(o.amount),0===o.delegateOption?(o.delegate=null,o.delegatedAmount=new te):(o.delegate=new r.PublicKey(o.delegate),o.delegatedAmount=te.fromBuffer(o.delegatedAmount)),o.isInitialized=0!==o.state,o.isFrozen=2===o.state,1===o.isNativeOption?(o.rentExemptReserve=te.fromBuffer(o.isNative),o.isNative=!0):(o.rentExemptReserve=null,o.isNative=!1),0===o.closeAuthorityOption?o.closeAuthority=null:o.closeAuthority=new r.PublicKey(o.closeAuthority),!o.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(o.mint)} !== ${JSON.stringify(this.publicKey)}`);return o}async getMultisigInfo(t){const e=await this.connection.getAccountInfo(t);if(null===e)throw new Error("Failed to find multisig");if(!e.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(e.data.length!=se.span)throw new Error("Invalid multisig size");const n=l.Buffer.from(e.data),i=se.decode(n);return i.signer1=new r.PublicKey(i.signer1),i.signer2=new r.PublicKey(i.signer2),i.signer3=new r.PublicKey(i.signer3),i.signer4=new r.PublicKey(i.signer4),i.signer5=new r.PublicKey(i.signer5),i.signer6=new r.PublicKey(i.signer6),i.signer7=new r.PublicKey(i.signer7),i.signer8=new r.PublicKey(i.signer8),i.signer9=new r.PublicKey(i.signer9),i.signer10=new r.PublicKey(i.signer10),i.signer11=new r.PublicKey(i.signer11),i}async transfer(t,e,n,i,o){let s,a;return ee(n)?(s=n.publicKey,a=[n]):(s=n,a=i),await $t("Transfer",this.connection,(new r.Transaction).add(ae.createTransferInstruction(this.programId,t,e,s,i,o)),this.payer,...a)}async approve(t,e,n,i,o){let s,a;ee(n)?(s=n.publicKey,a=[n]):(s=n,a=i),await $t("Approve",this.connection,(new r.Transaction).add(ae.createApproveInstruction(this.programId,t,e,s,i,o)),this.payer,...a)}async revoke(t,e,n){let i,o;ee(e)?(i=e.publicKey,o=[e]):(i=e,o=n),await $t("Revoke",this.connection,(new r.Transaction).add(ae.createRevokeInstruction(this.programId,t,i,n)),this.payer,...o)}async setAuthority(t,e,n,i,o){let s,a;ee(i)?(s=i.publicKey,a=[i]):(s=i,a=o),await $t("SetAuthority",this.connection,(new r.Transaction).add(ae.createSetAuthorityInstruction(this.programId,t,e,n,s,o)),this.payer,...a)}async mintTo(t,e,n,i){let o,s;ee(e)?(o=e.publicKey,s=[e]):(o=e,s=n),await $t("MintTo",this.connection,(new r.Transaction).add(ae.createMintToInstruction(this.programId,this.publicKey,t,o,n,i)),this.payer,...s)}async burn(t,e,n,i){let o,s;ee(e)?(o=e.publicKey,s=[e]):(o=e,s=n),await $t("Burn",this.connection,(new r.Transaction).add(ae.createBurnInstruction(this.programId,this.publicKey,t,o,n,i)),this.payer,...s)}async closeAccount(t,e,n,i){let o,s;ee(n)?(o=n.publicKey,s=[n]):(o=n,s=i),await $t("CloseAccount",this.connection,(new r.Transaction).add(ae.createCloseAccountInstruction(this.programId,t,e,o,i)),this.payer,...s)}async freezeAccount(t,e,n){let i,o;ee(e)?(i=e.publicKey,o=[e]):(i=e,o=n),await $t("FreezeAccount",this.connection,(new r.Transaction).add(ae.createFreezeAccountInstruction(this.programId,t,this.publicKey,i,n)),this.payer,...o)}async thawAccount(t,e,n){let i,o;ee(e)?(i=e.publicKey,o=[e]):(i=e,o=n),await $t("ThawAccount",this.connection,(new r.Transaction).add(ae.createThawAccountInstruction(this.programId,t,this.publicKey,i,n)),this.payer,...o)}async transferChecked(t,e,n,i,o,s){let a,c;return ee(n)?(a=n.publicKey,c=[n]):(a=n,c=i),await $t("TransferChecked",this.connection,(new r.Transaction).add(ae.createTransferCheckedInstruction(this.programId,t,this.publicKey,e,a,i,o,s)),this.payer,...c)}async approveChecked(t,e,n,i,o,s){let a,c;ee(n)?(a=n.publicKey,c=[n]):(a=n,c=i),await $t("ApproveChecked",this.connection,(new r.Transaction).add(ae.createApproveCheckedInstruction(this.programId,t,this.publicKey,e,a,i,o,s)),this.payer,...c)}async mintToChecked(t,e,n,i,o){let s,a;ee(e)?(s=e.publicKey,a=[e]):(s=e,a=n),await $t("MintToChecked",this.connection,(new r.Transaction).add(ae.createMintToCheckedInstruction(this.programId,this.publicKey,t,s,n,i,o)),this.payer,...a)}async burnChecked(t,e,n,i,o){let s,a;ee(e)?(s=e.publicKey,a=[e]):(s=e,a=n),await $t("BurnChecked",this.connection,(new r.Transaction).add(ae.createBurnCheckedInstruction(this.programId,this.publicKey,t,s,n,i,o)),this.payer,...a)}async syncNative(t){await $t(0,this.connection,(new r.Transaction).add(ae.createSyncNativeInstruction(this.programId,t)),this.payer)}static createInitMintInstruction(t,e,n,i,o){let s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const a=Vt([jt("instruction"),jt("decimals"),Ht("mintAuthority"),jt("option"),Ht("freezeAuthority")]);let c=l.Buffer.alloc(1024);{const t=a.encode({instruction:0,decimals:n,mintAuthority:Qt(i),option:null===o?0:1,freezeAuthority:Qt(o||new r.PublicKey(0))},c);c=c.slice(0,t)}return new r.TransactionInstruction({keys:s,programId:t,data:c})}static createInitAccountInstruction(t,e,n,i){const o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=Vt([jt("instruction")]),a=l.Buffer.alloc(s.span);return s.encode({instruction:1},a),new r.TransactionInstruction({keys:o,programId:t,data:a})}static createTransferInstruction(t,e,n,i,o,s){const a=Vt([jt("instruction"),Gt("amount")]),c=l.Buffer.alloc(a.span);a.encode({instruction:3,amount:new te(s).toBuffer()},c);let u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===o.length?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>u.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:u,programId:t,data:c})}static createApproveInstruction(t,e,n,i,o,s){const a=Vt([jt("instruction"),Gt("amount")]),c=l.Buffer.alloc(a.span);a.encode({instruction:4,amount:new te(s).toBuffer()},c);let u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===o.length?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>u.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:u,programId:t,data:c})}static createRevokeInstruction(t,e,n,i){const o=Vt([jt("instruction")]),s=l.Buffer.alloc(o.span);o.encode({instruction:5},s);let a=[{pubkey:e,isSigner:!1,isWritable:!0}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((t=>a.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:a,programId:t,data:s})}static createSetAuthorityInstruction(t,e,n,i,o,s){const a=Vt([jt("instruction"),jt("authorityType"),jt("option"),Ht("newAuthority")]);let c=l.Buffer.alloc(1024);{const t=a.encode({instruction:6,authorityType:ne[i],option:null===n?0:1,newAuthority:Qt(n||new r.PublicKey(0))},c);c=c.slice(0,t)}let u=[{pubkey:e,isSigner:!1,isWritable:!0}];return 0===s.length?u.push({pubkey:o,isSigner:!0,isWritable:!1}):(u.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach((t=>u.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:u,programId:t,data:c})}static createMintToInstruction(t,e,n,i,o,s){const a=Vt([jt("instruction"),Gt("amount")]),c=l.Buffer.alloc(a.span);a.encode({instruction:7,amount:new te(s).toBuffer()},c);let u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===o.length?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>u.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:u,programId:t,data:c})}static createBurnInstruction(t,e,n,i,o,s){const a=Vt([jt("instruction"),Gt("amount")]),c=l.Buffer.alloc(a.span);a.encode({instruction:8,amount:new te(s).toBuffer()},c);let u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}];return 0===o.length?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>u.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:u,programId:t,data:c})}static createCloseAccountInstruction(t,e,n,i,o){const s=Vt([jt("instruction")]),a=l.Buffer.alloc(s.span);s.encode({instruction:9},a);let c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===o.length?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>c.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:c,programId:t,data:a})}static createFreezeAccountInstruction(t,e,n,i,o){const s=Vt([jt("instruction")]),a=l.Buffer.alloc(s.span);s.encode({instruction:10},a);let c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===o.length?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>c.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:c,programId:t,data:a})}static createThawAccountInstruction(t,e,n,i,o){const s=Vt([jt("instruction")]),a=l.Buffer.alloc(s.span);s.encode({instruction:11},a);let c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===o.length?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>c.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:c,programId:t,data:a})}static createTransferCheckedInstruction(t,e,n,i,o,s,a,c){const u=Vt([jt("instruction"),Gt("amount"),jt("decimals")]),d=l.Buffer.alloc(u.span);u.encode({instruction:12,amount:new te(a).toBuffer(),decimals:c},d);let h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return 0===s.length?h.push({pubkey:o,isSigner:!0,isWritable:!1}):(h.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach((t=>h.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:h,programId:t,data:d})}static createApproveCheckedInstruction(t,e,n,i,o,s,a,c){const u=Vt([jt("instruction"),Gt("amount"),jt("decimals")]),d=l.Buffer.alloc(u.span);u.encode({instruction:13,amount:new te(a).toBuffer(),decimals:c},d);let h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return 0===s.length?h.push({pubkey:o,isSigner:!0,isWritable:!1}):(h.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach((t=>h.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:h,programId:t,data:d})}static createMintToCheckedInstruction(t,e,n,i,o,s,a){const c=Vt([jt("instruction"),Gt("amount"),jt("decimals")]),u=l.Buffer.alloc(c.span);c.encode({instruction:14,amount:new te(s).toBuffer(),decimals:a},u);let d=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===o.length?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>d.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:d,programId:t,data:u})}static createBurnCheckedInstruction(t,e,n,i,o,s,a){const c=Vt([jt("instruction"),Gt("amount"),jt("decimals")]),u=l.Buffer.alloc(c.span);c.encode({instruction:15,amount:new te(s).toBuffer(),decimals:a},u);let d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}];return 0===o.length?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((t=>d.push({pubkey:t.publicKey,isSigner:!0,isWritable:!1})))),new r.TransactionInstruction({keys:d,programId:t,data:u})}static createSyncNativeInstruction(t,e){const n=Vt([jt("instruction")]),i=l.Buffer.alloc(n.span);n.encode({instruction:17},i);let o=[{pubkey:e,isSigner:!1,isWritable:!0}];return new r.TransactionInstruction({keys:o,programId:t,data:i})}static async getAssociatedTokenAddress(t,e,n,i,o=!1){if(!o&&!r.PublicKey.isOnCurve(i.toBuffer()))throw new Error(`Owner cannot sign: ${i.toString()}`);return(await r.PublicKey.findProgramAddress([i.toBuffer(),e.toBuffer(),n.toBuffer()],t))[0]}static createAssociatedTokenAccountInstruction(t,e,n,i,o,s){const a=l.Buffer.alloc(0);let c=[{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:c,programId:t,data:a})}}var ce=n(4639),ue=n(5872),le=n(2724),de=n(9500);function he(t){return isNaN(t)?Number(0):Number(t*r.LAMPORTS_PER_SOL)}function fe(t){if("number"==typeof t)return Math.abs(t)/r.LAMPORTS_PER_SOL;let e=1;t.isNeg()&&(e=-1);const n=t.abs().toString(10).padStart(10,"0"),i=n.length-9,o=n.slice(0,i)+"."+n.slice(i);return e*parseFloat(o)}const pe=new r.PublicKey("SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy"),ye=5,me=ue.Buffer.from("transient"),ge=r.LAMPORTS_PER_SOL;async function we(t,e){const[n]=await r.PublicKey.findProgramAddress([e.toBuffer(),ue.Buffer.from("withdraw")],t);return n}async function be(t,e,n){const[i]=await r.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer()],t);return i}async function ve(t,e,n,i){const[o]=await r.PublicKey.findProgramAddress([me,e.toBuffer(),n.toBuffer(),new Uint8Array(i.toArray("le",8))],t);return o}class ke extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function Se(t){return"object"==typeof t&&null!=t}function Ae(t){return"string"==typeof t?JSON.stringify(t):""+t}function _e(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Ae(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Ie(t,e,n,r){var i;Se(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=_e(i,e,n,r);t&&(yield t)}}function*Ee(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&Se(e.schema)&&Se(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,a))c=!1,yield[n,void 0];for(let[n,u,l]of e.entries(t,a)){const e=Ee(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:o,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):o&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):Se(t)&&(t[n]=u))}if(c)for(const n of e.refiner(t,a))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class Te{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>Ie(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Ie(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=Me(t,e);if(n[0])throw n[0]}(t,this)}create(t){return xe(t,this)}is(t){return Pe(t,this)}mask(t){return function(t,e){const n=Me(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e={}){return Me(t,this,e)}}function xe(t,e){const n=Me(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function Pe(t,e){return!Me(t,e)[0]}function Me(t,e,n={}){const r=Ee(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new ke(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function Oe(t,e){return new Te({type:t,schema:null,validator:e})}function Be(t){return Oe("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Ae(e)))}function Re(){return Oe("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Ae(t)))}function Ce(){return Oe("string",(t=>"string"==typeof t||"Expected a string, but received: "+Ae(t)))}function Le(t){const e=Object.keys(t);return new Te({type:"type",schema:t,*entries(n){if(Se(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>Se(t)||"Expected an object, but received: "+Ae(t)})}function De(t,e,n){return new Te({...t,coercer:(r,i)=>Pe(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const Ne=[(0,le.u64)("denominator"),(0,le.u64)("numerator")],Ue=(0,le.struct)([(0,le.publicKey)("mint"),(0,le.publicKey)("owner"),(0,le.u64)("amount"),(0,le.u32)("delegateOption"),(0,le.publicKey)("delegate"),(0,le.u8)("state"),(0,le.u32)("isNativeOption"),(0,le.u64)("isNative"),(0,le.u64)("delegatedAmount"),(0,le.u32)("closeAuthorityOption"),(0,le.publicKey)("closeAuthority")]);var ze;!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.StakePool=1]="StakePool",t[t.ValidatorList=2]="ValidatorList"}(ze||(ze={}));const Ke=De(Be(c()),Ce(),(t=>{if("string"==typeof t)return new(c())(t,10);throw new Error("invalid big num")})),Fe=De(Be(r.PublicKey),Ce(),(t=>new r.PublicKey(t))),je=function(t){const e={},n=t.map((t=>Ae(t))).join();for(const n of t)e[n]=n;return new Te({type:"enums",schema:e,validator:e=>t.includes(e)||"Expected one of `"+n+"`, but received: "+Ae(e)})}(["uninitialized","initialized","delegated","rewardsPool"]),We=Le({rentExemptReserve:Ke,authorized:Le({staker:Fe,withdrawer:Fe}),lockup:Le({unixTimestamp:Re(),epoch:Re(),custodian:Fe})}),Ve=Le({meta:We,stake:function(t){return new Te({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}(Le({delegation:Le({voter:Fe,stake:Ke,activationEpoch:Ke,deactivationEpoch:Ke,warmupCooldownRate:Re()}),creditsObserved:Re()}))}),qe=Le({type:je,info:function(t){return new Te({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}(Ve)}),He=(0,le.struct)([(0,le.u8)("accountType"),(0,le.publicKey)("manager"),(0,le.publicKey)("staker"),(0,le.publicKey)("stakeDepositAuthority"),(0,le.u8)("stakeWithdrawBumpSeed"),(0,le.publicKey)("validatorList"),(0,le.publicKey)("reserveStake"),(0,le.publicKey)("poolMint"),(0,le.publicKey)("managerFeeAccount"),(0,le.publicKey)("tokenProgramId"),(0,le.u64)("totalLamports"),(0,le.u64)("poolTokenSupply"),(0,le.u64)("lastUpdateEpoch"),(0,le.struct)([(0,le.u64)("unixTimestamp"),(0,le.u64)("epoch"),(0,le.publicKey)("custodian")],"lockup"),(0,le.struct)(Ne,"epochFee"),(0,le.option)((0,le.struct)(Ne),"nextEpochFee"),(0,le.option)((0,le.publicKey)(),"preferredDepositValidatorVoteAddress"),(0,le.option)((0,le.publicKey)(),"preferredWithdrawValidatorVoteAddress"),(0,le.struct)(Ne,"stakeDepositFee"),(0,le.struct)(Ne,"stakeWithdrawalFee"),(0,le.option)((0,le.struct)(Ne),"nextStakeWithdrawalFee"),(0,le.u8)("stakeReferralFee"),(0,le.option)((0,le.publicKey)(),"solDepositAuthority"),(0,le.struct)(Ne,"solDepositFee"),(0,le.u8)("solReferralFee"),(0,le.option)((0,le.publicKey)(),"solWithdrawAuthority"),(0,le.struct)(Ne,"solWithdrawalFee"),(0,le.option)((0,le.struct)(Ne),"nextSolWithdrawalFee"),(0,le.u64)("lastEpochPoolTokenSupply"),(0,le.u64)("lastEpochTotalLamports")]);var Ge;!function(t){t[t.Active=0]="Active",t[t.DeactivatingTransient=1]="DeactivatingTransient",t[t.ReadyForRemoval=2]="ReadyForRemoval"}(Ge||(Ge={}));const $e=(0,le.struct)([(0,le.u64)("activeStakeLamports"),(0,le.u64)("transientStakeLamports"),(0,le.u64)("lastUpdateEpoch"),(0,le.u64)("transientSeedSuffixStart"),(0,le.u64)("transientSeedSuffixEnd"),(0,le.u8)("status"),(0,le.publicKey)("voteAccountAddress")]),Ze=(0,le.struct)([(0,le.u8)("accountType"),(0,le.u32)("maxValidators"),(0,le.vec)($e,"validators")]);async function Ye(t,e){const n=await t.getAccountInfo(e);if(!n)throw new Error("Invalid validator list account");return{pubkey:e,account:{data:Ze.decode(null==n?void 0:n.data),executable:n.executable,lamports:n.lamports,owner:n.owner}}}function Xe(t,e){return t.poolTokenSupply.isZero()||t.totalLamports.isZero()?e:Math.floor(Qe(new(c())(e).mul(t.poolTokenSupply),t.totalLamports))}function Je(t,e){const n=new(c())(e).mul(t.totalLamports),r=t.poolTokenSupply;return n.lt(r)?0:Qe(n,r)}function Qe(t,e){if(e.isZero())return 0;const n=t.div(e).toNumber(),r=t.umod(e),i=r.gcd(e);return n+r.div(i).toNumber()/e.div(i).toNumber()}function tn(t,e,n){const i=r.Keypair.generate();return de.log(`Creating account to receive stake ${i.publicKey}`),e.push(r.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:i.publicKey,lamports:n,space:r.StakeProgram.space,programId:r.StakeProgram.programId})),i}const en="Failed to find account",nn="Invalid account owner";async function rn(t,e,n,r){const i=await ae.getAssociatedTokenAddress(Yt,Zt,n,e);let o=0;try{if(!await t.getAccountInfo(i))throw new Error(en)}catch(s){if(s.message!==en&&s.message!==nn)throw s;r.push(ae.createAssociatedTokenAccountInstruction(Yt,Zt,n,i,e,e)),o=await t.getMinimumBalanceForRentExemption(Ue.span),de.warn(s)}return{associatedAddress:i,rentFee:o}}async function on(t,e,n){var r;try{const i=await t.getAccountInfo(e);if(!i)throw new Error(`Invalid account ${e.toBase58()}`);const o=Ue.decode(i.data);if((null===(r=o.mint)||void 0===r?void 0:r.toBase58())!=n.toBase58())throw new Error(`Invalid token mint for ${e}, expected mint is ${n}`);return o}catch(t){de.log(t)}}function sn(t,e){const n=t.layout.span,r=ue.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function an(t,e){let n;try{n=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const cn=ce.struct([ce.u8("instruction"),ce.ns64("lamports"),ce.ns64("transientStakeSeed")]),un=ce.struct([ce.u8("instruction"),ce.u32("startIndex"),ce.u8("noMerge")]),ln=Object.freeze({DecreaseValidatorStake:{index:3,layout:cn},IncreaseValidatorStake:{index:4,layout:cn},UpdateValidatorListBalance:{index:6,layout:un},UpdateStakePoolBalance:{index:7,layout:ce.struct([ce.u8("instruction")])},CleanupRemovedValidatorEntries:{index:8,layout:ce.struct([ce.u8("instruction")])},DepositStake:{index:9,layout:ce.struct([ce.u8("instruction")])},WithdrawStake:{index:10,layout:ce.struct([ce.u8("instruction"),ce.ns64("poolTokens")])},DepositSol:{index:14,layout:ce.struct([ce.u8("instruction"),ce.ns64("lamports")])},WithdrawSol:{index:16,layout:ce.struct([ce.u8("instruction"),ce.ns64("poolTokens")])}});class dn{static updateValidatorListBalance(t){const{stakePool:e,withdrawAuthority:n,validatorList:i,reserveStake:o,startIndex:s,noMerge:a,validatorAndTransientStakePairs:c}=t,u=sn(ln.UpdateValidatorListBalance,{startIndex:s,noMerge:a?1:0}),l=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.StakeProgram.programId,isSigner:!1,isWritable:!1},...c.map((t=>({pubkey:t,isSigner:!1,isWritable:!0})))];return new r.TransactionInstruction({programId:pe,keys:l,data:u})}static updateStakePoolBalance(t){const{stakePool:e,withdrawAuthority:n,validatorList:i,reserveStake:o,managerFeeAccount:s,poolMint:a}=t,c=sn(ln.UpdateStakePoolBalance),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Zt,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({programId:pe,keys:u,data:c})}static cleanupRemovedValidatorEntries(t){const{stakePool:e,validatorList:n}=t,i=sn(ln.CleanupRemovedValidatorEntries),o=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}];return new r.TransactionInstruction({programId:pe,keys:o,data:i})}static increaseValidatorStake(t){const{stakePool:e,staker:n,withdrawAuthority:i,validatorList:o,reserveStake:s,transientStake:a,validatorStake:c,validatorVote:u,lamports:l,transientStakeSeed:d}=t,h=sn(ln.IncreaseValidatorStake,{lamports:l,transientStakeSeed:d}),f=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.StakeProgram.programId,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({programId:pe,keys:f,data:h})}static decreaseValidatorStake(t){const{stakePool:e,staker:n,withdrawAuthority:i,validatorList:o,validatorStake:s,transientStake:a,lamports:c,transientStakeSeed:u}=t,l=sn(ln.DecreaseValidatorStake,{lamports:c,transientStakeSeed:u}),d=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.StakeProgram.programId,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({programId:pe,keys:d,data:l})}static depositStake(t){const{stakePool:e,validatorList:n,depositAuthority:i,withdrawAuthority:o,depositStake:s,validatorStake:a,reserveStake:c,destinationPoolAccount:u,managerFeeAccount:l,referralPoolAccount:d,poolMint:h}=t,f=sn(ln.DepositStake),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Zt,isSigner:!1,isWritable:!1},{pubkey:r.StakeProgram.programId,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({programId:pe,keys:p,data:f})}static depositSol(t){const{stakePool:e,withdrawAuthority:n,depositAuthority:i,reserveStake:o,fundingAccount:s,destinationPoolAccount:a,managerFeeAccount:c,referralPoolAccount:u,poolMint:l,lamports:d}=t,h=sn(ln.DepositSol,{lamports:d}),f=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Zt,isSigner:!1,isWritable:!1}];return i&&f.push({pubkey:i,isSigner:!0,isWritable:!1}),new r.TransactionInstruction({programId:pe,keys:f,data:h})}static withdrawStake(t){const{stakePool:e,validatorList:n,withdrawAuthority:i,validatorStake:o,destinationStake:s,destinationStakeAuthority:a,sourceTransferAuthority:c,sourcePoolAccount:u,managerFeeAccount:l,poolMint:d,poolTokens:h}=t,f=sn(ln.WithdrawStake,{poolTokens:h}),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Zt,isSigner:!1,isWritable:!1},{pubkey:r.StakeProgram.programId,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({programId:pe,keys:p,data:f})}static withdrawSol(t){const{stakePool:e,withdrawAuthority:n,sourceTransferAuthority:i,sourcePoolAccount:o,reserveStake:s,destinationSystemAccount:a,managerFeeAccount:c,solWithdrawAuthority:u,poolMint:l,poolTokens:d}=t,h=sn(ln.WithdrawSol,{poolTokens:d}),f=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.StakeProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Zt,isSigner:!1,isWritable:!1}];return u&&f.push({pubkey:u,isSigner:!0,isWritable:!1}),new r.TransactionInstruction({programId:pe,keys:f,data:h})}static decodeDepositStake(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,11),an(ln.DepositStake,t.data),{stakePool:t.keys[0].pubkey,validatorList:t.keys[1].pubkey,depositAuthority:t.keys[2].pubkey,withdrawAuthority:t.keys[3].pubkey,depositStake:t.keys[4].pubkey,validatorStake:t.keys[5].pubkey,reserveStake:t.keys[6].pubkey,destinationPoolAccount:t.keys[7].pubkey,managerFeeAccount:t.keys[8].pubkey,referralPoolAccount:t.keys[9].pubkey,poolMint:t.keys[10].pubkey}}static decodeDepositSol(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,9);const{amount:e}=an(ln.DepositSol,t.data);return{stakePool:t.keys[0].pubkey,depositAuthority:t.keys[1].pubkey,withdrawAuthority:t.keys[2].pubkey,reserveStake:t.keys[3].pubkey,fundingAccount:t.keys[4].pubkey,destinationPoolAccount:t.keys[5].pubkey,managerFeeAccount:t.keys[6].pubkey,referralPoolAccount:t.keys[7].pubkey,poolMint:t.keys[8].pubkey,lamports:e}}static checkProgramId(t){if(!t.equals(r.StakeProgram.programId))throw new Error("Invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`Invalid instruction; found ${t.length} keys, expected at least ${e}`)}}async function hn(t,e){const n=await t.getAccountInfo(e);if(!n)throw new Error("Invalid stake pool account");return{pubkey:e,account:{data:He.decode(n.data),executable:n.executable,lamports:n.lamports,owner:n.owner}}}async function fn(t,e){const n=(await t.getParsedAccountInfo(e)).value;if(!n||!("parsed"in n.data))throw new Error("Invalid stake account");if("stake"!=n.data.program)throw new Error("Not a stake account");return xe(n.data.parsed,qe)}async function pn(t,e){return(await t.getProgramAccounts(e)).map((t=>{let e;if(1===t.account.data.readUInt8())try{e=He.decode(t.account.data)}catch(t){de.log("Could not decode StakeAccount. Error:",t),e=void 0}else if(2===t.account.data.readUInt8())try{e=Ze.decode(t.account.data)}catch(t){de.log("Could not decode ValidatorList. Error:",t),e=void 0}else de.error(`Could not decode. StakePoolAccount Enum is ${t.account.data.readUInt8()}, expected 1 or 2!`),e=void 0;return{pubkey:t.pubkey,account:{data:e,executable:t.account.executable,lamports:t.account.lamports,owner:t.account.owner}}}))}async function yn(t,e,n,i,o,s){const a=await hn(t,e),c=await we(pe,e),u=await be(pe,i,e),l=[],d=a.account.data.poolMint;let h=0;if(!s){const{associatedAddress:e,rentFee:r}=await rn(t,n,d,l);s=e,h+=r}return l.push(...r.StakeProgram.authorize({stakePubkey:o,authorizedPubkey:n,newAuthorizedPubkey:a.account.data.stakeDepositAuthority,stakeAuthorizationType:r.StakeAuthorizationLayout.Staker}).instructions),l.push(...r.StakeProgram.authorize({stakePubkey:o,authorizedPubkey:n,newAuthorizedPubkey:a.account.data.stakeDepositAuthority,stakeAuthorizationType:r.StakeAuthorizationLayout.Withdrawer}).instructions),l.push(dn.depositStake({stakePool:e,validatorList:a.account.data.validatorList,depositAuthority:a.account.data.stakeDepositAuthority,reserveStake:a.account.data.reserveStake,managerFeeAccount:a.account.data.managerFeeAccount,referralPoolAccount:s,destinationPoolAccount:s,withdrawAuthority:c,depositStake:o,validatorStake:u,poolMint:d})),{instructions:l,signers:[],rentFee:h}}async function mn(t,e,n,i,o,s,a){const c=await t.getBalance(n,"confirmed");if(c<i)throw new Error(`Not enough SOL to deposit into pool. Maximum deposit amount is ${fe(c)} SOL.`);const u=(await hn(t,e)).account.data,l=new r.Keypair,d=[l],h=[];let f=0;if(h.push(r.SystemProgram.transfer({fromPubkey:n,toPubkey:l.publicKey,lamports:i})),!o){const{associatedAddress:e,rentFee:r}=await rn(t,n,u.poolMint,h);o=e,f+=r}const p=await we(pe,e);return h.push(dn.depositSol({stakePool:e,reserveStake:u.reserveStake,fundingAccount:l.publicKey,destinationPoolAccount:o,managerFeeAccount:u.managerFeeAccount,referralPoolAccount:null!=s?s:o,poolMint:u.poolMint,lamports:i,withdrawAuthority:p,depositAuthority:a})),{instructions:h,signers:d,rentFee:f}}async function gn(t,e,n,i,o=!1,s,a,u,l){var d,h,f,p;const y=await hn(t,e),m=he(i);u||(u=await ae.getAssociatedTokenAddress(Yt,Zt,y.account.data.poolMint,n));const g=await on(t,u,y.account.data.poolMint);if(!g)throw new Error("Invalid token account");if(g.amount.toNumber()<m)throw new Error(`Not enough token balance to withdraw ${fe(m)} pool tokens.\n        Maximum withdraw amount is ${fe(g.amount.toNumber())} pool tokens.`);const w=await t.getMinimumBalanceForRentExemption(r.StakeProgram.space),b=await we(pe,e);let v=null;a&&(v=await fn(t,a));const k=[];if(o)k.push({stakeAddress:y.account.data.reserveStake,voteAddress:void 0,poolAmount:m});else if(v&&"delegated"==(null==v?void 0:v.type)){const n=null===(h=null===(d=v.info)||void 0===d?void 0:d.stake)||void 0===h?void 0:h.delegation.voter;if(!n)throw new Error(`Invalid stake reciever ${a} delegation`);const r=await t.getAccountInfo(y.account.data.validatorList),i=Ze.decode(null==r?void 0:r.data).validators.find((t=>t.voteAccountAddress.equals(n)));if(s&&s!==n)throw new Error(`Provided withdrawal vote account ${s} does not match delegation on stake receiver account ${n}, \n      remove this flag or provide a different stake account delegated to ${s}`);if(!i)throw new Error(`Provided stake account is delegated to a vote account ${n} which does not exist in the stake pool`);{const r=await be(pe,n,e),i=await t.getAccountInfo(r);if(!i)throw new Error("Preferred withdraw valdator's stake account is invalid");const o=Je(y.account.data,i.lamports-ge-w);if(o<m)throw new Error(`Not enough lamports available for withdrawal from ${r},\n            ${m} asked, ${o} available.`);k.push({stakeAddress:r,voteAddress:n,poolAmount:m})}}else if(s){const n=await be(pe,s,e),r=await t.getAccountInfo(n);if(!r)throw new Error("Invalid Stake Account");const i=Je(y.account.data,r.lamports-ge-w);if(i<m)throw new Error(`Not enough lamports available for withdrawal from ${n},\n          ${m} asked, ${i} available.`);k.push({stakeAddress:n,voteAddress:s,poolAmount:m})}else k.push(...await async function(t,e,n,i,o,s){var a,u;const l=await t.getAccountInfo(e.validatorList),d=Ze.decode(null==l?void 0:l.data);if(!(null==d?void 0:d.validators)||0==(null==d?void 0:d.validators.length))throw new Error("No accounts found");const h=await t.getMinimumBalanceForRentExemption(r.StakeProgram.space),f=h+ge;let p=[];for(const t of d.validators){if(t.status!==Ge.Active)continue;const r=await be(pe,t.voteAccountAddress,n);if(!t.activeStakeLamports.isZero()){const n=null===(a=null==e?void 0:e.preferredWithdrawValidatorVoteAddress)||void 0===a?void 0:a.equals(t.voteAccountAddress);p.push({type:n?"preferred":"active",voteAddress:t.voteAccountAddress,stakeAddress:r,lamports:t.activeStakeLamports.toNumber()})}const i=t.transientStakeLamports.toNumber()-f;if(i>0){const e=await ve(pe,t.voteAccountAddress,n,t.transientSeedSuffixStart);p.push({type:"transient",voteAddress:t.voteAccountAddress,stakeAddress:e,lamports:i})}}p=p.sort(o||((t,e)=>e.lamports-t.lamports));const y=await t.getAccountInfo(e.reserveStake),m=(null!==(u=null==y?void 0:y.lamports)&&void 0!==u?u:0)-h-1;m>0&&p.push({type:"reserve",stakeAddress:e.reserveStake,lamports:m});const g=[];let w=i;const b=e.stakeWithdrawalFee,v={numerator:b.denominator.sub(b.numerator),denominator:b.denominator};for(const t of["preferred","active","transient","reserve"]){const n=p.filter((e=>e.type==t));for(const{stakeAddress:r,voteAddress:i,lamports:o}of n){if(o<=f&&"transient"==t)continue;let n=Xe(e,o);s||v.numerator.isZero()||(n=Qe(new(c())(n).mul(v.denominator),v.numerator));const a=Math.min(n,w);if(!(a<=0)&&(g.push({stakeAddress:r,voteAddress:i,poolAmount:a}),w-=a,0==w))break}if(0==w)break}if(w>0)throw new Error(`No stake accounts found in this pool with enough balance to withdraw ${fe(i)} pool tokens.`);return g}(t,y.account.data,e,m,l,u.equals(y.account.data.managerFeeAccount)));const S=[],A=r.Keypair.generate(),_=[A];S.push(ae.createApproveInstruction(Zt,u,A.publicKey,n,[],m));let I=0;let E=0;for(const t of k){if(E>5)break;let r,i=`Withdrawing ◎${Math.ceil(Je(y.account.data,t.poolAmount))},\n      from stake account ${null===(f=t.stakeAddress)||void 0===f?void 0:f.toBase58()}`;if(t.voteAddress&&(i=`${i}, delegated to ${null===(p=t.voteAddress)||void 0===p?void 0:p.toBase58()}`),de.info(i),!a||v&&"delegated"===v.type){const t=tn(n,S,w);_.push(t),I+=w,r=t.publicKey}else r=a;S.push(dn.withdrawStake({stakePool:e,validatorList:y.account.data.validatorList,validatorStake:t.stakeAddress,destinationStake:r,destinationStakeAuthority:n,sourceTransferAuthority:A.publicKey,sourcePoolAccount:u,managerFeeAccount:y.account.data.managerFeeAccount,poolMint:y.account.data.poolMint,poolTokens:t.poolAmount,withdrawAuthority:b})),E++}return a&&v&&"delegated"===v.type&&_.forEach((t=>{S.concat(r.StakeProgram.merge({stakePubkey:a,sourceStakePubKey:t.publicKey,authorizedPubkey:n}).instructions)})),{instructions:S,signers:_,stakeReceiver:a,totalRentFreeBalances:I}}async function wn(t,e,n,i,o,s){const a=await hn(t,e),c=he(o),u=await ae.getAssociatedTokenAddress(Yt,Zt,a.account.data.poolMint,n),l=await on(t,u,a.account.data.poolMint);if(!l)throw new Error("Invalid token account");if(l.amount.toNumber()<c)throw new Error(`Not enough token balance to withdraw ${fe(c)} pool tokens.\n          Maximum withdraw amount is ${fe(l.amount.toNumber())} pool tokens.`);const d=[],h=r.Keypair.generate(),f=[h];d.push(ae.createApproveInstruction(Zt,u,h.publicKey,n,[],c));const p=await we(pe,e);if(s){const t=a.account.data.solWithdrawAuthority;if(!t)throw new Error("SOL withdraw authority specified in arguments but stake pool has none");if(s.toBase58()!=t.toBase58())throw new Error(`Invalid deposit withdraw specified, expected ${t.toBase58()}, received ${s.toBase58()}`)}const y=dn.withdrawSol({stakePool:e,withdrawAuthority:p,reserveStake:a.account.data.reserveStake,sourcePoolAccount:u,sourceTransferAuthority:h.publicKey,destinationSystemAccount:i,managerFeeAccount:a.account.data.managerFeeAccount,poolMint:a.account.data.poolMint,poolTokens:c,solWithdrawAuthority:s});return d.push(y),{instructions:d,signers:f}}async function bn(t,e,n,r){const i=await hn(t,e),o=(await Ye(t,i.account.data.validatorList)).account.data.validators.find((t=>t.voteAccountAddress.toBase58()==n.toBase58()));if(!o)throw new Error("Vote account not found in validator list");const s=await we(pe,e),a=o.transientSeedSuffixStart.addn(1),c=await ve(pe,o.voteAccountAddress,e,a),u=await be(pe,o.voteAccountAddress,e),l=[];return l.push(dn.increaseValidatorStake({stakePool:e,staker:i.account.data.staker,validatorList:i.account.data.validatorList,reserveStake:i.account.data.reserveStake,transientStakeSeed:a.toNumber(),withdrawAuthority:s,transientStake:c,validatorStake:u,validatorVote:n,lamports:r})),{instructions:l}}async function vn(t,e,n,r){const i=await hn(t,e),o=(await Ye(t,i.account.data.validatorList)).account.data.validators.find((t=>t.voteAccountAddress.toBase58()==n.toBase58()));if(!o)throw new Error("Vote account not found in validator list");const s=await we(pe,e),a=await be(pe,o.voteAccountAddress,e),c=o.transientSeedSuffixStart.addn(1),u=await ve(pe,o.voteAccountAddress,e,c),l=[];return l.push(dn.decreaseValidatorStake({stakePool:e,staker:i.account.data.staker,validatorList:i.account.data.validatorList,transientStakeSeed:c.toNumber(),withdrawAuthority:s,validatorStake:a,transientStake:u,lamports:r})),{instructions:l}}async function kn(t,e,n=!1){const r=e.pubkey,i=await Ye(t,e.account.data.validatorList),o=await we(pe,r),s=[],a=[];let c=0;const u=function(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}(i.account.data.validators,ye);for(const t of u){const i=[];for(const e of t){const t=await be(pe,e.voteAccountAddress,r);i.push(t);const n=await ve(pe,e.voteAccountAddress,r,e.transientSeedSuffixStart);i.push(n)}s.push(dn.updateValidatorListBalance({stakePool:r,validatorList:e.account.data.validatorList,reserveStake:e.account.data.reserveStake,validatorAndTransientStakePairs:i,withdrawAuthority:o,startIndex:c,noMerge:n})),c+=ye}return a.push(dn.updateStakePoolBalance({stakePool:r,validatorList:e.account.data.validatorList,reserveStake:e.account.data.reserveStake,managerFeeAccount:e.account.data.managerFeeAccount,poolMint:e.account.data.poolMint,withdrawAuthority:o})),a.push(dn.cleanupRemovedValidatorEntries({stakePool:r,validatorList:e.account.data.validatorList})),{updateListInstructions:s,finalInstructions:a}}async function Sn(t,e){var n,i;const o=await hn(t,e),s=o.account.data.reserveStake,a=o.account.data.totalLamports,c=o.account.data.lastUpdateEpoch,u=await Ye(t,o.account.data.validatorList),l=u.account.data.maxValidators,d=u.account.data.validators.length,h=await t.getEpochInfo(),f=await t.getAccountInfo(s),p=await we(pe,e),y=await t.getMinimumBalanceForRentExemption(r.StakeProgram.space)+1,m=await Promise.all(u.account.data.validators.map((async t=>{const n=await be(pe,t.voteAccountAddress,e),r=await ve(pe,t.voteAccountAddress,e,t.transientSeedSuffixStart),i=!t.lastUpdateEpoch.eqn(h.epoch);return{voteAccountAddress:t.voteAccountAddress.toBase58(),stakeAccountAddress:n.toBase58(),validatorActiveStakeLamports:t.activeStakeLamports.toString(),validatorLastUpdateEpoch:t.lastUpdateEpoch.toString(),validatorLamports:t.activeStakeLamports.add(t.transientStakeLamports).toString(),validatorTransientStakeAccountAddress:r.toBase58(),validatorTransientStakeLamports:t.transientStakeLamports.toString(),updateRequired:i}}))),g=fe(o.account.data.poolTokenSupply),w=!c.eqn(h.epoch);return{address:e.toBase58(),poolWithdrawAuthority:p.toBase58(),manager:o.account.data.manager.toBase58(),staker:o.account.data.staker.toBase58(),stakeDepositAuthority:o.account.data.stakeDepositAuthority.toBase58(),stakeWithdrawBumpSeed:o.account.data.stakeWithdrawBumpSeed,maxValidators:l,validatorList:u.account.data.validators.map((t=>({activeStakeLamports:t.activeStakeLamports.toString(),transientStakeLamports:t.transientStakeLamports.toString(),lastUpdateEpoch:t.lastUpdateEpoch.toString(),transientSeedSuffixStart:t.transientSeedSuffixStart.toString(),transientSeedSuffixEnd:t.transientSeedSuffixEnd.toString(),status:t.status.toString(),voteAccountAddress:t.voteAccountAddress.toString()}))),validatorListStorageAccount:o.account.data.validatorList.toBase58(),reserveStake:o.account.data.reserveStake.toBase58(),poolMint:o.account.data.poolMint.toBase58(),managerFeeAccount:o.account.data.managerFeeAccount.toBase58(),tokenProgramId:o.account.data.tokenProgramId.toBase58(),totalLamports:o.account.data.totalLamports.toString(),poolTokenSupply:o.account.data.poolTokenSupply.toString(),lastUpdateEpoch:o.account.data.lastUpdateEpoch.toString(),lockup:o.account.data.lockup,epochFee:o.account.data.epochFee,nextEpochFee:o.account.data.nextEpochFee,preferredDepositValidatorVoteAddress:o.account.data.preferredDepositValidatorVoteAddress,preferredWithdrawValidatorVoteAddress:o.account.data.preferredWithdrawValidatorVoteAddress,stakeDepositFee:o.account.data.stakeDepositFee,stakeWithdrawalFee:o.account.data.stakeWithdrawalFee,nextStakeWithdrawalFee:o.account.data.nextStakeWithdrawalFee,stakeReferralFee:o.account.data.stakeReferralFee,solDepositAuthority:null===(n=o.account.data.solDepositAuthority)||void 0===n?void 0:n.toBase58(),solDepositFee:o.account.data.solDepositFee,solReferralFee:o.account.data.solReferralFee,solWithdrawAuthority:null===(i=o.account.data.solWithdrawAuthority)||void 0===i?void 0:i.toBase58(),solWithdrawalFee:o.account.data.solWithdrawalFee,nextSolWithdrawalFee:o.account.data.nextSolWithdrawalFee,lastEpochPoolTokenSupply:o.account.data.lastEpochPoolTokenSupply.toString(),lastEpochTotalLamports:o.account.data.lastEpochTotalLamports.toString(),details:{reserveStakeLamports:null==f?void 0:f.lamports,reserveAccountStakeAddress:s.toBase58(),minimumReserveStakeBalance:y,stakeAccounts:m,totalLamports:a,totalPoolTokens:g,currentNumberOfValidators:d,maxNumberOfValidators:l,updateRequired:w}}}},9243:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Account:()=>rr,AddressLookupTableAccount:()=>hi,AddressLookupTableInstruction:()=>ss,AddressLookupTableProgram:()=>as,Authorized:()=>ws,BLOCKHASH_CACHE_TIMEOUT_MS:()=>wi,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>ir,BPF_LOADER_PROGRAM_ID:()=>Qr,BpfLoader:()=>ti,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>us,ComputeBudgetInstruction:()=>cs,ComputeBudgetProgram:()=>ls,Connection:()=>rs,Ed25519Program:()=>hs,Enum:()=>Yn,EpochSchedule:()=>si,FeeCalculatorLayout:()=>jr,Keypair:()=>is,LAMPORTS_PER_SOL:()=>Fs,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>os,Loader:()=>Jr,Lockup:()=>bs,MAX_SEED_LENGTH:()=>Qn,Message:()=>vr,MessageAccountKeys:()=>dr,MessageV0:()=>kr,NONCE_ACCOUNT_LENGTH:()=>Vr,NonceAccount:()=>qr,PACKET_DATA_SIZE:()=>or,PUBLIC_KEY_LENGTH:()=>tr,PublicKey:()=>nr,SIGNATURE_LENGTH_IN_BYTES:()=>ar,SOLANA_SCHEMA:()=>Xn,STAKE_CONFIG_ID:()=>gs,STAKE_INSTRUCTION_LAYOUTS:()=>ks,SYSTEM_INSTRUCTION_LAYOUTS:()=>Zr,SYSVAR_CLOCK_PUBKEY:()=>Pr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Mr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Or,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Br,SYSVAR_RENT_PUBKEY:()=>Rr,SYSVAR_REWARDS_PUBKEY:()=>Cr,SYSVAR_SLOT_HASHES_PUBKEY:()=>Lr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Dr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>Nr,Secp256k1Program:()=>ms,SendTransactionError:()=>ai,SolanaJSONRPCError:()=>ui,SolanaJSONRPCErrorCode:()=>ci,StakeAuthorizationLayout:()=>Ss,StakeInstruction:()=>vs,StakeProgram:()=>As,Struct:()=>Zn,SystemInstruction:()=>$r,SystemProgram:()=>Yr,Transaction:()=>Er,TransactionExpiredBlockheightExceededError:()=>cr,TransactionExpiredNonceInvalidError:()=>lr,TransactionExpiredTimeoutError:()=>ur,TransactionInstruction:()=>Ir,TransactionMessage:()=>Tr,TransactionStatus:()=>Ar,VALIDATOR_INFO_KEY:()=>Ps,VERSION_PREFIX_MASK:()=>sr,VOTE_PROGRAM_ID:()=>Bs,ValidatorInfo:()=>Os,VersionedMessage:()=>Sr,VersionedTransaction:()=>xr,VoteAccount:()=>Cs,VoteAuthorizationLayout:()=>Ts,VoteInit:()=>_s,VoteInstruction:()=>Is,VoteProgram:()=>xs,clusterApiUrl:()=>zs,sendAndConfirmRawTransaction:()=>Ks,sendAndConfirmTransaction:()=>Ur});var r=n(5872);function i(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function o(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const s={number:i,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:o,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");i(t.outputLen),i(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){o(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},a=s,c=("object"==typeof globalThis&&"crypto"in globalThis&&globalThis.crypto,t=>new DataView(t.buffer,t.byteOffset,t.byteLength)),u=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function l(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class d{clone(){return this._cloneInto()}}function h(t){const e=e=>t().update(l(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class f extends d{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=c(this.buffer)}update(t){a.exists(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=l(t)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const e=c(t);for(;r<=i-o;o+=r)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){a.exists(this),a.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let t=o;t<r;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=c(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)s.setUint32(4*t,d[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}}const p=BigInt(2**32-1),y=BigInt(32);function m(t,e=!1){return e?{h:Number(t&p),l:Number(t>>y&p)}:{h:0|Number(t>>y&p),l:0|Number(t&p)}}const g={fromBig:m,split:function(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=m(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]},toBig:(t,e)=>BigInt(t>>>0)<<y|BigInt(e>>>0),shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,n)=>t<<n|e>>>32-n,rotlSL:(t,e,n)=>e<<n|t>>>32-n,rotlBH:(t,e,n)=>e<<n-32|t>>>64-n,rotlBL:(t,e,n)=>t<<n-32|e>>>64-n,add:function(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,add5H:(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,add5L:(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[w,b]=g.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),v=new Uint32Array(80),k=new Uint32Array(80);class S extends f{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[t,e,n,r,i,o,s,a,c,u,l,d,h,f,p,y]}set(t,e,n,r,i,o,s,a,c,u,l,d,h,f,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let n=0;n<16;n++,e+=4)v[n]=t.getUint32(e),k[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|v[t-15],n=0|k[t-15],r=g.rotrSH(e,n,1)^g.rotrSH(e,n,8)^g.shrSH(e,n,7),i=g.rotrSL(e,n,1)^g.rotrSL(e,n,8)^g.shrSL(e,n,7),o=0|v[t-2],s=0|k[t-2],a=g.rotrSH(o,s,19)^g.rotrBH(o,s,61)^g.shrSH(o,s,6),c=g.rotrSL(o,s,19)^g.rotrBL(o,s,61)^g.shrSL(o,s,6),u=g.add4L(i,c,k[t-7],k[t-16]),l=g.add4H(u,r,a,v[t-7],v[t-16]);v[t]=0|l,k[t]=0|u}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:l,El:d,Fh:h,Fl:f,Gh:p,Gl:y,Hh:m,Hl:S}=this;for(let t=0;t<80;t++){const e=g.rotrSH(l,d,14)^g.rotrSH(l,d,18)^g.rotrBH(l,d,41),A=g.rotrSL(l,d,14)^g.rotrSL(l,d,18)^g.rotrBL(l,d,41),_=l&h^~l&p,I=d&f^~d&y,E=g.add5L(S,A,I,b[t],k[t]),T=g.add5H(E,m,e,_,w[t],v[t]),x=0|E,P=g.rotrSH(n,r,28)^g.rotrBH(n,r,34)^g.rotrBH(n,r,39),M=g.rotrSL(n,r,28)^g.rotrBL(n,r,34)^g.rotrBL(n,r,39),O=n&i^n&s^i&s,B=r&o^r&a^o&a;m=0|p,S=0|y,p=0|h,y=0|f,h=0|l,f=0|d,({h:l,l:d}=g.add(0|c,0|u,0|T,0|x)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const R=g.add3L(x,M,B);n=g.add3H(R,T,P,O),r=0|R}({h:n,l:r}=g.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=g.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=g.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=g.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:d}=g.add(0|this.Eh,0|this.El,0|l,0|d)),({h,l:f}=g.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:y}=g.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:m,l:S}=g.add(0|this.Hh,0|this.Hl,0|m,0|S)),this.set(n,r,i,o,s,a,c,u,l,d,h,f,p,y,m,S)}roundClean(){v.fill(0),k.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class A extends S{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class _ extends S{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends S{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const E=h((()=>new S));h((()=>new A)),h((()=>new _)),h((()=>new I));var T=n(5898),x=n.t(T,2);const P=BigInt(0),M=BigInt(1),O=BigInt(2),B=BigInt(8),R=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),C=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:R,n:R,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),L=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),D=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),N=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),U=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),z=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),K=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class F{constructor(t,e,n,r){this.x=t,this.y=e,this.z=n,this.t=r}static fromAffine(t){if(!(t instanceof $))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals($.ZERO)?F.ZERO:new F(t.x,t.y,M,st(t.x*t.y))}static toAffineBatch(t){const e=function(t,e=C.P){const n=new Array(t.length),r=at(t.reduce(((t,r,i)=>r===P?t:(n[i]=t,st(t*r,e))),M),e);return t.reduceRight(((t,r,i)=>r===P?t:(n[i]=st(t*n[i],e),st(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){W(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t,a=st(e*s),c=st(i*r),u=st(n*s),l=st(o*r);return a===c&&u===l}negate(){return new F(st(-this.x),this.y,this.z,st(-this.t))}double(){const{x:t,y:e,z:n}=this,{a:r}=C,i=st(t*t),o=st(e*e),s=st(O*st(n*n)),a=st(r*i),c=t+e,u=st(st(c*c)-i-o),l=a+o,d=l-s,h=a-o,f=st(u*d),p=st(l*h),y=st(u*h),m=st(d*l);return new F(f,p,m,y)}add(t){W(t);const{x:e,y:n,z:r,t:i}=this,{x:o,y:s,z:a,t:c}=t,u=st((n-e)*(s+o)),l=st((n+e)*(s-o)),d=st(l-u);if(d===P)return this.double();const h=st(r*O*c),f=st(i*O*a),p=f+h,y=l+u,m=f-h,g=st(p*d),w=st(y*m),b=st(p*m),v=st(d*y);return new F(g,w,v,b)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,n=[];let r=this,i=r;for(let o=0;o<e;o++){i=r,n.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&&this.equals(F.BASE)&&(e=$.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&G.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=F.normalizeZ(r),G.set(e,r)));let i=F.ZERO,o=F.BASE;const s=1+256/n,a=2**(n-1),c=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let s=Number(t&c);t>>=l,s>a&&(s-=u,t+=M);const d=n,h=n+Math.abs(s)-1,f=e%2!=0,p=s<0;0===s?o=o.add(j(f,r[d])):i=i.add(j(p,r[h]))}return F.normalizeZ([i,o])[0]}multiply(t,e){return this.wNAF(pt(t,C.l),e)}multiplyUnsafe(t){let e=pt(t,C.l,!1);const n=F.BASE,r=F.ZERO;if(e===P)return r;if(this.equals(r)||e===M)return this;if(this.equals(n))return this.wNAF(e);let i=r,o=this;for(;e>P;)e&M&&(i=i.add(o)),o=o.double(),e>>=M;return i}isSmallOrder(){return this.multiplyUnsafe(C.h).equals(F.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(C.l/O).double();return C.l%O&&(t=t.add(this)),t.equals(F.ZERO)}toAffine(t){const{x:e,y:n,z:r}=this,i=this.equals(F.ZERO);null==t&&(t=i?B:at(r));const o=st(e*t),s=st(n*t),a=st(r*t);if(i)return $.ZERO;if(a!==M)throw new Error("invZ was invalid");return new $(o,s)}fromRistrettoBytes(){q()}toRistrettoBytes(){q()}fromRistrettoHash(){q()}}function j(t,e){const n=e.negate();return t?n:e}function W(t){if(!(t instanceof F))throw new TypeError("ExtendedPoint expected")}function V(t){if(!(t instanceof H))throw new TypeError("RistrettoPoint expected")}function q(){throw new Error("Legacy method: switch to RistrettoPoint")}F.BASE=new F(C.Gx,C.Gy,M,st(C.Gx*C.Gy)),F.ZERO=new F(P,M,M,P);class H{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=C,n=st(D*t*t),r=st((n+M)*z);let i=BigInt(-1);const o=st((i-e*n)*st(n+e));let{isValid:s,value:a}=lt(r,o),c=st(a*t);nt(c)||(c=st(-c)),s||(a=c),s||(i=n);const u=st(i*(n-M)*K-o),l=a*a,d=st((a+a)*o),h=st(u*N),f=st(M-l),p=st(M+l);return new F(st(d*p),st(f*h),st(h*p),st(d*f))}static hashToCurve(t){const e=ot((t=ft(t,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(e),r=ot(t.slice(32,64)),i=this.calcElligatorRistrettoMap(r);return new H(n.add(i))}static fromHex(t){t=ft(t,32);const{a:e,d:n}=C,r="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=ot(t);if(!function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(et(i),t)||nt(i))throw new Error(r);const o=st(i*i),s=st(M+e*o),a=st(M-e*o),c=st(s*s),u=st(a*a),l=st(e*n*c-u),{isValid:d,value:h}=dt(st(l*u)),f=st(h*a),p=st(h*f*l);let y=st((i+i)*f);nt(y)&&(y=st(-y));const m=st(s*p),g=st(y*m);if(!d||nt(g)||m===P)throw new Error(r);return new H(new F(y,m,M,g))}toRawBytes(){let{x:t,y:e,z:n,t:r}=this.ep;const i=st(st(n+e)*st(n-e)),o=st(t*e),s=st(o*o),{value:a}=dt(st(i*s)),c=st(a*i),u=st(a*o),l=st(c*u*r);let d;if(nt(r*l)){let n=st(e*D),r=st(t*D);t=n,e=r,d=st(c*U)}else d=u;nt(t*l)&&(e=st(-e));let h=st((n-e)*d);return nt(h)&&(h=st(-h)),et(h)}toHex(){return J(this.toRawBytes())}toString(){return this.toHex()}equals(t){V(t);const e=this.ep,n=t.ep,r=st(e.x*n.y)===st(e.y*n.x),i=st(e.y*n.y)===st(e.x*n.x);return r||i}add(t){return V(t),new H(this.ep.add(t.ep))}subtract(t){return V(t),new H(this.ep.subtract(t.ep))}multiply(t){return new H(this.ep.multiply(t))}multiplyUnsafe(t){return new H(this.ep.multiplyUnsafe(t))}}H.BASE=new H(F.BASE),H.ZERO=new H(F.ZERO);const G=new WeakMap;class ${constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,G.delete(this)}static fromHex(t,e=!0){const{d:n,P:r}=C,i=(t=ft(t,32)).slice();i[31]=-129&t[31];const o=rt(i);if(e&&o>=r)throw new Error("Expected 0 < hex < P");if(!e&&o>=L)throw new Error("Expected 0 < hex < 2**256");const s=st(o*o),a=st(s-M),c=st(n*s+M);let{isValid:u,value:l}=lt(a,c);if(!u)throw new Error("Point.fromHex: invalid y coordinate");const d=(l&M)===M;return 0!=(128&t[31])!==d&&(l=st(-l)),new $(l,o)}static async fromPrivateKey(t){return(await vt(t)).point}toRawBytes(){const t=et(this.y);return t[31]|=this.x&M?128:0,t}toHex(){return J(this.toRawBytes())}toX25519(){const{y:t}=this;return et(st((M+t)*at(M-t)))}isTorsionFree(){return F.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new $(st(-this.x),this.y)}add(t){return F.fromAffine(this).add(F.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return F.fromAffine(this).multiply(t,this).toAffine()}}$.BASE=new $(C.Gx,C.Gy),$.ZERO=new $(P,M);class Z{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=ft(t,64),n=$.fromHex(e.slice(0,32),!1),r=rt(e.slice(32,64));return new Z(n,r)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof $))throw new Error("Expected Point instance");return pt(e,C.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(et(this.s),32),t}toHex(){return J(this.toRawBytes())}}function Y(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}const X=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function J(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=X[t[n]];return e}function Q(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,i=t.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[n]=o}return e}function tt(t){return Q(t.toString(16).padStart(64,"0"))}function et(t){return tt(t).reverse()}function nt(t){return(st(t)&M)===M}function rt(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+J(Uint8Array.from(t).reverse()))}const it=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ot(t){return st(rt(t)&it)}function st(t,e=C.P){const n=t%e;return n>=P?n:e+n}function at(t,e=C.P){if(t===P||e<=P)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=st(t,e),r=e,i=P,o=M,s=M,a=P;for(;n!==P;){const t=r/n,e=r%n,c=i-s*t,u=o-a*t;r=n,n=e,i=s,o=a,s=c,a=u}if(r!==M)throw new Error("invert: does not exist");return st(i,e)}function ct(t,e){const{P:n}=C;let r=t;for(;e-- >P;)r*=r,r%=n;return r}function ut(t){const{P:e}=C,n=BigInt(5),r=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),a=t*t%e*t%e,c=ct(a,O)*a%e,u=ct(c,M)*t%e,l=ct(u,n)*u%e,d=ct(l,r)*l%e,h=ct(d,i)*d%e,f=ct(h,o)*h%e,p=ct(f,s)*f%e,y=ct(p,s)*f%e,m=ct(y,r)*l%e;return{pow_p_5_8:ct(m,O)*t%e,b2:a}}function lt(t,e){const n=st(e*e*e),r=st(n*n*e);let i=st(t*n*ut(t*r).pow_p_5_8);const o=st(e*i*i),s=i,a=st(i*D),c=o===t,u=o===st(-t),l=o===st(-t*D);return c&&(i=s),(u||l)&&(i=a),nt(i)&&(i=st(-i)),{isValid:c||u,value:i}}function dt(t){return lt(M,t)}function ht(t){return st(rt(t),C.l)}function ft(t,e){const n=t instanceof Uint8Array?Uint8Array.from(t):Q(t);if("number"==typeof e&&n.length!==e)throw new Error(`Expected ${e} bytes`);return n}function pt(t,e,n=!0){if(!e)throw new TypeError("Specify max value");if("number"==typeof t&&Number.isSafeInteger(t)&&(t=BigInt(t)),"bigint"==typeof t&&t<e)if(n){if(P<t)return t}else if(P<=t)return t;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function yt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function mt(t){if(32!==(t="bigint"==typeof t||"number"==typeof t?tt(pt(t,L)):ft(t)).length)throw new Error("Expected 32 bytes");return t}function gt(t){const e=yt(t.slice(0,32)),n=t.slice(32,64),r=ht(e),i=$.BASE.multiply(r),o=i.toRawBytes();return{head:e,prefix:n,scalar:r,point:i,pointBytes:o}}let wt;function bt(...t){if("function"!=typeof wt)throw new Error("utils.sha512Sync must be set to use sync methods");return wt(...t)}async function vt(t){return gt(await Et.sha512(mt(t)))}function kt(t){return gt(bt(mt(t)))}function St(t,e,n){e=ft(e),n instanceof $||(n=$.fromHex(n,!1));const{r,s:i}=t instanceof Z?t.assertValidity():Z.fromHex(t);return{r,s:i,SB:F.BASE.multiplyUnsafe(i),pub:n,msg:e}}function At(t,e,n,r){const i=ht(r),o=F.fromAffine(t).multiplyUnsafe(i);return F.fromAffine(e).add(o).subtract(n).multiplyUnsafe(C.h).equals(F.ZERO)}const _t={getExtendedPublicKey:kt,getPublicKey:function(t){return kt(t).pointBytes},sign:function(t,e){t=ft(t);const{prefix:n,scalar:r,pointBytes:i}=kt(e),o=ht(bt(n,t)),s=$.BASE.multiply(o),a=st(o+ht(bt(s.toRawBytes(),i,t))*r,C.l);return new Z(s,a).toRawBytes()},verify:function(t,e,n){const{r,SB:i,msg:o,pub:s}=St(t,e,n),a=bt(r.toRawBytes(),s.toRawBytes(),o);return At(s,r,i,a)}};$.BASE._setWindowSize(8);const It={node:x,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Et={bytesToHex:J,hexToBytes:Q,concatBytes:Y,getExtendedPublicKey:vt,mod:st,invert:at,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if((t=ft(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return st(rt(t),C.l-M)+M},randomBytes:(t=32)=>{if(It.web)return It.web.getRandomValues(new Uint8Array(t));if(It.node){const{randomBytes:e}=It.node;return new Uint8Array(e(t).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Et.randomBytes(32),sha512:async(...t)=>{const e=Y(...t);if(It.web){const t=await It.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(It.node)return Uint8Array.from(It.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(t=8,e=$.BASE){const n=e.equals($.BASE)?e:new $(e.x,e.y);return n._setWindowSize(t),n.multiply(O),n},sha512Sync:void 0};Object.defineProperties(Et,{sha512Sync:{configurable:!1,get:()=>wt,set(t){wt||(wt=t)}}});var Tt=n(9098),xt=n.n(Tt),Pt=n(1511),Mt=n.n(Pt);const Ot=(t,e,n)=>t&e^t&n^e&n,Bt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ct=new Uint32Array(64);class Lt extends f{constructor(){super(64,32,8,!1),this.A=0|Rt[0],this.B=0|Rt[1],this.C=0|Rt[2],this.D=0|Rt[3],this.E=0|Rt[4],this.F=0|Rt[5],this.G=0|Rt[6],this.H=0|Rt[7]}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)Ct[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=Ct[t-15],n=Ct[t-2],r=u(e,7)^u(e,18)^e>>>3,i=u(n,17)^u(n,19)^n>>>10;Ct[t]=i+Ct[t-7]+r+Ct[t-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:l}=this;for(let t=0;t<64;t++){const e=l+(u(s,6)^u(s,11)^u(s,25))+((d=s)&a^~d&c)+Bt[t]+Ct[t]|0,h=(u(n,2)^u(n,13)^u(n,22))+Ot(n,r,i)|0;l=c,c=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+h|0}var d;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,o,s,a,c,l)}roundClean(){Ct.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Dt extends Lt{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Nt=h((()=>new Lt));h((()=>new Dt));var Ut=n(8797),zt=n(4639),Kt=n(3477);n(9500);class Ft extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function jt(t){return"object"==typeof t&&null!=t}function Wt(t){return"string"==typeof t?JSON.stringify(t):""+t}function Vt(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Wt(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*qt(t,e,n,r){var i;jt(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=Vt(i,e,n,r);t&&(yield t)}}function*Ht(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&jt(e.schema)&&jt(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,a))c=!1,yield[n,void 0];for(let[n,u,l]of e.entries(t,a)){const e=Ht(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:o,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):o&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):jt(t)&&(t[n]=u))}if(c)for(const n of e.refiner(t,a))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class Gt{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>qt(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>qt(i(t,e),e,this,t):()=>[]}assert(t){return $t(t,this)}create(t){return Zt(t,this)}is(t){return Yt(t,this)}mask(t){return function(t,e){const n=Xt(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e={}){return Xt(t,this,e)}}function $t(t,e){const n=Xt(t,e);if(n[0])throw n[0]}function Zt(t,e){const n=Xt(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function Yt(t,e){return!Xt(t,e)[0]}function Xt(t,e,n={}){const r=Ht(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new Ft(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function Jt(t,e){return new Gt({type:t,schema:null,validator:e})}function Qt(t){return new Gt({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Wt(t)})}function te(){return Jt("boolean",(t=>"boolean"==typeof t))}function ee(t){return Jt("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Wt(e)))}function ne(t){const e=Wt(t),n=typeof t;return new Gt({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+Wt(n)})}function re(){return Jt("never",(()=>!1))}function ie(t){return new Gt({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function oe(){return Jt("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Wt(t)))}function se(t){return new Gt({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function ae(t,e){return new Gt({type:"record",schema:null,*entries(n){if(jt(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>jt(t)||"Expected an object, but received: "+Wt(t)})}function ce(){return Jt("string",(t=>"string"==typeof t||"Expected a string, but received: "+Wt(t)))}function ue(t){const e=re();return new Gt({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+Wt(t)})}function le(t){const e=Object.keys(t);return new Gt({type:"type",schema:t,*entries(n){if(jt(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>jt(t)||"Expected an object, but received: "+Wt(t)})}function de(t){const e=t.map((t=>t.type)).join(" | ");return new Gt({type:"union",schema:null,validator(n,r){const i=[];for(const e of t){const[...t]=Ht(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Wt(n),...i]}})}function he(){return Jt("unknown",(()=>!0))}function fe(t,e,n){return new Gt({...t,coercer:(r,i)=>Yt(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var pe=n(7167),ye=n.n(pe),me=n(8445),ge=n(7225);const[we,be,ve]=[[],[],[]],ke=BigInt(0),Se=BigInt(1),Ae=BigInt(2),_e=BigInt(7),Ie=BigInt(256),Ee=BigInt(113);for(let t=0,e=Se,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],we.push(2*(5*r+n)),be.push((t+1)*(t+2)/2%64);let i=ke;for(let t=0;t<7;t++)e=(e<<Se^(e>>_e)*Ee)%Ie,e&Ae&&(i^=Se<<(Se<<BigInt(t))-Se);ve.push(i)}const[Te,xe]=g.split(ve,!0),Pe=(t,e,n)=>n>32?g.rotlBH(t,e,n):g.rotlSH(t,e,n),Me=(t,e,n)=>n>32?g.rotlBL(t,e,n):g.rotlSL(t,e,n);class Oe extends d{constructor(t,e,n,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,a.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let e=0;e<10;e++)n[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const r=(e+8)%10,i=(e+2)%10,o=n[i],s=n[i+1],a=Pe(o,s,1)^n[r],c=Me(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)t[e+n]^=a,t[e+n+1]^=c}let e=t[2],i=t[3];for(let n=0;n<24;n++){const r=be[n],o=Pe(e,i,r),s=Me(e,i,r),a=we[n];e=t[a],i=t[a+1],t[a]=o,t[a+1]=s}for(let e=0;e<50;e+=10){for(let r=0;r<10;r++)n[r]=t[e+r];for(let r=0;r<10;r++)t[e+r]^=~n[(r+2)%10]&n[(r+4)%10]}t[0]^=Te[r],t[1]^=xe[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){a.exists(this);const{blockLen:e,state:n}=this,r=(t=l(t)).length;for(let i=0;i<r;){const o=Math.min(e-this.pos,r-i);for(let e=0;e<o;e++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,0!=(128&e)&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){a.exists(this,!1),a.bytes(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return a.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(a.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return t||(t=new Oe(e,n,r,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Be=(t,e,n)=>h((()=>new Oe(e,t,n))),Re=(Be(6,144,28),Be(6,136,32),Be(6,104,48),Be(6,72,64),Be(1,144,28),Be(1,136,32)),Ce=(Be(1,104,48),Be(1,72,64),(t,e,n)=>function(t){const e=(e,n)=>t(n).update(l(e)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e}(((r={})=>new Oe(e,t,void 0===r.dkLen?n:r.dkLen,!0))));Ce(31,168,16),Ce(31,136,32);class Le extends d{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,a.hash(t);const n=l(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?t.create().update(n).digest():n);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return a.exists(this),this.iHash.update(t),this}digestInto(t){a.exists(this),a.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const De=(t,e,n)=>new Le(t,e).update(n).digest();De.create=(t,e)=>new Le(t,e);var Ne=n(4087),Ue=n.t(Ne,2);const ze=BigInt(0),Ke=BigInt(1),Fe=BigInt(2),je=BigInt(3),We=BigInt(8),Ve=Object.freeze({a:ze,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Ke,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),qe=(t,e)=>(t+e/Fe)/e,He={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=Ve,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ke*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=qe(o*t,e),c=qe(-r*t,e);let u=kn(t-a*n-c*i,e),l=kn(-a*r-c*o,e);const d=u>s,h=l>s;if(d&&(u=e-u),h&&(l=e-l),u>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:h,k2:l}}},Ge=32,$e=32,Ze=Ge+1,Ye=2*Ge+1;function Xe(t){const{a:e,b:n}=Ve,r=kn(t*t),i=kn(r*t);return kn(i+e*t+n)}const Je=Ve.a===ze;class Qe extends Error{constructor(t){super(t)}}function tn(t){if(!(t instanceof en))throw new TypeError("JacobianPoint expected")}class en{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof on))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(on.ZERO)?en.ZERO:new en(t.x,t.y,Ke)}static toAffineBatch(t){const e=function(t,e=Ve.P){const n=new Array(t.length),r=An(t.reduce(((t,r,i)=>r===ze?t:(n[i]=t,kn(t*r,e))),Ke),e);return t.reduceRight(((t,r,i)=>r===ze?t:(n[i]=kn(t*n[i],e),kn(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return en.toAffineBatch(t).map(en.fromAffine)}equals(t){tn(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t,a=kn(r*r),c=kn(s*s),u=kn(e*c),l=kn(i*a),d=kn(kn(n*s)*c),h=kn(kn(o*r)*a);return u===l&&d===h}negate(){return new en(this.x,kn(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=kn(t*t),i=kn(e*e),o=kn(i*i),s=t+i,a=kn(Fe*(kn(s*s)-r-o)),c=kn(je*r),u=kn(c*c),l=kn(u-Fe*a),d=kn(c*(a-l)-We*o),h=kn(Fe*e*n);return new en(l,d,h)}add(t){tn(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t;if(i===ze||o===ze)return this;if(e===ze||n===ze)return t;const a=kn(r*r),c=kn(s*s),u=kn(e*c),l=kn(i*a),d=kn(kn(n*s)*c),h=kn(kn(o*r)*a),f=kn(l-u),p=kn(h-d);if(f===ze)return p===ze?this.double():en.ZERO;const y=kn(f*f),m=kn(f*y),g=kn(u*y),w=kn(p*p-m-Fe*g),b=kn(p*(g-w)-d*m),v=kn(r*s*f);return new en(w,b,v)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=en.ZERO;if("bigint"==typeof t&&t===ze)return e;let n=vn(t);if(n===Ke)return this;if(!Je){let t=e,r=this;for(;n>ze;)n&Ke&&(t=t.add(r)),r=r.double(),n>>=Ke;return t}let{k1neg:r,k1:i,k2neg:o,k2:s}=He.splitScalar(n),a=e,c=e,u=this;for(;i>ze||s>ze;)i&Ke&&(a=a.add(u)),s&Ke&&(c=c.add(u)),u=u.double(),i>>=Ke,s>>=Ke;return r&&(a=a.negate()),o&&(c=c.negate()),c=new en(kn(c.x*He.beta),c.y,c.z),a.add(c)}precomputeWindow(t){const e=Je?128/t+1:256/t+1,n=[];let r=this,i=r;for(let o=0;o<e;o++){i=r,n.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&&this.equals(en.BASE)&&(e=on.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&rn.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=en.normalizeZ(r),rn.set(e,r)));let i=en.ZERO,o=en.BASE;const s=1+(Je?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let s=Number(t&c);t>>=l,s>a&&(s-=u,t+=Ke);const d=n,h=n+Math.abs(s)-1,f=e%2!=0,p=s<0;0===s?o=o.add(nn(f,r[d])):i=i.add(nn(p,r[h]))}return{p:i,f:o}}multiply(t,e){let n,r,i=vn(t);if(Je){const{k1neg:t,k1:o,k2neg:s,k2:a}=He.splitScalar(i);let{p:c,f:u}=this.wNAF(o,e),{p:l,f:d}=this.wNAF(a,e);c=nn(t,c),l=nn(s,l),l=new en(kn(l.x*He.beta),l.y,l.z),n=c.add(l),r=u.add(d)}else{const{p:t,f:o}=this.wNAF(i,e);n=t,r=o}return en.normalizeZ([n,r])[0]}toAffine(t){const{x:e,y:n,z:r}=this,i=this.equals(en.ZERO);null==t&&(t=i?We:An(r));const o=t,s=kn(o*o),a=kn(s*o),c=kn(e*s),u=kn(n*a),l=kn(r*o);if(i)return on.ZERO;if(l!==Ke)throw new Error("invZ was invalid");return new on(c,u)}}function nn(t,e){const n=e.negate();return t?n:e}en.BASE=new en(Ve.Gx,Ve.Gy,Ke),en.ZERO=new en(ze,Ke,ze);const rn=new WeakMap;class on{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,rn.delete(this)}hasEvenY(){return this.y%Fe===ze}static fromCompressedHex(t){const e=32===t.length,n=wn(e?t:t.subarray(1));if(!Pn(n))throw new Error("Point is not on curve");let r=function(t){const{P:e}=Ve,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=Sn(u,je)*u%e,d=Sn(l,je)*u%e,h=Sn(d,Fe)*c%e,f=Sn(h,r)*h%e,p=Sn(f,i)*f%e,y=Sn(p,s)*p%e,m=Sn(y,a)*y%e,g=Sn(m,s)*p%e,w=Sn(g,je)*u%e,b=Sn(w,o)*f%e,v=Sn(b,n)*c%e,k=Sn(v,Fe);if(k*k%e!==t)throw new Error("Cannot find square root");return k}(Xe(n));const i=(r&Ke)===Ke;if(e)i&&(r=kn(-r));else{1==(1&t[0])!==i&&(r=kn(-r))}const o=new on(n,r);return o.assertValidity(),o}static fromUncompressedHex(t){const e=wn(t.subarray(1,Ge+1)),n=wn(t.subarray(Ge+1,2*Ge+1)),r=new on(e,n);return r.assertValidity(),r}static fromHex(t){const e=bn(t),n=e.length,r=e[0];if(n===Ge)return this.fromCompressedHex(e);if(n===Ze&&(2===r||3===r))return this.fromCompressedHex(e);if(n===Ye&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Ze} compressed bytes or ${Ye} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return on.BASE.multiply(On(t))}static fromSignature(t,e,n){const{r,s:i}=Bn(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=_n(bn(t)),{n:s}=Ve,a=2===n||3===n?r+s:r,c=An(a,s),u=kn(-o*c,s),l=kn(i*c,s),d=1&n?"03":"02",h=on.fromHex(d+fn(a)),f=on.BASE.multiplyAndAddUnsafe(h,u,l);if(!f)throw new Error("Cannot recover signature: point at infinify");return f.assertValidity(),f}toRawBytes(t=!1){return gn(this.toHex(t))}toHex(t=!1){const e=fn(this.x);if(t){return`${this.hasEvenY()?"02":"03"}${e}`}return`04${e}${fn(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!Pn(e)||!Pn(n))throw new Error(t);const r=kn(n*n);if(kn(r-Xe(e))!==ze)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new on(this.x,kn(-this.y))}double(){return en.fromAffine(this).double().toAffine()}add(t){return en.fromAffine(this).add(en.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return en.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=en.fromAffine(this),i=e===ze||e===Ke||this!==on.BASE?r.multiplyUnsafe(e):r.multiply(e),o=en.fromAffine(t).multiplyUnsafe(n),s=i.add(o);return s.equals(en.ZERO)?void 0:s.toAffine()}}function sn(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function an(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${dn(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:wn(n),left:t.subarray(e+2)}}on.BASE=new on(Ve.Gx,Ve.Gy),on.ZERO=new on(ze,ze);class cn{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?dn(t):t;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new cn(mn(r.slice(0,64)),mn(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${dn(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=an(t.subarray(2)),{data:r,left:i}=an(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${dn(i)}`);return{r:e,s:r}}(e?t:gn(t));return new cn(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!xn(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!xn(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=Ve.n>>Ke;return this.s>t}normalizeS(){return this.hasHighS()?new cn(this.r,kn(-this.s,Ve.n)):this}toDERRawBytes(){return gn(this.toDERHex())}toDERHex(){const t=sn(yn(this.s)),e=sn(yn(this.r)),n=t.length/2,r=e.length/2,i=yn(n),o=yn(r);return`30${yn(r+n+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return gn(this.toCompactHex())}toCompactHex(){return fn(this.r)+fn(this.s)}}function un(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}const ln=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function dn(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=ln[t[n]];return e}const hn=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function fn(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(ze<=t&&t<hn))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function pn(t){const e=gn(fn(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function yn(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function mn(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function gn(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,i=t.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[n]=o}return e}function wn(t){return mn(dn(t))}function bn(t){return t instanceof Uint8Array?Uint8Array.from(t):gn(t)}function vn(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&xn(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function kn(t,e=Ve.P){const n=t%e;return n>=ze?n:e+n}function Sn(t,e){const{P:n}=Ve;let r=t;for(;e-- >ze;)r*=r,r%=n;return r}function An(t,e=Ve.P){if(t===ze||e<=ze)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=kn(t,e),r=e,i=ze,o=Ke,s=Ke,a=ze;for(;n!==ze;){const t=r/n,e=r%n,c=i-s*t,u=o-a*t;r=n,n=e,i=s,o=a,s=c,a=u}if(r!==Ke)throw new Error("invert: does not exist");return kn(i,e)}function _n(t,e=!1){const n=function(t){const e=8*t.length-8*$e,n=wn(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;const{n:r}=Ve;return n>=r?n-r:n}let In,En;class Tn{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Kn.hmacSha256(this.k,...t)}hmacSync(...t){return En(this.k,...t)}checkSync(){if("function"!=typeof En)throw new Qe("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return un(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return un(...e)}}function xn(t){return ze<t&&t<Ve.n}function Pn(t){return ze<t&&t<Ve.P}function Mn(t,e,n,r=!0){const{n:i}=Ve,o=_n(t,!0);if(!xn(o))return;const s=An(o,i),a=on.BASE.multiply(o),c=kn(a.x,i);if(c===ze)return;const u=kn(s*kn(e+n*c,i),i);if(u===ze)return;let l=new cn(c,u),d=(a.x===l.r?0:2)|Number(a.y&Ke);return r&&l.hasHighS()&&(l=l.normalizeS(),d^=1),{sig:l,recovery:d}}function On(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*$e)throw new Error("Expected 32 bytes of private key");e=mn(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==$e)throw new Error("Expected 32 bytes of private key");e=wn(t)}if(!xn(e))throw new Error("Expected private key: 0 < key < n");return e}function Bn(t){if(t instanceof cn)return t.assertValidity(),t;try{return cn.fromDER(t)}catch(e){return cn.fromCompact(t)}}function Rn(t){return wn(t.length>Ge?t.slice(0,Ge):t)}function Cn(t){const e=Rn(t),n=kn(e,Ve.n);return Ln(n<ze?e:n)}function Ln(t){return pn(t)}function Dn(t,e,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=bn(t),i=On(e),o=[Ln(i),Cn(r)];if(null!=n){!0===n&&(n=Kn.randomBytes(Ge));const t=bn(n);if(t.length!==Ge)throw new Error(`sign: Expected ${Ge} bytes of extra data`);o.push(t)}return{seed:un(...o),m:Rn(r),d:i}}function Nn(t,e){const{sig:n,recovery:r}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[s,r]:s}on.BASE._setWindowSize(8);const Un={node:Ue,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},zn={},Kn={bytesToHex:dn,hexToBytes:gn,concatBytes:un,mod:kn,invert:An,isValidPrivateKey(t){try{return On(t),!0}catch(t){return!1}},_bigintTo32Bytes:pn,_normalizePrivateKey:On,hashToPrivateKey:t=>{t=bn(t);const e=$e+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return pn(kn(wn(t),Ve.n-Ke)+Ke)},randomBytes:(t=32)=>{if(Un.web)return Un.web.getRandomValues(new Uint8Array(t));if(Un.node){const{randomBytes:e}=Un.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Kn.hashToPrivateKey(Kn.randomBytes($e+8)),precompute(t=8,e=on.BASE){const n=e===on.BASE?e:new on(e.x,e.y);return n._setWindowSize(t),n.multiply(je),n},sha256:async(...t)=>{if(Un.web){const e=await Un.web.subtle.digest("SHA-256",un(...t));return new Uint8Array(e)}if(Un.node){const{createHash:e}=Un.node,n=e("sha256");return t.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Un.web){const n=await Un.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=un(...e),i=await Un.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}if(Un.node){const{createHmac:n}=Un.node,r=n("sha256",t);return e.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=zn[t];if(void 0===n){const e=await Kn.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=un(e,e),zn[t]=n}return Kn.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof In)throw new Qe("sha256Sync is undefined, you need to set it");let n=zn[t];if(void 0===n){const e=In(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=un(e,e),zn[t]=n}return In(n,...e)},_JacobianPoint:en};Object.defineProperties(Kn,{sha256Sync:{configurable:!1,get:()=>In,set(t){In||(In=t)}},hmacSha256Sync:{configurable:!1,get:()=>En,set(t){En||(En=t)}}});var Fn=n(9500);Et.sha512Sync=(...t)=>E(Et.concatBytes(...t));const jn=Et.randomPrivateKey,Wn=()=>{const t=Et.randomPrivateKey(),e=Vn(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Vn=_t.getPublicKey;function qn(t){try{return $.fromHex(t,!0),!0}catch{return!1}}const Hn=(t,e)=>_t.sign(t,e.slice(0,32)),Gn=_t.verify,$n=t=>r.Buffer.isBuffer(t)?t:t instanceof Uint8Array?r.Buffer.from(t.buffer,t.byteOffset,t.byteLength):r.Buffer.from(t);class Zn{constructor(t){Object.assign(this,t)}encode(){return r.Buffer.from((0,Ut.serialize)(Xn,this))}static decode(t){return(0,Ut.deserialize)(Xn,this,t)}static decodeUnchecked(t){return(0,Ut.deserializeUnchecked)(Xn,this,t)}}class Yn extends Zn{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const Xn=new Map;let Jn;const Qn=32,tr=32;let er=1;Jn=Symbol.toStringTag;class nr extends Zn{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Mt().decode(t);if(e.length!=tr)throw new Error("Invalid public key input");this._bn=new(xt())(e)}else this._bn=new(xt())(t);if(this._bn.byteLength()>tr)throw new Error("Invalid public key input")}}static unique(){const t=new nr(er);return er+=1,new nr(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Mt().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(r.Buffer);if(t.length===tr)return t;const e=r.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Jn](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const i=r.Buffer.concat([t.toBuffer(),r.Buffer.from(e),n.toBuffer()]),o=Nt(i);return new nr(o)}static createProgramAddressSync(t,e){let n=r.Buffer.alloc(0);t.forEach((function(t){if(t.length>Qn)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,$n(t)])})),n=r.Buffer.concat([n,e.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);const i=Nt(n);if(qn(i))throw new Error("Invalid seeds, address must fall off the curve");return new nr(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,i=255;for(;0!=i;){try{const o=t.concat(r.Buffer.from([i]));n=this.createProgramAddressSync(o,e)}catch(t){if(t instanceof TypeError)throw t;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return qn(new nr(t).toBytes())}}nr.default=new nr("11111111111111111111111111111111"),Xn.set(nr,{kind:"struct",fields:[["_bn","u256"]]});class rr{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=$n(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=$n(jn()),this._publicKey=$n(Vn(this._secretKey))}get publicKey(){return new nr(this._publicKey)}get secretKey(){return r.Buffer.concat([this._secretKey,this._publicKey],64)}}const ir=new nr("BPFLoader1111111111111111111111111111111111"),or=1232,sr=127,ar=64;class cr extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(cr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ur extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ur.prototype,"name",{value:"TransactionExpiredTimeoutError"});class lr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(lr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class dr{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,n)=>{e.set(t.toBase58(),n)}));const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map((t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map((t=>n(t.pubkey))),data:t.data})))}}const hr=(t="publicKey")=>zt.blob(32,t),fr=(t="signature")=>zt.blob(64,t),pr=(t="string")=>{const e=zt.struct([zt.u32("length"),zt.u32("lengthPadding"),zt.blob(zt.offset(zt.u32(),-8),"chars")],t),n=e.decode.bind(e),i=e.encode.bind(e),o=e;return o.decode=(t,e)=>n(t,e).chars.toString(),o.encode=(t,e,n)=>{const o={chars:r.Buffer.from(t,"utf8")};return i(o,e,n)},o.alloc=t=>zt.u32().span+zt.u32().span+r.Buffer.from(t,"utf8").length,o};function yr(t,e){const n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const r=e[t.property];if(Array.isArray(r))return r.length*n(t.elementLayout)}else if("fields"in t)return yr({layout:t},e[t.property]);return 0};let r=0;return t.layout.fields.forEach((t=>{r+=n(t)})),r}function mr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,0==(128&r))break}return e}function gr(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function wr(t,e){if(!t)throw new Error(e||"Assertion failed")}class br{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){r(e.programId).isInvoked=!0;for(const t of e.keys){const e=r(t.pubkey);e.isSigner||(e.isSigner=t.isSigner),e.isWritable||(e.isWritable=t.isWritable)}}return new br(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];wr(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),n=t.filter((([,t])=>t.isSigner&&!t.isWritable)),r=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{wr(e.length>0,"Expected at least one writable signer key");const[t]=e[0];wr(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map((([t])=>new nr(t))),...n.map((([t])=>new nr(t))),...r.map((([t])=>new nr(t))),...i.map((([t])=>new nr(t)))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new nr(i),o=t.findIndex((t=>t.equals(e)));o>=0&&(wr(o<256,"Max lookup table index exceeded"),n.push(o),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}class vr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new nr(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Mt().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new dr(this.staticAccountKeys)}static compile(t){const e=br.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new dr(r).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Mt().encode(t.data)})));return new vr({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];gr(e,t);const n=this.instructions.map((t=>{const{accounts:e,programIdIndex:n}=t,i=Array.from(Mt().decode(t.data));let o=[];gr(o,e.length);let s=[];return gr(s,i.length),{programIdIndex:n,keyIndicesCount:r.Buffer.from(o),keyIndices:e,dataLength:r.Buffer.from(s),data:i}}));let i=[];gr(i,n.length);let o=r.Buffer.alloc(or);r.Buffer.from(i).copy(o);let s=i.length;n.forEach((t=>{const e=zt.struct([zt.u8("programIdIndex"),zt.blob(t.keyIndicesCount.length,"keyIndicesCount"),zt.seq(zt.u8("keyIndex"),t.keyIndices.length,"keyIndices"),zt.blob(t.dataLength.length,"dataLength"),zt.seq(zt.u8("userdatum"),t.data.length,"data")]).encode(t,o,s);s+=e})),o=o.slice(0,s);const a=zt.struct([zt.blob(1,"numRequiredSignatures"),zt.blob(1,"numReadonlySignedAccounts"),zt.blob(1,"numReadonlyUnsignedAccounts"),zt.blob(e.length,"keyCount"),zt.seq(hr("key"),t,"keys"),hr("recentBlockhash")]),c={numRequiredSignatures:r.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:r.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:r.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:r.Buffer.from(e),keys:this.accountKeys.map((t=>$n(t.toBytes()))),recentBlockhash:Mt().decode(this.recentBlockhash)};let u=r.Buffer.alloc(2048);const l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&sr))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=e.shift(),o=e.shift(),s=mr(e);let a=[];for(let t=0;t<s;t++){const t=e.slice(0,tr);e=e.slice(tr),a.push(new nr(r.Buffer.from(t)))}const c=e.slice(0,tr);e=e.slice(tr);const u=mr(e);let l=[];for(let t=0;t<u;t++){const t=e.shift(),n=mr(e),i=e.slice(0,n);e=e.slice(n);const o=mr(e),s=e.slice(0,o),a=Mt().encode(r.Buffer.from(s));e=e.slice(o),l.push({programIdIndex:t,accounts:i,data:a})}const d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Mt().encode(r.Buffer.from(c)),accountKeys:a,instructions:l};return new vr(d)}}class kr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new dr(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){return t-n<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0)}if(t>=this.header.numRequiredSignatures){return t-e<n-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=t.find((t=>t.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const t of n.writableIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(r.state.addresses[t])}for(const t of n.readonlyIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(r.state.addresses[t])}}return e}static compile(t){const e=br.compile(t.instructions,t.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const t of i){const i=e.extractTableLookup(t);if(void 0!==i){const[t,{writable:e,readonly:o}]=i;n.push(t),r.writable.push(...e),r.readonly.push(...o)}}const[o,s]=e.getMessageComponents(),a=new dr(s,r).compileInstructions(t.instructions);return new kr({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const t=Array();gr(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();gr(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();gr(i,this.addressTableLookups.length);const o=zt.struct([zt.u8("prefix"),zt.struct([zt.u8("numRequiredSignatures"),zt.u8("numReadonlySignedAccounts"),zt.u8("numReadonlyUnsignedAccounts")],"header"),zt.blob(t.length,"staticAccountKeysLength"),zt.seq(hr(),this.staticAccountKeys.length,"staticAccountKeys"),hr("recentBlockhash"),zt.blob(n.length,"instructionsLength"),zt.blob(e.length,"serializedInstructions"),zt.blob(i.length,"addressTableLookupsLength"),zt.blob(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(or),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:Mt().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(or);for(const n of this.compiledInstructions){const r=Array();gr(r,n.accountKeyIndexes.length);const i=Array();gr(i,n.data.length);t+=zt.struct([zt.u8("programIdIndex"),zt.blob(r.length,"encodedAccountKeyIndexesLength"),zt.seq(zt.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),zt.blob(i.length,"encodedDataLength"),zt.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(or);for(const n of this.addressTableLookups){const r=Array();gr(r,n.writableIndexes.length);const i=Array();gr(i,n.readonlyIndexes.length);t+=zt.struct([hr("accountKey"),zt.blob(r.length,"encodedWritableIndexesLength"),zt.seq(zt.u8(),n.writableIndexes.length,"writableIndexes"),zt.blob(i.length,"encodedReadonlyIndexesLength"),zt.seq(zt.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=e.shift(),r=n&sr;wr(n!==r,"Expected versioned message but received legacy message");wr(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},o=[],s=mr(e);for(let t=0;t<s;t++)o.push(new nr(e.splice(0,tr)));const a=Mt().encode(e.splice(0,tr)),c=mr(e),u=[];for(let t=0;t<c;t++){const t=e.shift(),n=mr(e),r=e.splice(0,n),i=mr(e),o=new Uint8Array(e.splice(0,i));u.push({programIdIndex:t,accountKeyIndexes:r,data:o})}const l=mr(e),d=[];for(let t=0;t<l;t++){const t=new nr(e.splice(0,tr)),n=mr(e),r=e.splice(0,n),i=mr(e),o=e.splice(0,i);d.push({accountKey:t,writableIndexes:r,readonlyIndexes:o})}return new kr({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:d})}}const Sr={deserializeMessageVersion(t){const e=t[0],n=e&sr;return n===e?"legacy":n},deserialize:t=>{const e=Sr.deserializeMessageVersion(t);if("legacy"===e)return vr.from(t);if(0===e)return kr.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ar;!function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"}(Ar||(Ar={}));const _r=r.Buffer.alloc(ar).fill(0);class Ir{constructor(t){this.keys=void 0,this.programId=void 0,this.data=r.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Er{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ir(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&Fn.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const r=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();r.includes(e)||r.push(e)})),r.forEach((t=>{i.push({pubkey:new nr(t),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),n=o.findIndex((t=>t.pubkey.toString()===e));n>-1?(o[n].isWritable=o[n].isWritable||t.isWritable,o[n].isSigner=o[n].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58())}));const s=o.findIndex((t=>t.pubkey.equals(n)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,Fn.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],d=[];o.forEach((({pubkey:t,isSigner:e,isWritable:n})=>{e?(l.push(t.toString()),a+=1,n||(c+=1)):(d.push(t.toString()),n||(u+=1))}));const h=l.concat(d),f=e.map((t=>{const{data:e,programId:n}=t;return{programIdIndex:h.indexOf(n.toString()),accounts:t.keys.map((t=>h.indexOf(t.pubkey.toString()))),data:Mt().encode(e)}}));return f.forEach((t=>{wr(t.programIdIndex>=0),t.accounts.forEach((t=>wr(t>=0)))})),new vr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,n)=>e[n].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}this.signatures=n.map((t=>({signature:null,publicKey:t.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach((t=>{const e=Hn(n,t.secretKey);this._addSignature(t.publicKey,$n(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){wr(64===e.length);const n=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=r.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),void 0===t||t)}_verifySignatures(t,e){for(const{signature:n,publicKey:r}of this.signatures)if(null===n){if(e)return!1}else if(!Gn(n,t,r.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n&&!this._verifySignatures(r,e))throw new Error("Signature verification failed");return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];gr(n,e.length);const i=n.length+64*e.length+t.length,o=r.Buffer.alloc(i);return wr(e.length<256),r.Buffer.from(n).copy(o,0),e.forEach((({signature:t},e)=>{null!==t&&(wr(64===t.length,"signature has invalid length"),r.Buffer.from(t).copy(o,n.length+64*e))})),t.copy(o,n.length+64*e.length),wr(o.length<=or,`Transaction too large: ${o.length} > ${or}`),o}get keys(){return wr(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return wr(1===this.instructions.length),this.instructions[0].programId}get data(){return wr(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=mr(e);let i=[];for(let t=0;t<n;t++){const t=e.slice(0,ar);e=e.slice(ar),i.push(Mt().encode(r.Buffer.from(t)))}return Er.populate(vr.from(e),i)}static populate(t,e=[]){const n=new Er;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach(((e,r)=>{const i={signature:e==Mt().encode(_r)?null:Mt().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((t=>t.publicKey.toString()===r.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new Ir({keys:r,programId:t.accountKeys[e.programIdIndex],data:Mt().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}class Tr{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:n,compiledInstructions:r,recentBlockhash:i}=t,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,c=o-s;wr(c>0,"Message header is invalid");const u=t.staticAccountKeys.length-o-a;wr(u>=0,"Message header is invalid");const l=t.getAccountKeys(e),d=l.get(0);if(void 0===d)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const t of r){const e=[];for(const r of t.accountKeyIndexes){const t=l.get(r);if(void 0===t)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<o?r<c:r<l.staticAccountKeys.length?r-o<u:r-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:r<n.numRequiredSignatures,isWritable:i})}const r=l.get(t.programIdIndex);if(void 0===r)throw new Error(`Failed to find program id for program id index ${t.programIdIndex}`);h.push(new Ir({programId:r,data:$n(t.data),keys:e}))}return new Tr({payerKey:d,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return vr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return kr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class xr{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)wr(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let n=0;n<t.header.numRequiredSignatures;n++)e.push(new Uint8Array(ar));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();gr(e,this.signatures.length);const n=zt.struct([zt.blob(e.length,"encodedSignaturesLength"),zt.seq(fr(),this.signatures.length,"signatures"),zt.blob(t.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},r);return r.slice(0,i)}static deserialize(t){let e=[...t];const n=[],r=mr(e);for(let t=0;t<r;t++)n.push(new Uint8Array(e.splice(0,ar)));const i=Sr.deserialize(new Uint8Array(e));return new xr(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of t){const t=n.findIndex((t=>t.equals(r.publicKey)));wr(t>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[t]=Hn(e,r.secretKey)}}addSignature(t,e){wr(64===e.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));wr(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}const Pr=new nr("SysvarC1ock11111111111111111111111111111111"),Mr=new nr("SysvarEpochSchedu1e111111111111111111111111"),Or=new nr("Sysvar1nstructions1111111111111111111111111"),Br=new nr("SysvarRecentB1ockHashes11111111111111111111"),Rr=new nr("SysvarRent111111111111111111111111111111111"),Cr=new nr("SysvarRewards111111111111111111111111111111"),Lr=new nr("SysvarS1otHashes111111111111111111111111111"),Dr=new nr("SysvarS1otHistory11111111111111111111111111"),Nr=new nr("SysvarStakeHistory1111111111111111111111111");async function Ur(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)s=(await t.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:n}=e.nonceInfo,i=n.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=r?.abortSignal&&Fn.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function zr(t){return new Promise((e=>setTimeout(e,t)))}function Kr(t,e){const n=t.layout.span>=0?t.layout.span:yr(t,e),i=r.Buffer.alloc(n),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,i),i}function Fr(t,e){let n;try{n=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const jr=zt.nu64("lamportsPerSignature"),Wr=zt.struct([zt.u32("version"),zt.u32("state"),hr("authorizedPubkey"),hr("nonce"),zt.struct([jr],"feeCalculator")]),Vr=Wr.span;class qr{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Wr.decode($n(t),0);return new qr({authorizedPubkey:new nr(e.authorizedPubkey),nonce:new nr(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const Hr=(Gr=8,t=>{const e=(0,zt.blob)(Gr,t),{encode:n,decode:i}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),o=e;return o.decode=(t,e)=>{const n=i(t,e);return(0,Kt.toBigIntLE)(r.Buffer.from(n))},o.encode=(t,e,r)=>{const i=(0,Kt.toBufferLE)(t,Gr);return n(i,e,r)},o});var Gr;class $r{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=zt.u32("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(Zr))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:n,programId:r}=Fr(Zr.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new nr(r)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=Fr(Zr.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:n,programId:r}=Fr(Zr.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new nr(r)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=Fr(Zr.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,space:r,programId:i}=Fr(Zr.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new nr(e),seed:n,space:r,programId:new nr(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=Fr(Zr.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new nr(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,programId:r}=Fr(Zr.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new nr(e),seed:n,programId:new nr(r)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:n,lamports:r,space:i,programId:o}=Fr(Zr.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new nr(e),seed:n,lamports:r,space:i,programId:new nr(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=Fr(Zr.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new nr(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Fr(Zr.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Fr(Zr.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=Fr(Zr.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new nr(e)}}static checkProgramId(t){if(!t.equals(Yr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Zr=Object.freeze({Create:{index:0,layout:zt.struct([zt.u32("instruction"),zt.ns64("lamports"),zt.ns64("space"),hr("programId")])},Assign:{index:1,layout:zt.struct([zt.u32("instruction"),hr("programId")])},Transfer:{index:2,layout:zt.struct([zt.u32("instruction"),Hr("lamports")])},CreateWithSeed:{index:3,layout:zt.struct([zt.u32("instruction"),hr("base"),pr("seed"),zt.ns64("lamports"),zt.ns64("space"),hr("programId")])},AdvanceNonceAccount:{index:4,layout:zt.struct([zt.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:zt.struct([zt.u32("instruction"),zt.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:zt.struct([zt.u32("instruction"),hr("authorized")])},AuthorizeNonceAccount:{index:7,layout:zt.struct([zt.u32("instruction"),hr("authorized")])},Allocate:{index:8,layout:zt.struct([zt.u32("instruction"),zt.ns64("space")])},AllocateWithSeed:{index:9,layout:zt.struct([zt.u32("instruction"),hr("base"),pr("seed"),zt.ns64("space"),hr("programId")])},AssignWithSeed:{index:10,layout:zt.struct([zt.u32("instruction"),hr("base"),pr("seed"),hr("programId")])},TransferWithSeed:{index:11,layout:zt.struct([zt.u32("instruction"),Hr("lamports"),pr("seed"),hr("programId")])},UpgradeNonceAccount:{index:12,layout:zt.struct([zt.u32("instruction")])}});class Yr{constructor(){}static createAccount(t){const e=Kr(Zr.Create,{lamports:t.lamports,space:t.space,programId:$n(t.programId.toBuffer())});return new Ir({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,n;if("basePubkey"in t){e=Kr(Zr.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:$n(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{e=Kr(Zr.Transfer,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Ir({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){e=Kr(Zr.AssignWithSeed,{base:$n(t.basePubkey.toBuffer()),seed:t.seed,programId:$n(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Kr(Zr.Assign,{programId:$n(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ir({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Kr(Zr.CreateWithSeed,{base:$n(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:$n(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Ir({keys:n,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Er;"basePubkey"in t&&"seed"in t?e.add(Yr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Vr,programId:this.programId})):e.add(Yr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Vr,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=Kr(Zr.InitializeNonceAccount,{authorized:$n(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Br,isSigner:!1,isWritable:!1},{pubkey:Rr,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new Ir(n)}static nonceAdvance(t){const e=Kr(Zr.AdvanceNonceAccount),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Br,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new Ir(n)}static nonceWithdraw(t){const e=Kr(Zr.WithdrawNonceAccount,{lamports:t.lamports});return new Ir({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Br,isSigner:!1,isWritable:!1},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=Kr(Zr.AuthorizeNonceAccount,{authorized:$n(t.newAuthorizedPubkey.toBuffer())});return new Ir({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,n;if("basePubkey"in t){e=Kr(Zr.AllocateWithSeed,{base:$n(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:$n(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Kr(Zr.Allocate,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ir({keys:n,programId:this.programId,data:e})}}Yr.programId=new nr("11111111111111111111111111111111");const Xr=or-300;class Jr{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Jr.chunkSize)+1+1)}static async load(t,e,n,i,o){{const r=await t.getMinimumBalanceForRentExemption(o.length),s=await t.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return Fn.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new Er,a.add(Yr.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(i)||(a=a||new Er,a.add(Yr.assign({accountPubkey:n.publicKey,programId:i}))),s.lamports<r&&(a=a||new Er,a.add(Yr.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:r-s.lamports})))}else a=(new Er).add(Yr.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:r>0?r:1,space:o.length,programId:i}));null!==a&&await Ur(t,a,[e,n],{commitment:"confirmed"})}const s=zt.struct([zt.u32("instruction"),zt.u32("offset"),zt.u32("bytesLength"),zt.u32("bytesLengthPadding"),zt.seq(zt.u8("byte"),zt.offset(zt.u32(),-8),"bytes")]),a=Jr.chunkSize;let c=0,u=o,l=[];for(;u.length>0;){const o=u.slice(0,a),d=r.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},d);const h=(new Er).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:d});if(l.push(Ur(t,h,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await zr(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const o=zt.struct([zt.u32("instruction")]),s=r.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new Er).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1}],programId:i,data:s});await Ur(t,a,[e,n],{commitment:"confirmed"})}return!0}}Jr.chunkSize=Xr;const Qr=new nr("BPFLoader2111111111111111111111111111111111");class ti{static getMinNumSignatures(t){return Jr.getMinNumSignatures(t)}static load(t,e,n,r,i){return Jr.load(t,e,n,i,r)}}var ei=Object.prototype.toString,ni=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function ri(t,e){var n,r,i,o,s,a,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"==typeof t.toJSON)return ri(t.toJSON(),e);if("[object Array]"===(c=ei.call(t))){for(i="[",r=t.length-1,n=0;n<r;n++)i+=ri(t[n],!0)+",";return r>-1&&(i+=ri(t[n],!0)),i+"]"}if("[object Object]"===c){for(r=(o=ni(t).sort()).length,i="",n=0;n<r;)void 0!==(a=ri(t[s=o[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var ii=function(t){var e=ri(t,!1);if(void 0!==e)return""+e};function oi(t){let e=0;for(;t>1;)t/=2,e++;return e}class si{constructor(t,e,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=oi(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-oi(32)-1;return[n,t-(this.getSlotsInEpoch(n)-32)]}{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+n,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+oi(32)):this.slotsPerEpoch}}class ai extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}const ci={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ui extends Error{constructor({code:t,message:e,data:n},r){super(null!=r?`${r}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var li=globalThis.fetch;class di extends me.Z{constructor(t,e,n){super((t=>{const n=(0,ge.Z)(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in n?n.socket:n,n}),t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class hi{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let n;try{n=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}(fi,t),n=t.length-56;wr(n>=0,"lookup table is invalid"),wr(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=zt.struct([zt.seq(hr(),r,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new nr(e.authority[0]):void 0,addresses:i.map((t=>new nr(t)))}}}const fi={index:1,layout:zt.struct([zt.u32("typeIndex"),Hr("deactivationSlot"),zt.nu64("lastExtendedSlot"),zt.u8("lastExtendedStartIndex"),zt.u8(),zt.seq(hr(),zt.offset(zt.u8(),-1),"authority")])},pi=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const yi=fe(ee(nr),ce(),(t=>new nr(t))),mi=ue([ce(),ne("base64")]),gi=fe(ee(r.Buffer),mi,(t=>r.Buffer.from(t[0],"base64"))),wi=3e4;function bi(t){let e,n;if("string"==typeof t)e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function vi(t){return de([le({jsonrpc:ne("2.0"),id:ce(),result:t}),le({jsonrpc:ne("2.0"),id:ce(),error:le({code:he(),message:ce(),data:se(Jt("any",(()=>!0)))})})])}const ki=vi(he());function Si(t){return fe(vi(t),ki,(e=>"error"in e?e:{...e,result:Zt(e.result,t)}))}function Ai(t){return Si(le({context:le({slot:oe()}),value:t}))}function _i(t){return le({context:le({slot:oe()}),value:t})}function Ii(t,e){return 0===t?new kr({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new nr(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Mt().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new vr(e)}const Ei=le({foundation:oe(),foundationTerm:oe(),initial:oe(),taper:oe(),terminal:oe()}),Ti=Si(Qt(ie(le({epoch:oe(),effectiveSlot:oe(),amount:oe(),postBalance:oe(),commission:se(ie(oe()))})))),xi=Qt(le({slot:oe(),prioritizationFee:oe()})),Pi=le({total:oe(),validator:oe(),foundation:oe(),epoch:oe()}),Mi=le({epoch:oe(),slotIndex:oe(),slotsInEpoch:oe(),absoluteSlot:oe(),blockHeight:se(oe()),transactionCount:se(oe())}),Oi=le({slotsPerEpoch:oe(),leaderScheduleSlotOffset:oe(),warmup:te(),firstNormalEpoch:oe(),firstNormalSlot:oe()}),Bi=ae(ce(),Qt(oe())),Ri=ie(de([le({}),ce()])),Ci=le({err:Ri}),Li=ne("receivedSignature"),Di=le({"solana-core":ce(),"feature-set":se(oe())}),Ni=Ai(le({err:ie(de([le({}),ce()])),logs:ie(Qt(ce())),accounts:se(ie(Qt(ie(le({executable:te(),owner:ce(),lamports:oe(),data:Qt(ce()),rentEpoch:se(oe())}))))),unitsConsumed:se(oe()),returnData:se(ie(le({programId:ce(),data:ue([ce(),ne("base64")])})))})),Ui=Ai(le({byIdentity:ae(ce(),Qt(oe())),range:le({firstSlot:oe(),lastSlot:oe()})}));const zi=Si(Ei),Ki=Si(Pi),Fi=Si(xi),ji=Si(Mi),Wi=Si(Oi),Vi=Si(Bi),qi=Si(oe()),Hi=Ai(le({total:oe(),circulating:oe(),nonCirculating:oe(),nonCirculatingAccounts:Qt(yi)})),Gi=le({amount:ce(),uiAmount:ie(oe()),decimals:oe(),uiAmountString:se(ce())}),$i=Ai(Qt(le({address:yi,amount:ce(),uiAmount:ie(oe()),decimals:oe(),uiAmountString:se(ce())}))),Zi=Ai(Qt(le({pubkey:yi,account:le({executable:te(),owner:yi,lamports:oe(),data:gi,rentEpoch:oe()})}))),Yi=le({program:ce(),parsed:he(),space:oe()}),Xi=Ai(Qt(le({pubkey:yi,account:le({executable:te(),owner:yi,lamports:oe(),data:Yi,rentEpoch:oe()})}))),Ji=Ai(Qt(le({lamports:oe(),address:yi}))),Qi=le({executable:te(),owner:yi,lamports:oe(),data:gi,rentEpoch:oe()}),to=le({pubkey:yi,account:Qi}),eo=fe(de([ee(r.Buffer),Yi]),de([mi,Yi]),(t=>Array.isArray(t)?Zt(t,gi):t)),no=le({executable:te(),owner:yi,lamports:oe(),data:eo,rentEpoch:oe()}),ro=le({pubkey:yi,account:no}),io=le({state:de([ne("active"),ne("inactive"),ne("activating"),ne("deactivating")]),active:oe(),inactive:oe()}),oo=Si(Qt(le({signature:ce(),slot:oe(),err:Ri,memo:ie(ce()),blockTime:se(ie(oe()))}))),so=Si(Qt(le({signature:ce(),slot:oe(),err:Ri,memo:ie(ce()),blockTime:se(ie(oe()))}))),ao=le({subscription:oe(),result:_i(Qi)}),co=le({pubkey:yi,account:Qi}),uo=le({subscription:oe(),result:_i(co)}),lo=le({parent:oe(),slot:oe(),root:oe()}),ho=le({subscription:oe(),result:lo}),fo=de([le({type:de([ne("firstShredReceived"),ne("completed"),ne("optimisticConfirmation"),ne("root")]),slot:oe(),timestamp:oe()}),le({type:ne("createdBank"),parent:oe(),slot:oe(),timestamp:oe()}),le({type:ne("frozen"),slot:oe(),timestamp:oe(),stats:le({numTransactionEntries:oe(),numSuccessfulTransactions:oe(),numFailedTransactions:oe(),maxTransactionsPerEntry:oe()})}),le({type:ne("dead"),slot:oe(),timestamp:oe(),err:ce()})]),po=le({subscription:oe(),result:fo}),yo=le({subscription:oe(),result:_i(de([Ci,Li]))}),mo=le({subscription:oe(),result:oe()}),go=le({pubkey:ce(),gossip:ie(ce()),tpu:ie(ce()),rpc:ie(ce()),version:ie(ce())}),wo=le({votePubkey:ce(),nodePubkey:ce(),activatedStake:oe(),epochVoteAccount:te(),epochCredits:Qt(ue([oe(),oe(),oe()])),commission:oe(),lastVote:oe(),rootSlot:ie(oe())}),bo=Si(le({current:Qt(wo),delinquent:Qt(wo)})),vo=de([ne("processed"),ne("confirmed"),ne("finalized")]),ko=le({slot:oe(),confirmations:ie(oe()),err:Ri,confirmationStatus:se(vo)}),So=Ai(Qt(ie(ko))),Ao=Si(oe()),_o=le({accountKey:yi,writableIndexes:Qt(oe()),readonlyIndexes:Qt(oe())}),Io=le({signatures:Qt(ce()),message:le({accountKeys:Qt(ce()),header:le({numRequiredSignatures:oe(),numReadonlySignedAccounts:oe(),numReadonlyUnsignedAccounts:oe()}),instructions:Qt(le({accounts:Qt(oe()),data:ce(),programIdIndex:oe()})),recentBlockhash:ce(),addressTableLookups:se(Qt(_o))})}),Eo=le({pubkey:yi,signer:te(),writable:te(),source:se(de([ne("transaction"),ne("lookupTable")]))}),To=le({accountKeys:Qt(Eo),signatures:Qt(ce())}),xo=le({parsed:he(),program:ce(),programId:yi}),Po=le({accounts:Qt(yi),data:ce(),programId:yi}),Mo=fe(de([Po,xo]),de([le({parsed:he(),program:ce(),programId:ce()}),le({accounts:Qt(ce()),data:ce(),programId:ce()})]),(t=>Zt(t,"accounts"in t?Po:xo))),Oo=le({signatures:Qt(ce()),message:le({accountKeys:Qt(Eo),instructions:Qt(Mo),recentBlockhash:ce(),addressTableLookups:se(ie(Qt(_o)))})}),Bo=le({accountIndex:oe(),mint:ce(),owner:se(ce()),uiTokenAmount:Gi}),Ro=le({writable:Qt(yi),readonly:Qt(yi)}),Co=le({err:Ri,fee:oe(),innerInstructions:se(ie(Qt(le({index:oe(),instructions:Qt(le({accounts:Qt(oe()),data:ce(),programIdIndex:oe()}))})))),preBalances:Qt(oe()),postBalances:Qt(oe()),logMessages:se(ie(Qt(ce()))),preTokenBalances:se(ie(Qt(Bo))),postTokenBalances:se(ie(Qt(Bo))),loadedAddresses:se(Ro),computeUnitsConsumed:se(oe())}),Lo=le({err:Ri,fee:oe(),innerInstructions:se(ie(Qt(le({index:oe(),instructions:Qt(Mo)})))),preBalances:Qt(oe()),postBalances:Qt(oe()),logMessages:se(ie(Qt(ce()))),preTokenBalances:se(ie(Qt(Bo))),postTokenBalances:se(ie(Qt(Bo))),loadedAddresses:se(Ro),computeUnitsConsumed:se(oe())}),Do=de([ne(0),ne("legacy")]),No=le({pubkey:ce(),lamports:oe(),postBalance:ie(oe()),rewardType:ie(ce()),commission:se(ie(oe()))}),Uo=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),transactions:Qt(le({transaction:Io,meta:ie(Co),version:se(Do)})),rewards:se(Qt(No)),blockTime:ie(oe()),blockHeight:ie(oe())}))),zo=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),rewards:se(Qt(No)),blockTime:ie(oe()),blockHeight:ie(oe())}))),Ko=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),transactions:Qt(le({transaction:To,meta:ie(Co),version:se(Do)})),rewards:se(Qt(No)),blockTime:ie(oe()),blockHeight:ie(oe())}))),Fo=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),transactions:Qt(le({transaction:Oo,meta:ie(Lo),version:se(Do)})),rewards:se(Qt(No)),blockTime:ie(oe()),blockHeight:ie(oe())}))),jo=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),transactions:Qt(le({transaction:To,meta:ie(Lo),version:se(Do)})),rewards:se(Qt(No)),blockTime:ie(oe()),blockHeight:ie(oe())}))),Wo=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),rewards:se(Qt(No)),blockTime:ie(oe()),blockHeight:ie(oe())}))),Vo=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),transactions:Qt(le({transaction:Io,meta:ie(Co)})),rewards:se(Qt(No)),blockTime:ie(oe())}))),qo=Si(ie(le({blockhash:ce(),previousBlockhash:ce(),parentSlot:oe(),signatures:Qt(ce()),blockTime:ie(oe())}))),Ho=Si(ie(le({slot:oe(),meta:Co,blockTime:se(ie(oe())),transaction:Io,version:se(Do)}))),Go=Si(ie(le({slot:oe(),transaction:Oo,meta:ie(Lo),blockTime:se(ie(oe())),version:se(Do)}))),$o=Ai(le({blockhash:ce(),feeCalculator:le({lamportsPerSignature:oe()})})),Zo=Ai(le({blockhash:ce(),lastValidBlockHeight:oe()})),Yo=Si(Qt(le({slot:oe(),numTransactions:oe(),numSlots:oe(),samplePeriodSecs:oe()}))),Xo=Ai(ie(le({feeCalculator:le({lamportsPerSignature:oe()})}))),Jo=Si(ce()),Qo=Si(ce()),ts=le({err:Ri,logs:Qt(ce()),signature:ce()}),es=le({result:_i(ts),subscription:oe()}),ns={"solana-client":"js/0.0.0-development"};class rs{constructor(t,e){let n,r,i,o,s,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:n,config:r}=bi(e),i=this._buildArgs([],n,void 0,r),o=ii(i);return t[o]=t[o]??(async()=>{try{const t=Zt(await this._rpcRequest("getBlockHeight",i),Si(oe()));if("error"in t)throw new ui(t.error,"failed to get block height information");return t.result}finally{delete t[o]}})(),await t[o]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,r=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,s=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=n||function(t){const e=t.match(pi);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(t),this._rpcClient=function(t,e,n,r,i,o){const s=n||li;let a;return null!=o&&Fn.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(t,e)=>{const n=await new Promise(((n,i)=>{try{r(t,e,((t,e)=>n([t,e])))}catch(t){i(t)}}));return await s(...n)}),new(ye())((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},ns)};try{let e,n=5,c=500;for(;e=a?await a(t,o):await s(t,o),429===e.status&&!0!==i&&(n-=1,0!==n);)Fn.log(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${c}ms delay...`),await zr(c),c*=2;const u=await e.text();e.ok?r(null,u):r(new Error(`${e.status} ${e.statusText}: ${u}`))}catch(t){t instanceof Error&&r(t)}}),{})}(t,r,i,o,s,a),this._rpcRequest=function(t){return(e,n)=>new Promise(((r,i)=>{t.request(e,n,((t,e)=>{t?i(t):r(e)}))}))}(this._rpcClient),this._rpcBatchRequest=function(t){return e=>new Promise(((n,r)=>{0===e.length&&n([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?r(t):n(e)}))}))}(this._rpcClient),this._rpcWebSocket=new di(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgs([t.toBase58()],n,void 0,r),o=Zt(await this._rpcRequest("getBalance",i),Ai(oe()));if("error"in o)throw new ui(o.error,`failed to get balance for ${t.toBase58()}`);return o.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=Zt(await this._rpcRequest("getBlockTime",[t]),Si(ie(oe())));if("error"in e)throw new ui(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=Zt(await this._rpcRequest("minimumLedgerSlot",[]),Si(oe()));if("error"in t)throw new ui(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=Zt(await this._rpcRequest("getFirstAvailableBlock",[]),qi);if("error"in t)throw new ui(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const n=Zt(await this._rpcRequest("getSupply",[e]),Hi);if("error"in n)throw new ui(n.error,"failed to get supply");return n.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),r=Zt(await this._rpcRequest("getTokenSupply",n),Ai(Gi));if("error"in r)throw new ui(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),r=Zt(await this._rpcRequest("getTokenAccountBalance",n),Ai(Gi));if("error"in r)throw new ui(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(t,e,n){const{commitment:r,config:i}=bi(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=Zt(await this._rpcRequest("getTokenAccountsByOwner",s),Zi);if("error"in a)throw new ui(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,n){let r=[t.toBase58()];"mint"in e?r.push({mint:e.mint.toBase58()}):r.push({programId:e.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=Zt(await this._rpcRequest("getTokenAccountsByOwner",i),Xi);if("error"in o)throw new ui(o.error,`failed to get token accounts owned by account ${t.toBase58()}`);return o.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],r=Zt(await this._rpcRequest("getLargestAccounts",n),Ji);if("error"in r)throw new ui(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),r=Zt(await this._rpcRequest("getTokenLargestAccounts",n),$i);if("error"in r)throw new ui(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgs([t.toBase58()],n,"base64",r),o=Zt(await this._rpcRequest("getAccountInfo",i),Ai(ie(Qi)));if("error"in o)throw new ui(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getParsedAccountInfo(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=Zt(await this._rpcRequest("getAccountInfo",i),Ai(ie(no)));if("error"in o)throw new ui(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(e){throw new Error("failed to get info about account "+t.toBase58()+": "+e)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:r}=bi(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=Zt(await this._rpcRequest("getMultipleAccounts",o),Ai(Qt(ie(no))));if("error"in s)throw new ui(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:r}=bi(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],n,"base64",r),s=Zt(await this._rpcRequest("getMultipleAccounts",o),Ai(Qt(ie(Qi))));if("error"in s)throw new ui(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:r,config:i}=bi(e),o=this._buildArgs([t.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=Zt(await this._rpcRequest("getStakeActivation",o),Si(io));if("error"in s)throw new ui(s.error,`failed to get Stake Activation ${t.toBase58()}`);return s.result}async getProgramAccounts(t,e){const{commitment:n,config:r}=bi(e),{encoding:i,...o}=r||{},s=this._buildArgs([t.toBase58()],n,i||"base64",o),a=Zt(await this._rpcRequest("getProgramAccounts",s),Si(Qt(to)));if("error"in a)throw new ui(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=Zt(await this._rpcRequest("getProgramAccounts",i),Si(Qt(ro)));if("error"in o)throw new ui(o.error,`failed to get accounts owned by program ${t.toBase58()}`);return o.result}async confirmTransaction(t,e){let n,r;if("string"==typeof t)n=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);n=e.signature}try{r=Mt().decode(n)}catch(t){throw new Error("signature must be base58 encoded: "+n)}return wr(64===r.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,n)=>{null!=t&&(t.aborted?n(t.reason):t.addEventListener("abort",(()=>{n(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((o,s)=>{try{n=this.onSignature(e,((t,e)=>{n=void 0;const r={context:e,value:t};o({__type:Ar.PROCESSED,response:r})}),t);const a=new Promise((t=>{null==n?t():r=this._onSubscriptionStateChange(n,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(e);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)s(c.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:Ar.PROCESSED,response:{context:r,value:c}})}})()}catch(t){s(t)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:r}}){let i=!1;const o=new Promise((e=>{const r=async()=>{try{return await this.getBlockHeight(t)}catch(t){return-1}};(async()=>{let t=await r();if(!i){for(;t<=n;){if(await zr(1e3),i)return;if(t=await r(),i)return}e({__type:Ar.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:r}),c=this.getCancellationPromise(e);let u;try{const t=await Promise.race([c,a,o]);if(t.__type!==Ar.PROCESSED)throw new cr(r);u=t.response}finally{i=!0,s()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((e=>{let o=i,a=null;const c=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(r,{commitment:t,minContextSlot:n});return a=e.slot,i?.nonce}catch(t){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void e({__type:Ar.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await zr(2e3),s)return;if(o=await c(),s)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),l=this.getCancellationPromise(e);let d;try{const e=await Promise.race([l,u,a]);if(e.__type===Ar.PROCESSED)d=e.response;else{let r;for(;;){const t=await this.getSignatureStatus(o);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??n))){r=t;break}await zr(400)}if(!r?.value)throw new lr(o);{const e=t||"finalized",{confirmationStatus:n}=r.value;switch(e){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new lr(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new lr(o);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new lr(o)}d={context:r.context,value:{err:r.value.err}}}}}finally{s=!0,c()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const r=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>e({__type:Ar.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let s;try{const t=await Promise.race([o,r]);if(t.__type!==Ar.PROCESSED)throw new ur(e,t.timeoutMs/1e3);s=t.response}finally{clearTimeout(n),i()}return s}async getClusterNodes(){const t=Zt(await this._rpcRequest("getClusterNodes",[]),Si(Qt(go)));if("error"in t)throw new ui(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=Zt(await this._rpcRequest("getVoteAccounts",e),bo);if("error"in n)throw new ui(n.error,"failed to get vote accounts");return n.result}async getSlot(t){const{commitment:e,config:n}=bi(t),r=this._buildArgs([],e,void 0,n),i=Zt(await this._rpcRequest("getSlot",r),Si(oe()));if("error"in i)throw new ui(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:n}=bi(t),r=this._buildArgs([],e,void 0,n),i=Zt(await this._rpcRequest("getSlotLeader",r),Si(ce()));if("error"in i)throw new ui(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const n=[t,e],r=Zt(await this._rpcRequest("getSlotLeaders",n),Si(Qt(yi)));if("error"in r)throw new ui(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(t,e){const{context:n,value:r}=await this.getSignatureStatuses([t],e);wr(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const r=Zt(await this._rpcRequest("getSignatureStatuses",n),So);if("error"in r)throw new ui(r.error,"failed to get signature status");return r.result}async getTransactionCount(t){const{commitment:e,config:n}=bi(t),r=this._buildArgs([],e,void 0,n),i=Zt(await this._rpcRequest("getTransactionCount",r),Si(oe()));if("error"in i)throw new ui(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=Zt(await this._rpcRequest("getInflationGovernor",e),zi);if("error"in n)throw new ui(n.error,"failed to get inflation");return n.result}async getInflationReward(t,e,n){const{commitment:r,config:i}=bi(n),o=this._buildArgs([t.map((t=>t.toBase58()))],r,void 0,{...i,epoch:null!=e?e:i?.epoch}),s=Zt(await this._rpcRequest("getInflationReward",o),Ti);if("error"in s)throw new ui(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const t=Zt(await this._rpcRequest("getInflationRate",[]),Ki);if("error"in t)throw new ui(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:n}=bi(t),r=this._buildArgs([],e,void 0,n),i=Zt(await this._rpcRequest("getEpochInfo",r),ji);if("error"in i)throw new ui(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=Zt(await this._rpcRequest("getEpochSchedule",[]),Wi);if("error"in t)throw new ui(t.error,"failed to get epoch schedule");const e=t.result;return new si(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=Zt(await this._rpcRequest("getLeaderSchedule",[]),Vi);if("error"in t)throw new ui(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),r=Zt(await this._rpcRequest("getMinimumBalanceForRentExemption",n),Ao);return"error"in r?(Fn.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),n=Zt(await this._rpcRequest("getRecentBlockhash",e),$o);if("error"in n)throw new ui(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(t){const e=Zt(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Yo);if("error"in e)throw new ui(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),r=Zt(await this._rpcRequest("getFeeCalculatorForBlockhash",n),Xo);if("error"in r)throw new ui(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(t,e){const n=$n(t.serialize()).toString("base64"),r=this._buildArgs([n],e),i=Zt(await this._rpcRequest("getFeeForMessage",r),Ai(ie(oe())));if("error"in i)throw new ui(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),n=this._buildArgs(e?.length?[e]:[]),r=Zt(await this._rpcRequest("getRecentPrioritizationFees",n),Fi);if("error"in r)throw new ui(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=bi(t),r=this._buildArgs([],e,void 0,n),i=Zt(await this._rpcRequest("getLatestBlockhash",r),Zo);if("error"in i)throw new ui(i.error,"failed to get latest blockhash");return i.result}async getVersion(){const t=Zt(await this._rpcRequest("getVersion",[]),Si(Di));if("error"in t)throw new ui(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=Zt(await this._rpcRequest("getGenesisHash",[]),Si(ce()));if("error"in t)throw new ui(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=Zt(o,Ko);if("error"in t)throw t.error;return t.result}case"none":{const t=Zt(o,zo);if("error"in t)throw t.error;return t.result}default:{const t=Zt(o,Uo);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:n})=>({meta:e,transaction:{...t,message:Ii(n,t.message)},version:n})))}:null}}}catch(t){throw new ui(t,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=Zt(o,jo);if("error"in t)throw t.error;return t.result}case"none":{const t=Zt(o,Wo);if("error"in t)throw t.error;return t.result}default:{const t=Zt(o,Fo);if("error"in t)throw t.error;return t.result}}}catch(t){throw new ui(t,"failed to get block")}}async getBlockProduction(t){let e,n;if("string"==typeof t)n=t;else if(t){const{commitment:r,...i}=t;n=r,e=i}const r=this._buildArgs([],n,"base64",e),i=Zt(await this._rpcRequest("getBlockProduction",r),Ui);if("error"in i)throw new ui(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=Zt(await this._rpcRequest("getTransaction",i),Ho);if("error"in o)throw new ui(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:Ii(s.version,s.transaction.message)}}:s}async getParsedTransaction(t,e){const{commitment:n,config:r}=bi(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=Zt(await this._rpcRequest("getTransaction",i),Go);if("error"in o)throw new ui(o.error,"failed to get transaction");return o.result}async getParsedTransactions(t,e){const{commitment:n,config:r}=bi(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=Zt(t,Go);if("error"in e)throw new ui(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:n,config:r}=bi(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=Zt(t,Ho);if("error"in e)throw new ui(e.error,"failed to get transactions");const n=e.result;return n?{...n,transaction:{...n.transaction,message:Ii(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=Zt(await this._rpcRequest("getConfirmedBlock",n),Vo);if("error"in r)throw new ui(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");const o={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const n=new vr(t.message);return{meta:e,transaction:{...t,message:n}}}))};return{...o,transactions:o.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:Er.populate(t.message,t.signatures)})))}}async getBlocks(t,e,n){const r=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],n),i=Zt(await this._rpcRequest("getBlocks",r),Si(Qt(oe())));if("error"in i)throw new ui(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=Zt(await this._rpcRequest("getBlock",n),qo);if("error"in r)throw new ui(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=Zt(await this._rpcRequest("getConfirmedBlock",n),qo);if("error"in r)throw new ui(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=Zt(await this._rpcRequest("getConfirmedTransaction",n),Ho);if("error"in r)throw new ui(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const o=new vr(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:Er.populate(o,s)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),r=Zt(await this._rpcRequest("getConfirmedTransaction",n),Go);if("error"in r)throw new ui(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(t,e){const n=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((t=>{const e=Zt(t,Go);if("error"in e)throw new ui(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(r.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let o=await this.getSlot("finalized");for(;!("before"in r||++n>o);)try{const t=await this.getConfirmedBlockSignatures(n);t.signatures.length>0&&(r.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}return(await this.getConfirmedSignaturesForAddress2(t,r)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=Zt(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),oo);if("error"in i)throw new ui(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=Zt(await this._rpcRequest("getSignaturesForAddress",r),so);if("error"in i)throw new ui(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=new hi({key:t,state:hi.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=qr.fromAccountData(r.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const n=Zt(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),Jo);if("error"in n)throw new ui(n.error,`airdrop to ${t.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await zr(100);const t=Date.now()-this._blockhashInfo.lastFetch>=wi;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let t=0;t<50;t++){const t=await this.getLatestBlockhash("finalized");if(n!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await zr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=bi(t),r=this._buildArgs([],e,"base64",n),i=Zt(await this._rpcRequest("getStakeMinimumDelegation",r),Ai(oe()));if("error"in i)throw new ui(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,n){if("message"in t){const i=t.serialize(),o=r.Buffer.from(i).toString("base64");if(Array.isArray(e)||void 0!==n)throw new Error("Invalid arguments");const s=e||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const a=[o,s],c=Zt(await this._rpcRequest("simulateTransaction",a),Ni);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}let i;if(t instanceof Er){let e=t;i=new Er,i.feePayer=e.feePayer,i.instructions=t.instructions,i.nonceInfo=e.nonceInfo,i.signatures=e.signatures}else i=Er.populate(t),i._message=i._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(i.nonceInfo&&o)i.sign(...o);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(i.lastValidBlockHeight=e.lastValidBlockHeight,i.recentBlockhash=e.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}t=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(n){const t=(Array.isArray(n)?n:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}o&&(u.sigVerify=!0);const l=[c,u],d=Zt(await this._rpcRequest("simulateTransaction",l),Ni);if("error"in d){let t;if("data"in d.error&&(t=d.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);Fn.error(d.error.message,n)}throw new ai("failed to simulate transaction: "+d.error.message,t)}return d.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const n=t.serialize();return await this.sendRawTransaction(n,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const r=e;if(t.nonceInfo)t.sign(...r);else{let e=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=n.lastValidBlockHeight,t.recentBlockhash=n.blockhash,t.sign(...r),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=$n(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},r=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(n.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(n.minContextSlot=e.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[t,n],s=Zt(await this._rpcRequest("sendTransaction",o),Qo);if("error"in s){let t;throw"data"in s.error&&(t=s.error.data.logs),new ai("failed to send transaction: "+s.error.message,t)}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,Fn.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const n=this._subscriptionStateChangeCallbacksByHash[t];n&&n.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){var n;const r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};const i=(n=this._subscriptionStateChangeCallbacksByHash)[r]||(n[r]=new Set);return i.add(e),()=>{i.delete(e),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&Fn.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const n=this._subscriptionsByHash[t];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(t,{...n,state:"subscribing"});const e=await this._rpcWebSocket.call(i,r);this._setSubscription(t,{...n,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=n.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&Fn.error(`${i} error for argument`,r,o.message),!e())return;this._setSubscription(t,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(t,{...n,state:"unsubscribing"}),this._setSubscription(t,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(r){if(r instanceof Error&&Fn.error(`${i} error:`,r.message),!e())return;return this._setSubscription(t,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(t,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==n&&n.forEach((t=>{try{t(...e)}catch(t){Fn.error(t)}}))}_wsOnAccountNotification(t){const{result:e,subscription:n}=Zt(t,ao);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,r=ii([t.method,e]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const e=this._subscriptionsByHash[r];wr(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const r=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},r)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=Zt(t,uo);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,r){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",r?{filters:r}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const r=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=Zt(t,es);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=Zt(t,ho);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=Zt(t,po);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():Fn.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,r){const i=e||this._commitment;if(i||n||r){let e={};n&&(e.encoding=n),i&&(e.commitment=i),r&&(e=Object.assign(e,r)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,n,r){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,r)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=Zt(t,yo);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const r=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,n)=>{if("status"===t.type){e(t.result,n);try{this.removeSignatureListener(i)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(t,e,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],r,void 0,i),s=this._makeSubscription({callback:(t,n)=>{e(t,n);try{this.removeSignatureListener(s)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=Zt(t,mo);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class is{constructor(t){this._keypair=void 0,this._keypair=t??Wn()}static generate(){return new is(Wn())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const n=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),r=Vn(e);for(let t=0;t<32;t++)if(n[t]!==r[t])throw new Error("provided secretKey is invalid")}return new is({publicKey:n,secretKey:t})}static fromSeed(t){const e=Vn(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new is({publicKey:e,secretKey:n})}get publicKey(){return new nr(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const os=Object.freeze({CreateLookupTable:{index:0,layout:zt.struct([zt.u32("instruction"),Hr("recentSlot"),zt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:zt.struct([zt.u32("instruction")])},ExtendLookupTable:{index:2,layout:zt.struct([zt.u32("instruction"),Hr(),zt.seq(hr(),zt.offset(zt.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:zt.struct([zt.u32("instruction")])},CloseLookupTable:{index:4,layout:zt.struct([zt.u32("instruction")])}});class ss{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=zt.u32("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(os))if(r.index==e){n=t;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=Fr(os.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=Fr(os.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map((t=>new nr(t)))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(as.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class as{constructor(){}static createLookupTable(t){const[e,n]=nr.findProgramAddressSync([t.authority.toBuffer(),(0,Kt.toBufferLE)(BigInt(t.recentSlot),8)],this.programId),r=Kr(os.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Yr.programId,isSigner:!1,isWritable:!1}];return[new Ir({programId:this.programId,keys:i,data:r}),e]}static freezeLookupTable(t){const e=Kr(os.FreezeLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Ir({programId:this.programId,keys:n,data:e})}static extendLookupTable(t){const e=Kr(os.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&n.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Yr.programId,isSigner:!1,isWritable:!1}),new Ir({programId:this.programId,keys:n,data:e})}static deactivateLookupTable(t){const e=Kr(os.DeactivateLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Ir({programId:this.programId,keys:n,data:e})}static closeLookupTable(t){const e=Kr(os.CloseLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Ir({programId:this.programId,keys:n,data:e})}}as.programId=new nr("AddressLookupTab1e1111111111111111111111111");class cs{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=zt.u8("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(us))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:n}=Fr(us.RequestUnits,t.data);return{units:e,additionalFee:n}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=Fr(us.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=Fr(us.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=Fr(us.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(ls.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const us=Object.freeze({RequestUnits:{index:0,layout:zt.struct([zt.u8("instruction"),zt.u32("units"),zt.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:zt.struct([zt.u8("instruction"),zt.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:zt.struct([zt.u8("instruction"),zt.u32("units")])},SetComputeUnitPrice:{index:3,layout:zt.struct([zt.u8("instruction"),Hr("microLamports")])}});class ls{constructor(){}static requestUnits(t){const e=Kr(us.RequestUnits,t);return new Ir({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=Kr(us.RequestHeapFrame,t);return new Ir({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=Kr(us.SetComputeUnitLimit,t);return new Ir({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=Kr(us.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new Ir({keys:[],programId:this.programId,data:e})}}ls.programId=new nr("ComputeBudget111111111111111111111111111111");const ds=zt.struct([zt.u8("numSignatures"),zt.u8("padding"),zt.u16("signatureOffset"),zt.u16("signatureInstructionIndex"),zt.u16("publicKeyOffset"),zt.u16("publicKeyInstructionIndex"),zt.u16("messageDataOffset"),zt.u16("messageDataSize"),zt.u16("messageInstructionIndex")]);class hs{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:i,instructionIndex:o}=t;wr(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),wr(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const s=ds.span,a=s+e.length,c=a+i.length,u=r.Buffer.alloc(c+n.length),l=null==o?65535:o;return ds.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:l},u),u.fill(e,s),u.fill(i,a),u.fill(n,c),new Ir({keys:[],programId:hs.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;wr(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=is.fromSecretKey(e),i=t.publicKey.toBytes(),o=Hn(n,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}hs.programId=new nr("Ed25519SigVerify111111111111111111111111111"),Kn.hmacSha256Sync=(t,...e)=>{const n=De.create(Nt,t);return e.forEach((t=>n.update(t))),n.digest()};const fs=(t,e)=>function(t,e,n={}){const{seed:r,m:i,d:o}=Dn(t,e,n.extraEntropy),s=new Tn(32,$e);let a;for(s.reseedSync(r);!(a=Mn(s.generateSync(),i,o,n.canonical));)s.reseedSync();return Nn(a,n)}(t,e,{der:!1,recovered:!0});Kn.isValidPrivateKey;const ps=function(t,e=!1){return on.fromPrivateKey(t).toRawBytes(e)},ys=zt.struct([zt.u8("numSignatures"),zt.u16("signatureOffset"),zt.u8("signatureInstructionIndex"),zt.u16("ethAddressOffset"),zt.u8("ethAddressInstructionIndex"),zt.u16("messageDataOffset"),zt.u16("messageDataSize"),zt.u8("messageInstructionIndex"),zt.blob(20,"ethAddress"),zt.blob(64,"signature"),zt.u8("recoveryId")]);class ms{constructor(){}static publicKeyToEthAddress(t){wr(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return r.Buffer.from(Re($n(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,recoveryId:i,instructionIndex:o}=t;return ms.createInstructionWithEthAddress({ethAddress:ms.publicKeyToEthAddress(e),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?r.Buffer.from(e.substr(2),"hex"):r.Buffer.from(e,"hex"):e,wr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+i.length+1,l=r.Buffer.alloc(ys.span+n.length);return ys.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:$n(i),ethAddress:$n(a),recoveryId:o},l),l.fill($n(n),ys.span),new Ir({keys:[],programId:ms.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:i}=t;wr(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=$n(e),o=ps(t,!1).slice(1),s=r.Buffer.from(Re($n(n))),[a,c]=fs(s,t);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:i})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}ms.programId=new nr("KeccakSecp256k11111111111111111111111111111");const gs=new nr("StakeConfig11111111111111111111111111111111");class ws{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class bs{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}bs.default=new bs(0,0,nr.default);class vs{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=zt.u32("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(ks))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:n}=Fr(ks.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new ws(new nr(e.staker),new nr(e.withdrawer)),lockup:new bs(n.unixTimestamp,n.epoch,new nr(n.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Fr(ks.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:n}=Fr(ks.Authorize,t.data),r={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new nr(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(r.custodianPubkey=t.keys[3].pubkey),r}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=Fr(ks.AuthorizeWithSeed,t.data),o={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:r,authorityOwner:new nr(i),newAuthorizedPubkey:new nr(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Fr(ks.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Fr(ks.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Fr(ks.Withdraw,t.data),n={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(n.custodianPubkey=t.keys[5].pubkey),n}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Fr(ks.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(As.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const ks=Object.freeze({Initialize:{index:0,layout:zt.struct([zt.u32("instruction"),((t="authorized")=>zt.struct([hr("staker"),hr("withdrawer")],t))(),((t="lockup")=>zt.struct([zt.ns64("unixTimestamp"),zt.ns64("epoch"),hr("custodian")],t))()])},Authorize:{index:1,layout:zt.struct([zt.u32("instruction"),hr("newAuthorized"),zt.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:zt.struct([zt.u32("instruction")])},Split:{index:3,layout:zt.struct([zt.u32("instruction"),zt.ns64("lamports")])},Withdraw:{index:4,layout:zt.struct([zt.u32("instruction"),zt.ns64("lamports")])},Deactivate:{index:5,layout:zt.struct([zt.u32("instruction")])},Merge:{index:7,layout:zt.struct([zt.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:zt.struct([zt.u32("instruction"),hr("newAuthorized"),zt.u32("stakeAuthorizationType"),pr("authoritySeed"),hr("authorityOwner")])}}),Ss=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class As{constructor(){}static initialize(t){const{stakePubkey:e,authorized:n,lockup:r}=t,i=r||bs.default,o=Kr(ks.Initialize,{authorized:{staker:$n(n.staker.toBuffer()),withdrawer:$n(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:$n(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Ir(s)}static createAccountWithSeed(t){const e=new Er;e.add(Yr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(t){const e=new Er;e.add(Yr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:n,votePubkey:r}=t,i=Kr(ks.Delegate);return(new Er).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:Nr,isSigner:!1,isWritable:!1},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=t,s=Kr(ks.Authorize,{newAuthorized:$n(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Er).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,c=Kr(ks.AuthorizeWithSeed,{newAuthorized:$n(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:$n(i.toBuffer())}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Er).add({keys:u,programId:this.programId,data:c})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=t,o=Kr(ks.Split,{lamports:i});return new Ir({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t){const e=new Er;return e.add(Yr.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,basePubkey:i,seed:o,lamports:s}=t,a=new Er;return a.add(Yr.allocate({accountPubkey:r,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:s}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:r}=t,i=Kr(ks.Merge);return(new Er).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:Nr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=t,s=Kr(ks.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:Nr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Er).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:n}=t,r=Kr(ks.Deactivate);return(new Er).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}As.programId=new nr("Stake11111111111111111111111111111111111111"),As.space=200;class _s{constructor(t,e,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=n,this.commission=r}}class Is{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=zt.u32("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(Es))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=Fr(Es.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new _s(new nr(e.nodePubkey),new nr(e.authorizedVoter),new nr(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:n}=Fr(Es.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new nr(e),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=Fr(Es.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new nr(e),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new nr(r),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Fr(Es.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(xs.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Es=Object.freeze({InitializeAccount:{index:0,layout:zt.struct([zt.u32("instruction"),((t="voteInit")=>zt.struct([hr("nodePubkey"),hr("authorizedVoter"),hr("authorizedWithdrawer"),zt.u8("commission")],t))()])},Authorize:{index:1,layout:zt.struct([zt.u32("instruction"),hr("newAuthorized"),zt.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:zt.struct([zt.u32("instruction"),zt.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:zt.struct([zt.u32("instruction"),((t="voteAuthorizeWithSeedArgs")=>zt.struct([zt.u32("voteAuthorizationType"),hr("currentAuthorityDerivedKeyOwnerPubkey"),pr("currentAuthorityDerivedKeySeed"),hr("newAuthorized")],t))()])}}),Ts=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class xs{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:n,voteInit:r}=t,i=Kr(Es.InitializeAccount,{voteInit:{nodePubkey:$n(r.nodePubkey.toBuffer()),authorizedVoter:$n(r.authorizedVoter.toBuffer()),authorizedWithdrawer:$n(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Rr,isSigner:!1,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ir(o)}static createAccount(t){const e=new Er;return e.add(Yr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=t,o=Kr(Es.Authorize,{newAuthorized:$n(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Er).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=Kr(Es.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:$n(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:$n(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Er).add({keys:c,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=t,o=Kr(Es.Withdraw,{lamports:r}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Er).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return xs.withdraw(t)}}xs.programId=new nr("Vote111111111111111111111111111111111111111"),xs.space=3731;const Ps=new nr("Va1idator1nfo111111111111111111111111111111"),Ms=le({name:ce(),website:se(ce()),details:se(ce()),keybaseUsername:se(ce())});class Os{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==mr(e))return null;const n=[];for(let t=0;t<2;t++){const t=new nr(e.slice(0,tr));e=e.slice(tr);const r=1===e.slice(0,1)[0];e=e.slice(1),n.push({publicKey:t,isSigner:r})}if(n[0].publicKey.equals(Ps)&&n[1].isSigner){const t=pr().decode(r.Buffer.from(e)),i=JSON.parse(t);return $t(i,Ms),new Os(n[1].publicKey,i)}return null}}const Bs=new nr("Vote111111111111111111111111111111111111111"),Rs=zt.struct([hr("nodePubkey"),hr("authorizedWithdrawer"),zt.u8("commission"),zt.nu64(),zt.seq(zt.struct([zt.nu64("slot"),zt.u32("confirmationCount")]),zt.offset(zt.u32(),-8),"votes"),zt.u8("rootSlotValid"),zt.nu64("rootSlot"),zt.nu64(),zt.seq(zt.struct([zt.nu64("epoch"),hr("authorizedVoter")]),zt.offset(zt.u32(),-8),"authorizedVoters"),zt.struct([zt.seq(zt.struct([hr("authorizedPubkey"),zt.nu64("epochOfLastAuthorizedSwitch"),zt.nu64("targetEpoch")]),32,"buf"),zt.nu64("idx"),zt.u8("isEmpty")],"priorVoters"),zt.nu64(),zt.seq(zt.struct([zt.nu64("epoch"),zt.nu64("credits"),zt.nu64("prevCredits")]),zt.offset(zt.u32(),-8),"epochCredits"),zt.struct([zt.nu64("slot"),zt.nu64("timestamp")],"lastTimestamp")]);class Cs{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=Rs.decode($n(t),4);let n=e.rootSlot;return e.rootSlotValid||(n=null),new Cs({nodePubkey:new nr(e.nodePubkey),authorizedWithdrawer:new nr(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:n,authorizedVoters:e.authorizedVoters.map(Ls),priorVoters:Ns(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function Ls({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new nr(t)}}function Ds({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new nr(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function Ns({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(Ds),...t.slice(0,e).map(Ds)]}const Us={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function zs(t,e){const n=!1===e?"http":"https";if(!t)return Us[n].devnet;const r=Us[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function Ks(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,u=i?t.confirmTransaction(i,c):t.confirmTransaction(a,c),l=(await u).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Fs=1e9},2943:(t,e,n)=>{"use strict";var r=n(4224),i=n(9500);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var s,a,c=n(9022).codes,u=c.ERR_AMBIGUOUS_ARGUMENT,l=c.ERR_INVALID_ARG_TYPE,d=c.ERR_INVALID_ARG_VALUE,h=c.ERR_INVALID_RETURN_VALUE,f=c.ERR_MISSING_ARGS,p=n(6986),y=n(3585).inspect,m=n(3585).types,g=m.isPromise,w=m.isRegExp,b=Object.assign?Object.assign:n(858).assign,v=Object.is?Object.is:n(2373);new Map;function k(){var t=n(23);s=t.isDeepEqual,a=t.isDeepStrictEqual}var S=!1,A=t.exports=T,_={};function I(t){if(t.message instanceof Error)throw t.message;throw new p(t)}function E(t,e,n,r){if(!n){var i=!1;if(0===e)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new p({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function T(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[T,e.length].concat(e))}A.fail=function t(e,n,o,s,a){var c,u=arguments.length;if(0===u)c="Failed";else if(1===u)o=e,e=void 0;else{if(!1===S)S=!0,(r.emitWarning?r.emitWarning:i.warn.bind(i))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===u&&(s="!=")}if(o instanceof Error)throw o;var l={actual:e,expected:n,operator:void 0===s?"fail":s,stackStartFn:a||t};void 0!==o&&(l.message=o);var d=new p(l);throw c&&(d.message=c,d.generatedMessage=!0),d},A.AssertionError=p,A.ok=T,A.equal=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");e!=n&&I({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},A.notEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");e==n&&I({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},A.deepEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===s&&k(),s(e,n)||I({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},A.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===s&&k(),s(e,n)&&I({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},A.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===s&&k(),a(e,n)||I({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},A.notDeepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===s&&k();a(e,n)&&I({actual:e,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},A.strictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");v(e,n)||I({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},A.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new f("actual","expected");v(e,n)&&I({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var x=function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&w(e[t])&&e[t].test(r[t])?i[t]=r[t]:i[t]=e[t])}))};function P(t,e,n,r){if("function"!=typeof e){if(w(e))return e.test(t);if(2===arguments.length)throw new l("expected",["Function","RegExp"],e);if("object"!==o(t)||null===t){var i=new p({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var c=Object.keys(e);if(e instanceof Error)c.push("name","message");else if(0===c.length)throw new d("error",e,"may not be an empty object");return void 0===s&&k(),c.forEach((function(i){"string"==typeof t[i]&&w(e[i])&&e[i].test(t[i])||function(t,e,n,r,i,o){if(!(n in t)||!a(t[n],e[n])){if(!r){var s=new x(t,i),c=new x(e,i,t),u=new p({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=t,u.expected=e,u.operator=o.name,u}I({actual:t,expected:e,message:r,operator:o.name,stackStartFn:o})}}(t,e,i,n,c,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function M(t){if("function"!=typeof t)throw new l("fn","Function",t);try{t()}catch(t){return t}return _}function O(t){return g(t)||null!==t&&"object"===o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function B(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!O(e=t()))throw new h("instance of Promise","promiseFn",e)}else{if(!O(t))throw new l("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return _})).catch((function(t){return t}))}))}function R(t,e,n,r){if("string"==typeof n){if(4===arguments.length)throw new l("error",["Object","Error","Function","RegExp"],n);if("object"===o(e)&&null!==e){if(e.message===n)throw new u("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new u("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==o(n)&&"function"!=typeof n)throw new l("error",["Object","Error","Function","RegExp"],n);if(e===_){var i="";n&&n.name&&(i+=" (".concat(n.name,")")),i+=r?": ".concat(r):".";var s="rejects"===t.name?"rejection":"exception";I({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:t})}if(n&&!P(e,n,r,t))throw e}function C(t,e,n,r){if(e!==_){if("string"==typeof n&&(r=n,n=void 0),!n||P(e,n)){var i=r?": ".concat(r):".",o="doesNotReject"===t.name?"rejection":"exception";I({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function L(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[L,e.length].concat(e))}A.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.apply(void 0,[t,M(e)].concat(r))},A.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return B(e).then((function(e){return R.apply(void 0,[t,e].concat(r))}))},A.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C.apply(void 0,[t,M(e)].concat(r))},A.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return B(e).then((function(e){return C.apply(void 0,[t,e].concat(r))}))},A.ifError=function t(e){if(null!=e){var n="ifError got unwanted exception: ";"object"===o(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=y(e);var r=new p({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),i=e.stack;if("string"==typeof i){var s=i.split("\n");s.shift();for(var a=r.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}r.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw r}},A.strict=b(L,A,{equal:A.strictEqual,deepEqual:A.deepStrictEqual,notEqual:A.notStrictEqual,notDeepEqual:A.notDeepStrictEqual}),A.strict.strict=A.strict},6986:(t,e,n)=>{"use strict";var r=n(4224);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return u(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)},c(t)}function u(t,e,n){return u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&l(i,n.prototype),i},u.apply(null,arguments)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}var f=n(3585).inspect,p=n(9022).codes.ERR_INVALID_ARG_TYPE;function y(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}var m="",g="",w="",b="",v={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function k(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function S(t){return f(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function A(t,e,n){var i="",o="",s=0,a="",c=!1,u=S(t),l=u.split("\n"),d=S(e).split("\n"),f=0,p="";if("strictEqual"===n&&"object"===h(t)&&"object"===h(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===l.length&&1===d.length&&l[0]!==d[0]){var k=l[0].length+d[0].length;if(k<=10){if(!("object"===h(t)&&null!==t||"object"===h(e)&&null!==e||0===t&&0===e))return"".concat(v[n],"\n\n")+"".concat(l[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==n){if(k<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;l[0][f]===d[0][f];)f++;f>2&&(p="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}(" ",f),"^"),f=0)}}}for(var A=l[l.length-1],_=d[d.length-1];A===_&&(f++<2?a="\n  ".concat(A).concat(a):i=A,l.pop(),d.pop(),0!==l.length&&0!==d.length);)A=l[l.length-1],_=d[d.length-1];var I=Math.max(l.length,d.length);if(0===I){var E=u.split("\n");if(E.length>30)for(E[26]="".concat(m,"...").concat(b);E.length>27;)E.pop();return"".concat(v.notIdentical,"\n\n").concat(E.join("\n"),"\n")}f>3&&(a="\n".concat(m,"...").concat(b).concat(a),c=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var T=0,x=v[n]+"\n".concat(g,"+ actual").concat(b," ").concat(w,"- expected").concat(b),P=" ".concat(m,"...").concat(b," Lines skipped");for(f=0;f<I;f++){var M=f-s;if(l.length<f+1)M>1&&f>2&&(M>4?(o+="\n".concat(m,"...").concat(b),c=!0):M>3&&(o+="\n  ".concat(d[f-2]),T++),o+="\n  ".concat(d[f-1]),T++),s=f,i+="\n".concat(w,"-").concat(b," ").concat(d[f]),T++;else if(d.length<f+1)M>1&&f>2&&(M>4?(o+="\n".concat(m,"...").concat(b),c=!0):M>3&&(o+="\n  ".concat(l[f-2]),T++),o+="\n  ".concat(l[f-1]),T++),s=f,o+="\n".concat(g,"+").concat(b," ").concat(l[f]),T++;else{var O=d[f],B=l[f],R=B!==O&&(!y(B,",")||B.slice(0,-1)!==O);R&&y(O,",")&&O.slice(0,-1)===B&&(R=!1,B+=","),R?(M>1&&f>2&&(M>4?(o+="\n".concat(m,"...").concat(b),c=!0):M>3&&(o+="\n  ".concat(l[f-2]),T++),o+="\n  ".concat(l[f-1]),T++),s=f,o+="\n".concat(g,"+").concat(b," ").concat(B),i+="\n".concat(w,"-").concat(b," ").concat(O),T+=2):(o+=i,i="",1!==M&&0!==f||(o+="\n  ".concat(B),T++))}if(T>20&&f<I-2)return"".concat(x).concat(P,"\n").concat(o,"\n").concat(m,"...").concat(b).concat(i,"\n")+"".concat(m,"...").concat(b)}return"".concat(x).concat(c?P:"","\n").concat(o).concat(i).concat(a).concat(p)}var _=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==h(t)||null===t)throw new p("options","Object",t);var i=t.message,o=t.operator,c=t.stackStartFn,u=t.actual,l=t.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)n=s(this,d(e).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(m="[34m",g="[32m",b="[39m",w="[31m"):(m="",g="",b="",w="")),"object"===h(u)&&null!==u&&"object"===h(l)&&null!==l&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=k(u),l=k(l)),"deepStrictEqual"===o||"strictEqual"===o)n=s(this,d(e).call(this,A(u,l,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var y=v[o],_=S(u).split("\n");if("notStrictEqual"===o&&"object"===h(u)&&null!==u&&(y=v.notStrictEqualObject),_.length>30)for(_[26]="".concat(m,"...").concat(b);_.length>27;)_.pop();n=1===_.length?s(this,d(e).call(this,"".concat(y," ").concat(_[0]))):s(this,d(e).call(this,"".concat(y,"\n\n").concat(_.join("\n"),"\n")))}else{var I=S(u),E="",T=v[o];"notDeepEqual"===o||"notEqual"===o?(I="".concat(v[o],"\n\n").concat(I)).length>1024&&(I="".concat(I.slice(0,1021),"...")):(E="".concat(S(l)),I.length>512&&(I="".concat(I.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),"deepEqual"===o||"equal"===o?I="".concat(T,"\n\n").concat(I,"\n\nshould equal\n\n"):E=" ".concat(o," ").concat(E)),n=s(this,d(e).call(this,"".concat(I).concat(E)))}return Error.stackTraceLimit=f,n.generatedMessage=!i,Object.defineProperty(a(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(a(n),c),n.stack,n.name="AssertionError",s(n)}var n,c,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(t,e){return f(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}],c&&o(n.prototype,c),u&&o(n,u),e}(c(Error));t.exports=_},9022:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}var a,c,u={};function l(t,e,n){n||(n=Error);var r=function(n){function r(n,s,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),c=i(this,o(r).call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,s,a))),c.code=t,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,n),r}(n);u[t]=r}function d(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,s,c,u;if(void 0===a&&(a=n(2943)),a("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(s="not ",e.substr(!c||c<0?0:+c,s.length)===s)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))u="The ".concat(t," ").concat(o," ").concat(d(e,"type"));else{var l=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";u='The "'.concat(t,'" ').concat(l," ").concat(o," ").concat(d(e,"type"))}return u+=". Received type ".concat(r(i))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=n(3585));var i=c.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===a&&(a=n(2943)),a(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=u},23:(t,e,n)=>{"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},a=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},c=Object.is?Object.is:n(2373),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(5757);function d(t){return t.call.bind(t)}var h=d(Object.prototype.hasOwnProperty),f=d(Object.prototype.propertyIsEnumerable),p=d(Object.prototype.toString),y=n(3585).types,m=y.isAnyArrayBuffer,g=y.isArrayBufferView,w=y.isDate,b=y.isMap,v=y.isRegExp,k=y.isSet,S=y.isNativeError,A=y.isBoxedPrimitive,_=y.isNumberObject,I=y.isStringObject,E=y.isBooleanObject,T=y.isBigIntObject,x=y.isSymbolObject,P=y.isFloat32Array,M=y.isFloat64Array;function O(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function B(t){return Object.keys(t).filter(O).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function R(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}var C=0,L=1,D=2,N=3;function U(t,e,n,r){if(t===e)return 0!==t||(!n||c(t,e));if(n){if("object"!==i(t))return"number"==typeof t&&l(t)&&l(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var s,a,u,d,h=p(t);if(h!==p(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var f=B(t),y=B(e);return f.length===y.length&&K(t,e,n,r,L,f)}if("[object Object]"===h&&(!b(t)&&b(e)||!k(t)&&k(e)))return!1;if(w(t)){if(!w(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(v(t)){if(!v(e)||(u=t,d=e,!(o?u.source===d.source&&u.flags===d.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(d))))return!1}else if(S(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(g(t)){if(n||!P(t)&&!M(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===R(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(t,e))return!1;var O=B(t),U=B(e);return O.length===U.length&&K(t,e,n,r,C,O)}if(k(t))return!(!k(e)||t.size!==e.size)&&K(t,e,n,r,D);if(b(t))return!(!b(e)||t.size!==e.size)&&K(t,e,n,r,N);if(m(t)){if(a=e,(s=t).byteLength!==a.byteLength||0!==R(new Uint8Array(s),new Uint8Array(a)))return!1}else if(A(t)&&!function(t,e){return _(t)?_(e)&&c(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):I(t)?I(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):E(t)?E(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):T(t)?T(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):x(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return K(t,e,n,r,C)}function z(t,e){return e.filter((function(e){return f(t,e)}))}function K(t,e,n,o,c,l){if(5===arguments.length){l=Object.keys(t);var d=Object.keys(e);if(l.length!==d.length)return!1}for(var p=0;p<l.length;p++)if(!h(e,l[p]))return!1;if(n&&5===arguments.length){var y=u(t);if(0!==y.length){var m=0;for(p=0;p<y.length;p++){var g=y[p];if(f(t,g)){if(!f(e,g))return!1;l.push(g),m++}else if(f(e,g))return!1}var w=u(e);if(y.length!==w.length&&z(e,w).length!==m)return!1}else{var b=u(e);if(0!==b.length&&0!==z(e,b).length)return!1}}if(0===l.length&&(c===C||c===L&&0===t.length||0===t.size))return!0;if(void 0===o)o={val1:new Map,val2:new Map,position:0};else{var v=o.val1.get(t);if(void 0!==v){var k=o.val2.get(e);if(void 0!==k)return v===k}o.position++}o.val1.set(t,o.position),o.val2.set(e,o.position);var S=function(t,e,n,o,c,u){var l=0;if(u===D){if(!function(t,e,n,r){for(var o=null,a=s(t),c=0;c<a.length;c++){var u=a[c];if("object"===i(u)&&null!==u)null===o&&(o=new Set),o.add(u);else if(!e.has(u)){if(n)return!1;if(!W(t,e,u))return!1;null===o&&(o=new Set),o.add(u)}}if(null!==o){for(var l=s(e),d=0;d<l.length;d++){var h=l[d];if("object"===i(h)&&null!==h){if(!F(o,h,n,r))return!1}else if(!n&&!t.has(h)&&!F(o,h,n,r))return!1}return 0===o.size}return!0}(t,e,n,c))return!1}else if(u===N){if(!function(t,e,n,o){for(var s=null,c=a(t),u=0;u<c.length;u++){var l=r(c[u],2),d=l[0],h=l[1];if("object"===i(d)&&null!==d)null===s&&(s=new Set),s.add(d);else{var f=e.get(d);if(void 0===f&&!e.has(d)||!U(h,f,n,o)){if(n)return!1;if(!V(t,e,d,h,o))return!1;null===s&&(s=new Set),s.add(d)}}}if(null!==s){for(var p=a(e),y=0;y<p.length;y++){var m=r(p[y],2),g=(d=m[0],m[1]);if("object"===i(d)&&null!==d){if(!q(s,t,d,g,n,o))return!1}else if(!(n||t.has(d)&&U(t.get(d),g,!1,o)||q(s,t,d,g,!1,o)))return!1}return 0===s.size}return!0}(t,e,n,c))return!1}else if(u===L)for(;l<t.length;l++){if(!h(t,l)){if(h(e,l))return!1;for(var d=Object.keys(t);l<d.length;l++){var f=d[l];if(!h(e,f)||!U(t[f],e[f],n,c))return!1}return d.length===Object.keys(e).length}if(!h(e,l)||!U(t[l],e[l],n,c))return!1}for(l=0;l<o.length;l++){var p=o[l];if(!U(t[p],e[p],n,c))return!1}return!0}(t,e,n,l,o,c);return o.val1.delete(t),o.val2.delete(e),S}function F(t,e,n,r){for(var i=s(t),o=0;o<i.length;o++){var a=i[o];if(U(e,a,n,r))return t.delete(a),!0}return!1}function j(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(l(t))return!1}return!0}function W(t,e,n){var r=j(n);return null!=r?r:e.has(r)&&!t.has(r)}function V(t,e,n,r,i){var o=j(n);if(null!=o)return o;var s=e.get(o);return!(void 0===s&&!e.has(o)||!U(r,s,!1,i))&&(!t.has(o)&&U(r,s,!1,i))}function q(t,e,n,r,i,o){for(var a=s(t),c=0;c<a.length;c++){var u=a[c];if(U(n,u,i,o)&&U(r,e.get(u),i,o))return t.delete(u),!0}return!1}t.exports={isDeepEqual:function(t,e){return U(t,e,false)},isDeepStrictEqual:function(t,e){return U(t,e,true)}}},5529:(t,e,n)=>{"use strict";var r=n(1874).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,o=0;t[n]===c;)i++,n++;for(var s=(t.length-n)*u+1>>>0,l=new Uint8Array(s);t[n];){var d=e[t.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<o)&&-1!==f;f--,h++)d+=a*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}for(var p=s-o;p!==s&&0===l[p];)p++;var y=r.allocUnsafe(i+(s-p));y.fill(0,0,i);for(var m=i;p!==s;)y[m++]=l[p++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,n++;for(var u=(s-o)*l+1>>>0,d=new Uint8Array(u);o!==s;){for(var h=e[o],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}for(var y=u-i;y!==u&&0===d[y];)y++;for(var m=c.repeat(n);y<u;++y)m+=t.charAt(d[y]);return m},decodeUnsafe:d,decode:function(t){var e=d(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},5415:(t,e)=>{"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=c(t),s=o[0],a=o[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(u(t,a,a+s>c?c:a+s));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3477:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.toBigIntLE=function(t){{const e=r.from(t);e.reverse();const n=e.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},e.toBigIntBE=function(t){{const e=t.toString("hex");return 0===e.length?BigInt(0):BigInt(`0x${e}`)}},e.toBufferLE=function(t,e){{const n=t.toString(16),i=r.from(n.padStart(2*e,"0").slice(0,2*e),"hex");return i.reverse(),i}},e.toBufferBE=function(t,e){{const n=t.toString(16);return r.from(n.padStart(2*e,"0").slice(0,2*e),"hex")}}},1924:function(t,e,n){var r;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,u="[BigNumber Error] ",l=u+"Number primitive has more than 15 significant digits: ",d=1e14,h=14,f=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,m=1e9;function g(t){var e=0|t;return t>0||t===e?e:e-1}function w(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=h-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(t,e){var n,r,i=t.c,o=e.c,s=t.s,a=e.s,c=t.e,u=e.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==u?0:c>u^n?1:-1}function v(t,e,n,r){if(t<e||t>n||t!==c(t))throw Error(u+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function k(t){var e=t.c.length-1;return g(t.e/h)==e&&t.c[e]%2!=0}function S(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function A(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}o=function t(e){var n,r,i,o,_,I,E,T,x,P,M=V.prototype={constructor:V,toString:null,valueOf:null},O=new V(1),B=20,R=4,C=-7,L=21,D=-1e7,N=1e7,U=!1,z=1,K=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz",W=!0;function V(t,e){var n,o,a,u,d,p,y,m,g=this;if(!(g instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return g.s=t.s,void(!t.c||t.e>N?g.c=g.e=null:t.e<D?g.c=[g.e=0]:(g.e=t.e,g.c=t.c.slice()));if((p="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,d=t;d>=10;d/=10,u++);return void(u>N?g.c=g.e=null:(g.e=u,g.c=[t]))}m=String(t)}else{if(!s.test(m=String(t)))return i(g,m,p);g.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(u=m.indexOf("."))>-1&&(m=m.replace(".","")),(d=m.search(/e/i))>0?(u<0&&(u=d),u+=+m.slice(d+1),m=m.substring(0,d)):u<0&&(u=m.length)}else{if(v(e,2,j.length,"Base"),10==e&&W)return $(g=new V(t),B+g.e+1,R);if(m=String(t),p="number"==typeof t){if(0*t!=0)return i(g,m,p,e);if(g.s=1/t<0?(m=m.slice(1),-1):1,V.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else g.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=j.slice(0,e),u=d=0,y=m.length;d<y;d++)if(n.indexOf(o=m.charAt(d))<0){if("."==o){if(d>u){u=y;continue}}else if(!a&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){a=!0,d=-1,u=0;continue}return i(g,String(t),p,e)}p=!1,(u=(m=r(m,e,10,g.s)).indexOf("."))>-1?m=m.replace(".",""):u=m.length}for(d=0;48===m.charCodeAt(d);d++);for(y=m.length;48===m.charCodeAt(--y););if(m=m.slice(d,++y)){if(y-=d,p&&V.DEBUG&&y>15&&(t>f||t!==c(t)))throw Error(l+g.s*t);if((u=u-d-1)>N)g.c=g.e=null;else if(u<D)g.c=[g.e=0];else{if(g.e=u,g.c=[],d=(u+1)%h,u<0&&(d+=h),d<y){for(d&&g.c.push(+m.slice(0,d)),y-=h;d<y;)g.c.push(+m.slice(d,d+=h));d=h-(m=m.slice(d)).length}else d-=y;for(;d--;m+="0");g.c.push(+m)}}else g.c=[g.e=0]}function q(t,e,n,r){var i,o,s,a,c;if(null==n?n=R:v(n,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)c=w(t.c),c=1==r||2==r&&(s<=C||s>=L)?S(c,s):A(c,s,"0");else if(o=(t=$(new V(t),e,n)).e,a=(c=w(t.c)).length,1==r||2==r&&(e<=o||o<=C)){for(;a<e;c+="0",a++);c=S(c,o)}else if(e-=s,c=A(c,o,"0"),o+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=o-a)>0)for(o+1==a&&(c+=".");e--;c+="0");return t.s<0&&i?"-"+c:c}function H(t,e){for(var n,r=1,i=new V(t[0]);r<t.length;r++){if(!(n=new V(t[r])).s){i=n;break}e.call(i,n)&&(i=n)}return i}function G(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*h-1)>N?t.c=t.e=null:n<D?t.c=[t.e=0]:(t.e=n,t.c=e),t}function $(t,e,n,r){var i,o,s,u,l,f,y,m=t.c,g=p;if(m){t:{for(i=1,u=m[0];u>=10;u/=10,i++);if((o=e-i)<0)o+=h,s=e,y=(l=m[f=0])/g[i-s-1]%10|0;else if((f=a((o+1)/h))>=m.length){if(!r)break t;for(;m.length<=f;m.push(0));l=y=0,i=1,s=(o%=h)-h+1}else{for(l=u=m[f],i=1;u>=10;u/=10,i++);y=(s=(o%=h)-h+i)<0?0:l/g[i-s-1]%10|0}if(r=r||e<0||null!=m[f+1]||(s<0?l:l%g[i-s-1]),r=n<4?(y||r)&&(0==n||n==(t.s<0?3:2)):y>5||5==y&&(4==n||r||6==n&&(o>0?s>0?l/g[i-s]:0:m[f-1])%10&1||n==(t.s<0?8:7)),e<1||!m[0])return m.length=0,r?(e-=t.e+1,m[0]=g[(h-e%h)%h],t.e=-e||0):m[0]=t.e=0,t;if(0==o?(m.length=f,u=1,f--):(m.length=f+1,u=g[h-o],m[f]=s>0?c(l/g[i-s]%g[s])*u:0),r)for(;;){if(0==f){for(o=1,s=m[0];s>=10;s/=10,o++);for(s=m[0]+=u,u=1;s>=10;s/=10,u++);o!=u&&(t.e++,m[0]==d&&(m[0]=1));break}if(m[f]+=u,m[f]!=d)break;m[f--]=0,u=1}for(o=m.length;0===m[--o];m.pop());}t.e>N?t.c=t.e=null:t.e<D&&(t.c=[t.e=0])}return t}function Z(t){var e,n=t.e;return null===n?t.toString():(e=w(t.c),e=n<=C||n>=L?S(e,n):A(e,n,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(u+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(v(n=t[e],0,m,e),B=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(v(n=t[e],0,8,e),R=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(v(n[0],-m,0,e),v(n[1],0,m,e),C=n[0],L=n[1]):(v(n,-m,m,e),C=-(L=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)v(n[0],-m,-1,e),v(n[1],1,m,e),D=n[0],N=n[1];else{if(v(n,-m,m,e),!n)throw Error(u+e+" cannot be zero: "+n);D=-(N=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(u+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(u+"crypto unavailable");U=n}else U=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(v(n=t[e],0,9,e),z=n),t.hasOwnProperty(e="POW_PRECISION")&&(v(n=t[e],0,m,e),K=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(u+e+" not an object: "+n);F=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(u+e+" invalid: "+n);W="0123456789"==n.slice(0,10),j=n}}return{DECIMAL_PLACES:B,ROUNDING_MODE:R,EXPONENTIAL_AT:[C,L],RANGE:[D,N],CRYPTO:U,MODULO_MODE:z,POW_PRECISION:K,FORMAT:F,ALPHABET:j}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,n,r=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-m&&i<=m&&i===c(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break t}if((e=(i+1)%h)<1&&(e+=h),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=d||n!==c(n))break t;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(u+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return H(arguments,M.lt)},V.minimum=V.min=function(){return H(arguments,M.gt)},V.random=(o=9007199254740992,_=Math.random()*o&2097151?function(){return c(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,i,o,s=0,l=[],d=new V(O);if(null==t?t=B:v(t,0,m),i=a(t/h),U)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(o=131072*e[s]+(e[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[s]=n[0],e[s+1]=n[1]):(l.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw U=!1,Error(u+"crypto unavailable");for(e=crypto.randomBytes(i*=7);s<i;)(o=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(l.push(o%1e14),s+=7);s=i/7}if(!U)for(;s<i;)(o=_())<9e15&&(l[s++]=o%1e14);for(i=l[--s],t%=h,i&&t&&(o=p[h-t],l[s]=c(i/o)*o);0===l[s];l.pop(),s--);if(s<0)l=[r=0];else{for(r=-1;0===l[0];l.splice(0,1),r-=h);for(s=1,o=l[0];o>=10;o/=10,s++);s<h&&(r-=h-s)}return d.e=r,d.c=l,d}),V.sum=function(){for(var t=1,e=arguments,n=new V(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var i,o,s=[0],a=0,c=t.length;a<c;){for(o=s.length;o--;s[o]*=e);for(s[0]+=r.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var c,u,l,d,h,f,p,y,m=r.indexOf("."),g=B,b=R;for(m>=0&&(d=K,K=0,r=r.replace(".",""),f=(y=new V(i)).pow(r.length-m),K=d,y.c=e(A(w(f.c),f.e,"0"),10,o,t),y.e=y.c.length),l=d=(p=e(r,i,o,a?(c=j,t):(c=t,j))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(m<0?--l:(f.c=p,f.e=l,f.s=s,p=(f=n(f,y,g,b,o)).c,h=f.r,l=f.e),m=p[u=l+g+1],d=o/2,h=h||u<0||null!=p[u+1],h=b<4?(null!=m||h)&&(0==b||b==(f.s<0?3:2)):m>d||m==d&&(4==b||h||6==b&&1&p[u-1]||b==(f.s<0?8:7)),u<1||!p[0])r=h?A(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{if(p.length=u,h)for(--o;++p[--u]>o;)p[u]=0,u||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(m=0,r="";m<=d;r+=c.charAt(p[m++]));r=A(r,l,c.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,i,o,s,a=0,c=t.length,u=e%y,l=e/y|0;for(t=t.slice();c--;)a=((i=u*(o=t[c]%y)+(r=l*o+(s=t[c]/y|0)*u)%y*y+a)/n|0)+(r/y|0)+l*s,t[c]=i%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,o,s,a){var u,l,f,p,y,m,w,b,v,k,S,A,_,I,E,T,x,P=r.s==i.s?1:-1,M=r.c,O=i.c;if(!(M&&M[0]&&O&&O[0]))return new V(r.s&&i.s&&(M?!O||M[0]!=O[0]:O)?M&&0==M[0]||!O?0*P:P/0:NaN);for(v=(b=new V(P)).c=[],P=o+(l=r.e-i.e)+1,a||(a=d,l=g(r.e/h)-g(i.e/h),P=P/h|0),f=0;O[f]==(M[f]||0);f++);if(O[f]>(M[f]||0)&&l--,P<0)v.push(1),p=!0;else{for(I=M.length,T=O.length,f=0,P+=2,(y=c(a/(O[0]+1)))>1&&(O=t(O,y,a),M=t(M,y,a),T=O.length,I=M.length),_=T,S=(k=M.slice(0,T)).length;S<T;k[S++]=0);x=O.slice(),x=[0].concat(x),E=O[0],O[1]>=a/2&&E++;do{if(y=0,(u=e(O,k,T,S))<0){if(A=k[0],T!=S&&(A=A*a+(k[1]||0)),(y=c(A/E))>1)for(y>=a&&(y=a-1),w=(m=t(O,y,a)).length,S=k.length;1==e(m,k,w,S);)y--,n(m,T<w?x:O,w,a),w=m.length,u=1;else 0==y&&(u=y=1),w=(m=O.slice()).length;if(w<S&&(m=[0].concat(m)),n(k,m,S,a),S=k.length,-1==u)for(;e(O,k,T,S)<1;)y++,n(k,T<S?x:O,S,a),S=k.length}else 0===u&&(y++,k=[0]);v[f++]=y,k[0]?k[S++]=M[_]||0:(k=[M[_]],S=1)}while((_++<I||null!=k[0])&&P--);p=null!=k[0],v[0]||v.splice(0,1)}if(a==d){for(f=1,P=v[0];P>=10;P/=10,f++);$(b,o+(b.e=f+l*h-1)+1,s,p)}else b.e=l,b.r=+p;return b}}(),I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,T=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,n,r){var i,o=n?e:e.replace(P,"");if(x.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(I,(function(t,e,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?t:e})),r&&(i=r,o=o.replace(E,"$1").replace(T,"0.$1")),e!=o))return new V(o,i);if(V.DEBUG)throw Error(u+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},M.absoluteValue=M.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},M.comparedTo=function(t,e){return b(this,new V(t,e))},M.decimalPlaces=M.dp=function(t,e){var n,r,i,o=this;if(null!=t)return v(t,0,m),null==e?e=R:v(e,0,8),$(new V(o),t+o.e+1,e);if(!(n=o.c))return null;if(r=((i=n.length-1)-g(this.e/h))*h,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},M.dividedBy=M.div=function(t,e){return n(this,new V(t,e),B,R)},M.dividedToIntegerBy=M.idiv=function(t,e){return n(this,new V(t,e),0,1)},M.exponentiatedBy=M.pow=function(t,e){var n,r,i,o,s,l,d,f,p=this;if((t=new V(t)).c&&!t.isInteger())throw Error(u+"Exponent not an integer: "+Z(t));if(null!=e&&(e=new V(e)),s=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return f=new V(Math.pow(+Z(p),s?t.s*(2-k(t)):+Z(t))),e?f.mod(e):f;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(r=!l&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||s&&p.c[1]>=24e7:p.c[0]<8e13||s&&p.c[0]<=9999975e7)))return o=p.s<0&&k(t)?-0:0,p.e>-1&&(o=1/o),new V(l?1/o:o);K&&(o=a(K/h+2))}for(s?(n=new V(.5),l&&(t.s=1),d=k(t)):d=(i=Math.abs(+Z(t)))%2,f=new V(O);;){if(d){if(!(f=f.times(p)).c)break;o?f.c.length>o&&(f.c.length=o):r&&(f=f.mod(e))}if(i){if(0===(i=c(i/2)))break;d=i%2}else if($(t=t.times(n),t.e+1,1),t.e>14)d=k(t);else{if(0===(i=+Z(t)))break;d=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):r&&(p=p.mod(e))}return r?f:(l&&(f=O.div(f)),e?f.mod(e):o?$(f,K,R,undefined):f)},M.integerValue=function(t){var e=new V(this);return null==t?t=R:v(t,0,8),$(e,e.e+1,t)},M.isEqualTo=M.eq=function(t,e){return 0===b(this,new V(t,e))},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(t,e){return b(this,new V(t,e))>0},M.isGreaterThanOrEqualTo=M.gte=function(t,e){return 1===(e=b(this,new V(t,e)))||0===e},M.isInteger=function(){return!!this.c&&g(this.e/h)>this.c.length-2},M.isLessThan=M.lt=function(t,e){return b(this,new V(t,e))<0},M.isLessThanOrEqualTo=M.lte=function(t,e){return-1===(e=b(this,new V(t,e)))||0===e},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&0==this.c[0]},M.minus=function(t,e){var n,r,i,o,s=this,a=s.s;if(e=(t=new V(t,e)).s,!a||!e)return new V(NaN);if(a!=e)return t.s=-e,s.plus(t);var c=s.e/h,u=t.e/h,l=s.c,f=t.c;if(!c||!u){if(!l||!f)return l?(t.s=-e,t):new V(f?s:NaN);if(!l[0]||!f[0])return f[0]?(t.s=-e,t):new V(l[0]?s:3==R?-0:0)}if(c=g(c),u=g(u),l=l.slice(),a=c-u){for((o=a<0)?(a=-a,i=l):(u=c,i=f),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(r=(o=(a=l.length)<(e=f.length))?a:e,a=e=0;e<r;e++)if(l[e]!=f[e]){o=l[e]<f[e];break}if(o&&(i=l,l=f,f=i,t.s=-t.s),(e=(r=f.length)-(n=l.length))>0)for(;e--;l[n++]=0);for(e=d-1;r>a;){if(l[--r]<f[r]){for(n=r;n&&!l[--n];l[n]=e);--l[n],l[r]+=d}l[r]-=f[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?G(t,l,u):(t.s=3==R?-1:1,t.c=[t.e=0],t)},M.modulo=M.mod=function(t,e){var r,i,o=this;return t=new V(t,e),!o.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||o.c&&!o.c[0]?new V(o):(9==z?(i=t.s,t.s=1,r=n(o,t,0,3),t.s=i,r.s*=i):r=n(o,t,0,z),(t=o.minus(r.times(t))).c[0]||1!=z||(t.s=o.s),t)},M.multipliedBy=M.times=function(t,e){var n,r,i,o,s,a,c,u,l,f,p,m,w,b,v,k=this,S=k.c,A=(t=new V(t,e)).c;if(!(S&&A&&S[0]&&A[0]))return!k.s||!t.s||S&&!S[0]&&!A||A&&!A[0]&&!S?t.c=t.e=t.s=null:(t.s*=k.s,S&&A?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=g(k.e/h)+g(t.e/h),t.s*=k.s,(c=S.length)<(f=A.length)&&(w=S,S=A,A=w,i=c,c=f,f=i),i=c+f,w=[];i--;w.push(0));for(b=d,v=y,i=f;--i>=0;){for(n=0,p=A[i]%v,m=A[i]/v|0,o=i+(s=c);o>i;)n=((u=p*(u=S[--s]%v)+(a=m*u+(l=S[s]/v|0)*p)%v*v+w[o]+n)/b|0)+(a/v|0)+m*l,w[o--]=u%b;w[o]=n}return n?++r:w.splice(0,1),G(t,w,r)},M.negated=function(){var t=new V(this);return t.s=-t.s||null,t},M.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new V(t,e)).s,!i||!e)return new V(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/h,s=t.e/h,a=r.c,c=t.c;if(!o||!s){if(!a||!c)return new V(i/0);if(!a[0]||!c[0])return c[0]?t:new V(a[0]?r:0*i)}if(o=g(o),s=g(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(e=c.length)<0&&(n=c,c=a,a=n,e=i),i=0;e;)i=(a[--e]=a[e]+c[e]+i)/d|0,a[e]=d===a[e]?0:a[e]%d;return i&&(a=[i].concat(a),++s),G(t,a,s)},M.precision=M.sd=function(t,e){var n,r,i,o=this;if(null!=t&&t!==!!t)return v(t,1,m),null==e?e=R:v(e,0,8),$(new V(o),t,e);if(!(n=o.c))return null;if(r=(i=n.length-1)*h+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return t&&o.e+1>r&&(r=o.e+1),r},M.shiftedBy=function(t){return v(t,-9007199254740991,f),this.times("1e"+t)},M.squareRoot=M.sqrt=function(){var t,e,r,i,o,s=this,a=s.c,c=s.s,u=s.e,l=B+4,d=new V("0.5");if(1!==c||!a||!a[0])return new V(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+Z(s)))||c==1/0?(((e=w(a)).length+u)%2==0&&(e+="0"),c=Math.sqrt(+e),u=g((u+1)/2)-(u<0||u%2),r=new V(e=c==1/0?"5e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new V(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(o=r,r=d.times(o.plus(n(s,o,l,1))),w(o.c).slice(0,c)===(e=w(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||($(r,r.e+B+2,1),t=!r.times(r).eq(s));break}if(!i&&($(o,o.e+B+2,0),o.times(o).eq(s))){r=o;break}l+=4,c+=4,i=1}return $(r,r.e+B+1,R,t)},M.toExponential=function(t,e){return null!=t&&(v(t,0,m),t++),q(this,t,e,1)},M.toFixed=function(t,e){return null!=t&&(v(t,0,m),t=t+this.e+1),q(this,t,e)},M.toFormat=function(t,e,n){var r,i=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=F;else if("object"!=typeof n)throw Error(u+"Argument not an object: "+n);if(r=i.toFixed(t,e),i.c){var o,s=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",d=s[0],h=s[1],f=i.s<0,p=f?d.slice(1):d,y=p.length;if(c&&(o=a,a=c,c=o,y-=o),a>0&&y>0){for(o=y%a||a,d=p.substr(0,o);o<y;o+=a)d+=l+p.substr(o,a);c>0&&(d+=l+p.slice(o)),f&&(d="-"+d)}r=h?d+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):d}return(n.prefix||"")+r+(n.suffix||"")},M.toFraction=function(t){var e,r,i,o,s,a,c,l,d,f,y,m,g=this,b=g.c;if(null!=t&&(!(c=new V(t)).isInteger()&&(c.c||1!==c.s)||c.lt(O)))throw Error(u+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Z(c));if(!b)return new V(g);for(e=new V(O),d=r=new V(O),i=l=new V(O),m=w(b),s=e.e=m.length-g.e-1,e.c[0]=p[(a=s%h)<0?h+a:a],t=!t||c.comparedTo(e)>0?s>0?e:d:c,a=N,N=1/0,c=new V(m),l.c[0]=0;f=n(c,e,0,1),1!=(o=r.plus(f.times(i))).comparedTo(t);)r=i,i=o,d=l.plus(f.times(o=d)),l=o,e=c.minus(f.times(o=e)),c=o;return o=n(t.minus(r),i,0,1),l=l.plus(o.times(d)),r=r.plus(o.times(i)),l.s=d.s=g.s,y=n(d,i,s*=2,R).minus(g).abs().comparedTo(n(l,r,s,R).minus(g).abs())<1?[d,i]:[l,r],N=a,y},M.toNumber=function(){return+Z(this)},M.toPrecision=function(t,e){return null!=t&&v(t,1,m),q(this,t,e,2)},M.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=C||o>=L?S(w(n.c),o):A(w(n.c),o,"0"):10===t&&W?e=A(w((n=$(new V(n),B+o+1,R)).c),n.e,"0"):(v(t,2,j.length,"Base"),e=r(A(w(n.c),o,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},M.valueOf=M.toJSON=function(){return Z(this)},M._isBigNumber=!0,null!=e&&V.set(e),V}(),o.default=o.BigNumber=o,void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},9098:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(9391).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function c(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),c=e;c<a;c++){var u=t.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,c=0,l=n;l<a;l+=r)c=u(t,l,l+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)d*=e;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(t){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?h[6-c.length]+c+n:c+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=p[t];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(l).toString(t);n=(d=d.idivn(l)).isZero()?y+n:h[u-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function y(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=h;f++){var p=u-f|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[f])+d)/67108864|0,d=67108863&s}n.words[u]=0|d,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,u=0,l=0|s[0],d=8191&l,h=l>>>13,f=0|s[1],p=8191&f,y=f>>>13,m=0|s[2],g=8191&m,w=m>>>13,b=0|s[3],v=8191&b,k=b>>>13,S=0|s[4],A=8191&S,_=S>>>13,I=0|s[5],E=8191&I,T=I>>>13,x=0|s[6],P=8191&x,M=x>>>13,O=0|s[7],B=8191&O,R=O>>>13,C=0|s[8],L=8191&C,D=C>>>13,N=0|s[9],U=8191&N,z=N>>>13,K=0|a[0],F=8191&K,j=K>>>13,W=0|a[1],V=8191&W,q=W>>>13,H=0|a[2],G=8191&H,$=H>>>13,Z=0|a[3],Y=8191&Z,X=Z>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],dt=8191&lt,ht=lt>>>13,ft=0|a[9],pt=8191&ft,yt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,j))+Math.imul(h,F)|0))<<13)|0;u=((o=Math.imul(h,j))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,j))+Math.imul(y,F)|0,o=Math.imul(y,j);var gt=(u+(r=r+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,q)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,F),i=(i=Math.imul(g,j))+Math.imul(w,F)|0,o=Math.imul(w,j),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,q)|0;var wt=(u+(r=r+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,$)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,$)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(v,F),i=(i=Math.imul(v,j))+Math.imul(k,F)|0,o=Math.imul(k,j),r=r+Math.imul(g,V)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,$)|0;var bt=(u+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(A,F),i=(i=Math.imul(A,j))+Math.imul(_,F)|0,o=Math.imul(_,j),r=r+Math.imul(v,V)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,q)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0;var vt=(u+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,tt)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(T,F)|0,o=Math.imul(T,j),r=r+Math.imul(A,V)|0,i=(i=i+Math.imul(A,q)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,q)|0,r=r+Math.imul(v,G)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var kt=(u+(r=r+Math.imul(d,nt)|0)|0)+((8191&(i=(i=i+Math.imul(d,rt)|0)+Math.imul(h,nt)|0))<<13)|0;u=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,j))+Math.imul(M,F)|0,o=Math.imul(M,j),r=r+Math.imul(E,V)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,q)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0;var St=(u+(r=r+Math.imul(d,ot)|0)|0)+((8191&(i=(i=i+Math.imul(d,st)|0)+Math.imul(h,ot)|0))<<13)|0;u=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,j))+Math.imul(R,F)|0,o=Math.imul(R,j),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,q)|0,r=r+Math.imul(E,G)|0,i=(i=i+Math.imul(E,$)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var At=(u+(r=r+Math.imul(d,ct)|0)|0)+((8191&(i=(i=i+Math.imul(d,ut)|0)+Math.imul(h,ct)|0))<<13)|0;u=((o=o+Math.imul(h,ut)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(L,F),i=(i=Math.imul(L,j))+Math.imul(D,F)|0,o=Math.imul(D,j),r=r+Math.imul(B,V)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,q)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,$)|0,r=r+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(v,nt)|0,i=(i=i+Math.imul(v,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ut)|0;var _t=(u+(r=r+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ht)|0)+Math.imul(h,dt)|0))<<13)|0;u=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(z,F)|0,o=Math.imul(z,j),r=r+Math.imul(L,V)|0,i=(i=i+Math.imul(L,q)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,q)|0,r=r+Math.imul(B,G)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ut)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(p,dt)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(y,dt)|0,o=o+Math.imul(y,ht)|0;var It=(u+(r=r+Math.imul(d,pt)|0)|0)+((8191&(i=(i=i+Math.imul(d,yt)|0)+Math.imul(h,pt)|0))<<13)|0;u=((o=o+Math.imul(h,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,q))+Math.imul(z,V)|0,o=Math.imul(z,q),r=r+Math.imul(L,G)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,$)|0,r=r+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,r=r+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,r=r+Math.imul(g,dt)|0,i=(i=i+Math.imul(g,ht)|0)+Math.imul(w,dt)|0,o=o+Math.imul(w,ht)|0;var Et=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,yt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(U,G),i=(i=Math.imul(U,$))+Math.imul(z,G)|0,o=Math.imul(z,$),r=r+Math.imul(L,Y)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,r=r+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,r=r+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,r=r+Math.imul(v,dt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(k,dt)|0,o=o+Math.imul(k,ht)|0;var Tt=(u+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,yt)|0)+Math.imul(w,pt)|0))<<13)|0;u=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(U,Y),i=(i=Math.imul(U,X))+Math.imul(z,Y)|0,o=Math.imul(z,X),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(B,nt)|0,i=(i=i+Math.imul(B,rt)|0)+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,r=r+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ut)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,ut)|0,r=r+Math.imul(A,dt)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(_,dt)|0,o=o+Math.imul(_,ht)|0;var xt=(u+(r=r+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,yt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,tt))+Math.imul(z,Q)|0,o=Math.imul(z,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,r=r+Math.imul(E,dt)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(T,dt)|0,o=o+Math.imul(T,ht)|0;var Pt=(u+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,yt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(U,nt),i=(i=Math.imul(U,rt))+Math.imul(z,nt)|0,o=Math.imul(z,rt),r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(R,ct)|0,o=o+Math.imul(R,ut)|0,r=r+Math.imul(P,dt)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(M,dt)|0,o=o+Math.imul(M,ht)|0;var Mt=(u+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,yt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(z,ot)|0,o=Math.imul(z,st),r=r+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(B,dt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(R,dt)|0,o=o+Math.imul(R,ht)|0;var Ot=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,yt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(U,ct),i=(i=Math.imul(U,ut))+Math.imul(z,ct)|0,o=Math.imul(z,ut),r=r+Math.imul(L,dt)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,dt)|0,o=o+Math.imul(D,ht)|0;var Bt=(u+(r=r+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,yt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(U,dt),i=(i=Math.imul(U,ht))+Math.imul(z,dt)|0,o=Math.imul(z,ht);var Rt=(u+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,yt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,yt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Ct=(u+(r=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,yt))+Math.imul(z,pt)|0))<<13)|0;return u=((o=Math.imul(z,yt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,c[0]=mt,c[1]=gt,c[2]=wt,c[3]=bt,c[4]=vt,c[5]=kt,c[6]=St,c[7]=At,c[8]=_t,c[9]=It,c[10]=Et,c[11]=Tt,c[12]=xt,c[13]=Pt,c[14]=Mt,c[15]=Ot,c[16]=Bt,c[17]=Rt,c[18]=Ct,0!==u&&(c[19]=u,n.length++),n};function g(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,d=(0|t.words[l])*(0|e.words[u]),h=67108863&d;a=67108863&(h=h+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function w(t,e,n){return g(t,e,n)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=y),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):n<63?y(this,t,e):n<1024?g(this,t,e):w(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},b.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},b.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},b.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,h=u,f=0;f<s;f++){var p=n[l+f],y=r[l+f],m=n[l+f+s],g=r[l+f+s],w=d*m-h*g;g=d*g+h*m,m=w,n[l+f]=p+m,r[l+f]=y+g,n[l+f+s]=p-m,r[l+f+s]=y-g,f!==a&&(w=c*d-u*h,h=c*h+u*d,d=w)}},b.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},b.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},b.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,d,r,i);for(var f=0;f<r;f++){var p=a[f]*l[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,r),this.transform(a,c,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),w(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-o|d>>>o,l=d&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),d=e.clone();!e.isZero();){for(var h=0,f=1;0==(e.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(c)):(n.isub(e),a.isub(i),c.isub(s))}return{a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,h=1;0==(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function k(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},k.prototype.split=function(t,e){t.iushrn(this.n,0,e)},k.prototype.imulK=function(t){return t.imul(this.k)},i(S,k),S.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,k),i(_,k),i(I,k),I.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new A;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new I}return v[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),h=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=s;0!==f.cmp(a);){for(var y=f,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var g=this.pow(d,new o(1).iushln(p-m-1));h=h.redMul(g),d=g.redSqr(),f=f.redMul(d),p=m}return h},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var d=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,E),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},8797:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=c(n(9098)),l=c(n(1511)),d=a(n(8752)),h=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=r.from(t,"utf8")),l.default.encode(r.from(t))},e.baseDecode=function(t){return r.from(l.default.decode(t))};const f=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class y{constructor(){this.buf=r.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(f)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),t,r.alloc(f)]),this.length+=t.length}writeString(t){this.maybeResize();const e=r.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(r.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function m(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=y;class g{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(t){throw new p(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e,n,r,i){try{if("string"==typeof r)i[`write${w(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new p(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let e=0;e<r[1];e++)b(t,null,n[e],r[0],i)}else i.writeArray(n,(n=>{b(t,e,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),b(t,e,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{b(t,e,o,r.key,i),b(t,e,n,r.value,i)}));break;default:throw new p(`FieldType ${r} unrecognized`)}else v(t,n,i)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function v(t,e,n){if("function"==typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{b(t,r,e[r],i,n)}));else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),b(t,s,e[s],a,n);break}}}}}function k(t,e,n,r){try{if("string"==typeof n)return r[`read${w(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(k(t,null,n[0],r));return e}return r.readArray((()=>k(t,e,n[0],r)))}if("option"===n.kind){return r.readU8()?k(t,e,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=k(t,e,n.key,r),s=k(t,e,n.value,r);i.set(o,s)}return i}return S(t,n,r)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function S(t,e,n){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new p(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=k(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,s]=r.values[i];return new e({[o]:k(t,o,s,n)})}throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}s([m],g.prototype,"readU8",null),s([m],g.prototype,"readU16",null),s([m],g.prototype,"readU32",null),s([m],g.prototype,"readU64",null),s([m],g.prototype,"readU128",null),s([m],g.prototype,"readU256",null),s([m],g.prototype,"readU512",null),s([m],g.prototype,"readString",null),s([m],g.prototype,"readFixedArray",null),s([m],g.prototype,"readArray",null),e.BinaryReader=g,e.serialize=function(t,e,n=y){const r=new n;return v(t,e,r),r.toArray()},e.deserialize=function(t,e,n,r=g){const i=new r(n),o=S(t,e,i);if(i.offset<n.length)throw new p(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,n,r=g){return S(t,e,new r(n))}},1511:(t,e,n)=>{var r=n(5529);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},4104:(t,e,n)=>{"use strict";var r=n(5872).Buffer;class i{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function o(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=i,e.nameWithProperty=o,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof i))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})};class s extends i{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class c extends s{constructor(t,e,n){if(!(t instanceof i))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u||this.layout instanceof l}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class u extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class l extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}class d extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class h extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const f=Math.pow(2,32);function p(t){const e=Math.floor(t/f);return{hi32:e,lo32:t-e*f}}function y(t,e){return t*f+e}class m extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return y(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class g extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return y(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class w extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return y(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class b extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return y(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class v extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatLE(t,n),4}}class k extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatBE(t,n),4}}class S extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleLE(t,n),8}}class A extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleBE(t,n),8}}class _ extends i{constructor(t,e,n){if(!(t instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof s)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0,r=this.count;if(r instanceof s&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e){void 0===e&&(e=0);const n=[];let r=0,i=this.count;for(i instanceof s&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n){void 0===n&&(n=0);const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof s&&this.count.encode(t.length,e,n),i}}class I extends i{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof i),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class E{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class T extends E{constructor(t,e){if(!(t instanceof s&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class x extends i{constructor(t,e,n){const r=t instanceof u||t instanceof l;if(r)t=new T(new c(t));else if(t instanceof s&&t.isCount())t=new T(t);else if(!(t instanceof E))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&r&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return a(t)},this.configGetSourceVariant=function(t){a=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new P(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return r.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class P extends i{constructor(t,e,n,r){if(!(t instanceof x))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof i))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function M(t){return 0>t&&(t+=4294967296),t}class O extends i{constructor(t,e,n){if(!(t instanceof u||t instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=M(t),this},this._packedGetValue=function(){return r}}decode(t,e){const n=this.makeDestinationObject();void 0===e&&(e=0);const r=this.word.decode(t,e);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(r));return n}encode(t,e,n){void 0===n&&(n=0);const r=this.word.decode(e,n);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const n=t[e.property];void 0!==n&&e.encode(n)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new B(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new R(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class B{constructor(t,e,n){if(!(t instanceof O))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=M(this.valueMask<<this.start),this.property=n}decode(){return M(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==M(t&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=M(t<<this.start);this.container._packedSetValue(M(e&~this.wordMask)|n)}}class R extends B{constructor(t,e){super(t,1,e)}decode(t,e){return!!B.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),B.prototype.encode.call(this,t)}}class C extends i{constructor(t,e){if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof s||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof s&&(i=t.length),!r.isBuffer(t)||i!==t.length)throw new TypeError(o("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,i,"hex"),this.length instanceof s&&this.length.encode(i,e,n),i}}class L extends i{constructor(t){super(-1,t)}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);return t.slice(e,e+r-1).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const i=new r(t,"utf8"),o=i.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,n),e[n+o]=0,o+1}}class D extends i{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+r).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const i=new r(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,n),o}}class N extends i{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}e.ExternalLayout=s,e.GreedyCount=a,e.OffsetLayout=c,e.UInt=u,e.UIntBE=l,e.Int=d,e.IntBE=h,e.Float=v,e.FloatBE=k,e.Double=S,e.DoubleBE=A,e.Sequence=_,e.Structure=I,e.UnionDiscriminator=E,e.UnionLayoutDiscriminator=T,e.Union=x,e.VariantLayout=P,e.BitStructure=O,e.BitField=B,e.Boolean=R,e.Blob=C,e.CString=L,e.UTF8=D,e.Constant=N,e.greedy=(t,e)=>new a(t,e),e.offset=(t,e,n)=>new c(t,e,n),e.u8=t=>new u(1,t),e.u16=t=>new u(2,t),e.u24=t=>new u(3,t),e.u32=t=>new u(4,t),e.u40=t=>new u(5,t),e.u48=t=>new u(6,t),e.nu64=t=>new m(t),e.u16be=t=>new l(2,t),e.u24be=t=>new l(3,t),e.u32be=t=>new l(4,t),e.u40be=t=>new l(5,t),e.u48be=t=>new l(6,t),e.nu64be=t=>new g(t),e.s8=t=>new d(1,t),e.s16=t=>new d(2,t),e.s24=t=>new d(3,t),e.s32=t=>new d(4,t),e.s40=t=>new d(5,t),e.s48=t=>new d(6,t),e.ns64=t=>new w(t),e.s16be=t=>new h(2,t),e.s24be=t=>new h(3,t),e.s32be=t=>new h(4,t),e.s40be=t=>new h(5,t),e.s48be=t=>new h(6,t),e.ns64be=t=>new b(t),e.f32=t=>new v(t),e.f32be=t=>new k(t),e.f64=t=>new S(t),e.f64be=t=>new A(t),e.struct=(t,e,n)=>new I(t,e,n),e.bits=(t,e,n)=>new O(t,e,n),e.seq=(t,e,n)=>new _(t,e,n),e.union=(t,e,n)=>new x(t,e,n),e.unionLayoutDiscriminator=(t,e)=>new T(t,e),e.blob=(t,e)=>new C(t,e),e.cstr=t=>new L(t),e.utf8=(t,e)=>new D(t,e),e.const=(t,e)=>new N(t,e)},5872:(t,e,n)=>{"use strict";var r=n(9500);const i=n(5415),o=n(551),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function c(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|m(t,e);let r=c(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const i=function(t){if(u.isBuffer(t)){const e=0|y(t.length),n=c(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||X(t.length)?c(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return d(t),c(t<0?0:0|y(t))}function f(t){const e=t.length<0?0:0|y(t.length),n=c(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function y(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(i)return r?-1:G(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function k(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(X(r))return s;t[n+s]=r}return s}function S(t,e,n,r){return Z(G(e,t.length-n),t,n,r)}function A(t,e,n,r){return Z(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return Z($(e),t,n,r)}function I(t,e,n,r){return Z(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n}(r)}e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||void 0===r||"function"!=typeof r.error||r.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return d(t),t<=0?c(t):void 0!==e?"string"==typeof n?c(t).fill(e,n):c(t).fill(e):c(t)}(t,e,n)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))i+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)w(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==l[t]){o=c[t],s=l[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return k(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":case"latin1":case"binary":return A(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function P(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function M(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=J[t[r]];return i}function B(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function D(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function z(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Q((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){C(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){C(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Q((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Q((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Q((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Q((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const K={};function F(t,e,n){K[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function W(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new K.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||q(e,t.length-(n+1))}(r,i,o)}function V(t,e){if("number"!=typeof t)throw new K.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,n){if(Math.floor(t)!==t)throw V(t,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=j(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?tt:t}function tt(){throw new Error("BigInt not supported")}},3099:(t,e,n)=>{"use strict";var r=n(8395),i=n(2755),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},2755:(t,e,n)=>{"use strict";var r=n(3569),i=n(8395),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(r,s,arguments);c&&u&&(c(e,"length").configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))}));return e};var d=function(){return a(r,o,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d},5787:t=>{"use strict";const e=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,s=new RegExp("^"+o.source),a=new RegExp(o.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(t,i)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const o=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),u=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);if(1===t.length)return i.pascalCase?u(t):o(t);return t!==o(t)&&(t=((t,r,i)=>{let o=!1,s=!1,a=!1;for(let c=0;c<t.length;c++){const u=t[c];o&&e.test(u)?(t=t.slice(0,c)+"-"+t.slice(c),o=!1,a=s,s=!0,c++):s&&a&&n.test(u)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),a=s,s=!1,o=!0):(o=r(u)===u&&i(u)!==u,a=s,s=i(u)===u&&r(u)!==u)}return t})(t,o,u)),t=t.replace(s,""),t=i.preserveConsecutiveUppercase?((t,e)=>(r.lastIndex=0,t.replace(r,(t=>e(t)))))(t,o):o(t),i.pascalCase&&(t=u(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,c.lastIndex=0,t.replace(a,((t,n)=>e(n))).replace(c,(t=>e(t)))))(t,u)};t.exports=u,t.exports.default=u},9500:(t,e,n)=>{var r=n(3585),i=n(2943);function o(){return(new Date).getTime()}var s,a=Array.prototype.slice,c={};s=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(t){c[t]=o()},"time"],[function(t){var e=c[t];if(!e)throw new Error("No such label: "+t);delete c[t];var n=o()-e;s.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=r.format.apply(null,arguments),s.error(t.stack)},"trace"],[function(t){s.log(r.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=a.call(arguments,1);i.ok(!1,r.format.apply(null,e))}},"assert"]],l=0;l<u.length;l++){var d=u[l],h=d[0],f=d[1];s[f]||(s[f]=h)}t.exports=s},73:(t,e,n)=>{"use strict";var r=n(2051),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=n(229)(),u=a&&c,l=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())return;var i;u?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n},d=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)l(t,o[a],e[o[a]],n[o[a]])};d.supportsDescriptors=!!u,t.exports=d},858:t=>{"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(n[c]=i[c])}}return n}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},1312:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},2904:(t,e,n)=>{"use strict";var r=n(3655),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),"[object Array]"===i.call(t)?function(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s):"string"==typeof t?function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}(t,e,s):function(t,e,n){for(var r in t)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s)}},8640:t=>{"use strict";var e=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var i,o=e.call(arguments,1),s=Math.max(0,r.length-o.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var n=r.apply(this,o.concat(e.call(arguments)));return Object(n)===n?n:this}return r.apply(t,o.concat(e.call(arguments)))})),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}},3569:(t,e,n)=>{"use strict";var r=n(8640);t.exports=Function.prototype.bind||r},8395:(t,e,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,d=n(1143)(),h=Object.getPrototypeOf||function(t){return t.__proto__},f={},p="undefined"==typeof Uint8Array?r:h(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};try{null.error}catch(t){var m=h(h(t));y["%Error.prototype%"]=m}var g=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=h(i.prototype))}return y[e]=n,n},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(3569),v=n(8416),k=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),A=b.call(Function.call,String.prototype.replace),_=b.call(Function.call,String.prototype.slice),I=b.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,x=function(t,e){var n,r=t;if(v(w,r)&&(r="%"+(n=w[r])[0]+"%"),v(y,r)){var o=y[r];if(o===f&&(o=g(r)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=_(t,0,1),n=_(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return A(t,E,(function(t,e,n,i){r[r.length]=n?A(i,T,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",o=x("%"+r+"%",e),a=o.name,u=o.value,l=!1,d=o.alias;d&&(r=d[0],S(n,k([0,1],d)));for(var h=1,f=!0;h<n.length;h+=1){var p=n[h],m=_(p,0,1),g=_(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(l=!0),v(y,a="%"+(r+="."+p)+"%"))u=y[a];else if(null!=u){if(!(p in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&h+1>=n.length){var w=c(u,p);u=(f=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:u[p]}else f=v(u,p),u=u[p];f&&!l&&(y[a]=u)}}return u}},658:(t,e,n)=>{"use strict";var r=n(8395)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},229:(t,e,n)=>{"use strict";var r=n(8395)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},1143:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(9985);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},9985:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},3060:(t,e,n)=>{"use strict";var r=n(9985);t.exports=function(){return r()&&!!Symbol.toStringTag}},8416:(t,e,n)=>{"use strict";var r=n(3569);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},551:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+d],d+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+d],d+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+f]=255&s,f+=p,s/=256,u-=8);t[n+f-p]|=128*y}},2937:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2571:(t,e,n)=>{"use strict";var r=n(3060)(),i=n(3099)("Object.prototype.toString"),o=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},3655:t=>{"use strict";var e,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,e)}catch(t){t!==n&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(t){try{var e=r.call(t);return o.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(r.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(d=function(t){if((l||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(d(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==n)return!1}return!s(t)&&a(t)}:function(t){if(d(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(u)return a(t);if(s(t))return!1;var e=c.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},9141:(t,e,n)=>{"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=n(3060)(),c=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(o.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(t);if(!c)return!1;if(void 0===r){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();r=!!e&&c(e)}return c(t)===r}},2612:t=>{"use strict";t.exports=function(t){return t!=t}},5757:(t,e,n)=>{"use strict";var r=n(2755),i=n(73),o=n(2612),s=n(9774),a=n(6928),c=r(s(),Number);i(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},9774:(t,e,n)=>{"use strict";var r=n(2612);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},6928:(t,e,n)=>{"use strict";var r=n(73),i=n(9774);t.exports=function(){var t=i();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},5698:(t,e,n)=>{"use strict";var r=n(2904),i=n(6668),o=n(3099),s=o("Object.prototype.toString"),a=n(3060)(),c=n(658),u="undefined"==typeof globalThis?n.g:globalThis,l=i(),d=o("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},h=o("String.prototype.slice"),f={},p=Object.getPrototypeOf;a&&c&&p&&r(l,(function(t){var e=new u[t];if(Symbol.toStringTag in e){var n=p(e),r=c(n,Symbol.toStringTag);if(!r){var i=p(n);r=c(i,Symbol.toStringTag)}f[t]=r.get}}));t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a||!(Symbol.toStringTag in t)){var e=h(s(t),8,-1);return d(l,e)>-1}return!!c&&function(t){var e=!1;return r(f,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}},7167:(t,e,n)=>{"use strict";const r=n(5249).v4,i=n(391),o=function(t,e){if(!(this instanceof o))return new o(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return r()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=o,o.prototype.request=function(t,e,n,r){const o=this;let s=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)r=e,s=t;else{"function"==typeof n&&(r=n,n=void 0);const o="function"==typeof r;try{s=i(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(o)return r(t);throw t}if(!o)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(t){return r(t)}return this.callServer(c,(function(t,e){o._parseResponse(t,e,r)})),s},o.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(t){return n(t)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)}},391:(t,e,n)=>{"use strict";const r=n(5249).v4;t.exports=function(t,e,n,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(2===o&&(s.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(void 0===n){const t="function"==typeof i.generator?i.generator:function(){return r()};s.id=t(s,i)}else 2===o&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},9489:(module,exports,__webpack_require__)=>{var process=__webpack_require__(4224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,s=[],a=t.length,c=0;for(r=0;r<a;++r)(o=t.charCodeAt(r))<128?s[c++]=o:o<2048?(s[c++]=192|o>>6,s[c++]=128|63&o):o<55296||o>=57344?(s[c++]=224|o>>12,s[c++]=128|o>>6&63,s[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),s[c++]=240|o>>18,s[c++]=128|o>>12&63,s[c++]=128|o>>6&63,s[c++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],l=[];for(r=0;r<64;++r){var d=t[r]||0;u[r]=92^d,l[r]=54^d}Sha256.call(this,e,n),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(r=t.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,s,a,c,u=this.h0,l=this.h1,d=this.h2,h=this.h3,f=this.h4,p=this.h5,y=this.h6,m=this.h7,g=this.blocks;for(t=16;t<64;++t)e=((i=g[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=g[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,g[t]=g[t-16]+e+g[t-7]+n<<0;for(c=l&d,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,m=(i=g[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,m=(i=g[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&l)^u&d^c,m=h+(i=m+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&y)+K[t]+g[t])<<0,h=i+(e+r)<<0),e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&u)^h&l^o,y=d+(i=y+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&f^~m&p)+K[t+1]+g[t+1])<<0,e=((d=i+(e+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&h)^d&u^s,p=l+(i=p+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&m^~y&f)+K[t+2]+g[t+2])<<0,e=((l=i+(e+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(c=l&d)^l&h^a,f=u+(i=f+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&y^~p&m)+K[t+3]+g[t+3])<<0,u=i+(e+r)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+h<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+y<<0,this.h7=this.h7+m<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},5628:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},2373:(t,e,n)=>{"use strict";var r=n(73),i=n(2755),o=n(5628),s=n(8075),a=n(9322),c=i(s(),Object);r(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},8075:(t,e,n)=>{"use strict";var r=n(5628);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},9322:(t,e,n)=>{"use strict";var r=n(8075),i=n(73);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},9121:(t,e,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(999),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{d(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(a&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)h.push(String(y));if(r&&t.length>0)for(var m=0;m<t.length;++m)h.push(String(m));else for(var g in t)p&&"prototype"===g||!i.call(t,g)||h.push(String(g));if(c)for(var w=function(t){if("undefined"==typeof window||!f)return d(t);try{return d(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)w&&"constructor"===l[b]||!i.call(t,l[b])||h.push(l[b]);return h}}t.exports=r},2051:(t,e,n)=>{"use strict";var r=Array.prototype.slice,i=n(999),o=Object.keys,s=o?function(t){return o(t)}:n(9121),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},999:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},4224:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,c=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},8445:(t,e,n)=>{"use strict";var r=n(5872).Buffer,i=n(8772);e.Z=void 0;var o=i(n(6534)),s=i(n(9811)),a=i(n(7635)),c=i(n(1140)),u=i(n(3466)),l=i(n(8853)),d=i(n(1621)),h=i(n(4908)),f=n(1312);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,h.default)(t);if(e){var i=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},m=function(t){(0,l.default)(f,t);var e,n,i,d,h=p(f);function f(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,c.default)(this,f);var o=r.autoconnect,s=void 0===o||o,a=r.reconnect,u=void 0===a||a,l=r.reconnect_interval,d=void 0===l?1e3:l,p=r.max_reconnects,m=void 0===p?5:p,g=y(r,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=h.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=n,e.autoconnect=s,e.ready=!1,e.reconnect=u,e.reconnect_timer_id=void 0,e.reconnect_interval=d,e.max_reconnects=m,e.rest_options=g,e.current_reconnects=0,e.generate_request_id=i||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,u.default)(f,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,n,r){var i=this;return r||"object"!==(0,a.default)(n)||(r=n,n=null),new Promise((function(o,s){if(!i.ready)return s(new Error("socket not ready"));var a=i.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||null,id:a};i.socket.send(JSON.stringify(c),r,(function(t){if(t)return s(t);i.queue[a]={promise:[o,s]},n&&(i.queue[a].timeout=setTimeout((function(){delete i.queue[a],s(new Error("reply timeout"))}),n))}))}))}},{key:"login",value:(d=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(n=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"listMethods",value:(i=(0,s.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"notify",value:function(t,e){var n=this;return new Promise((function(r,i){if(!n.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:t,params:e||null};n.socket.send(JSON.stringify(o),(function(t){if(t)return i(t);r()}))}))}},{key:"subscribe",value:(n=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(n=t.sent,"string"!=typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"unsubscribe",value:(e=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(n=t.sent,"string"!=typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var n=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=r.from(e).toString());try{e=JSON.parse(e)}catch(t){return}if(e.notification&&n.listeners(e.notification).length){if(!Object.keys(e.params).length)return n.emit(e.notification);var i=[e.notification];if(e.params.constructor===Object)i.push(e.params);else for(var o=0;o<e.params.length;o++)i.push(e.params[o]);return Promise.resolve().then((function(){n.emit.apply(n,i)}))}if(!n.queue[e.id])return e.method&&e.params?Promise.resolve().then((function(){n.emit(e.method,e.params)})):void 0;"error"in e=="result"in e&&n.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[e.id].timeout&&clearTimeout(n.queue[e.id].timeout),e.error?n.queue[e.id].promise[1](e.error):n.queue[e.id].promise[0](e.result),delete n.queue[e.id]})),this.socket.addEventListener("error",(function(t){return n.emit("error",t)})),this.socket.addEventListener("close",(function(r){var i=r.code,o=r.reason;n.ready&&setTimeout((function(){return n.emit("close",i,o)}),0),n.ready=!1,n.socket=void 0,1e3!==i&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&(n.reconnect_timer_id=setTimeout((function(){return n._connect(t,e)}),n.reconnect_interval)))}))}}]),f}(f.EventEmitter);e.Z=m},7225:(t,e,n)=>{"use strict";var r=n(8772);e.Z=function(t,e){return new l(t,e)};var i=r(n(1140)),o=r(n(3466)),s=r(n(8853)),a=r(n(1621)),c=r(n(4908));function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,c.default)(t);if(e){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(t){(0,s.default)(n,t);var e=u(n);function n(t,r,o){var s;return(0,i.default)(this,n),(s=e.call(this)).socket=new window.WebSocket(t,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(t){return s.emit("message",t.data)},s.socket.onerror=function(t){return s.emit("error",t)},s.socket.onclose=function(t){s.emit("close",t.code,t.reason)},s}return(0,o.default)(n,[{key:"send",value:function(t,e,n){var r=n||e;try{this.socket.send(t),r()}catch(t){r(t)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,n){this.socket.addEventListener(t,e,n)}}]),n}(n(1312).EventEmitter)},1874:(t,e,n)=>{var r=n(5872),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},8752:(t,e)=>{"use strict";function n(t,e,n){return e<=t&&t<=n}function r(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}var i=-1;function o(t){this.tokens=[].slice.call(t)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():i},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var s=-1;function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}var c="utf-8";function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");e=r(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(t,e){if(!(this instanceof l))return new l(t,e);if((t=void 0!==t?String(t).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");e=r(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(t){var e=t.fatal,r=0,o=0,c=0,u=128,l=191;this.handler=function(t,d){if(d===i&&0!==c)return c=0,a(e);if(d===i)return s;if(0===c){if(n(d,0,127))return d;if(n(d,194,223))c=1,r=d-192;else if(n(d,224,239))224===d&&(u=160),237===d&&(l=159),c=2,r=d-224;else{if(!n(d,240,244))return a(e);240===d&&(u=144),244===d&&(l=143),c=3,r=d-240}return r<<=6*c,null}if(!n(d,u,l))return r=c=o=0,u=128,l=191,t.prepend(d),a(e);if(u=128,l=191,r+=d-128<<6*(c-(o+=1)),o!==c)return null;var h=r;return r=c=o=0,h}}function h(t){t.fatal;this.handler=function(t,e){if(e===i)return s;if(n(e,0,127))return e;var r,o;n(e,128,2047)?(r=1,o=192):n(e,2048,65535)?(r=2,o=224):n(e,65536,1114111)&&(r=3,o=240);for(var a=[(e>>6*r)+o];r>0;){var c=e>>6*(r-1);a.push(128|63&c),r-=1}return a}}u.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=r(e),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var i,a=new o(n),c=[];!a.endOfStream()&&(i=this._decoder.handler(a,a.read()))!==s;)null!==i&&(Array.isArray(i)?c.push.apply(c,i):c.push(i));if(!this._streaming){do{if((i=this._decoder.handler(a,a.read()))===s)break;null!==i&&(Array.isArray(i)?c.push.apply(c,i):c.push(i))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(c)}},l.prototype={encode:function(t,e){t=t?String(t):"",e=r(e),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(e.stream);for(var n,i=[],a=new o(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}(t));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?i.push.apply(i,n):i.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)}},e.TextEncoder=l,e.TextDecoder=u},7838:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarinadeConfig=void 0;const r=n(9812);e.MarinadeConfig=class{constructor(t={}){this.marinadeFinanceProgramId=new r.web3.PublicKey("MarBmsSgKXdrN1egZf5sqe1TMai9K1rChYNDJgjq7aD"),this.marinadeReferralProgramId=new r.web3.PublicKey("MR2LqxoSbw831bNy68utpu5n4YqBH3AzDmddkgk9LQv"),this.marinadeStateAddress=new r.web3.PublicKey("8szGkuLTAux9XMgZ2vtY39jVSowEcpBfFfD8hXSEqdGC"),this.marinadeReferralGlobalStateAddress=new r.web3.PublicKey("MRSh4rUNrpn7mjAq9ENHV4rvwwPKMij113ScZq3twp2"),this.stakeWithdrawAuthPDA=new r.web3.PublicKey("9eG63CdHjsfhHmobHgLtESGC8GabbmRcaSpHAZrtmhco"),this.lookupTableAddress=new r.web3.PublicKey("DCcQeBaCiYsEsjjmEsSYPCr9o4n174LKqXNDvQT5wVd8"),this.connection=new r.web3.Connection("https://api.devnet.solana.com"),this.publicKey=null,this.referralCode=null,Object.assign(this,t)}}},5285:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.StakePoolHelpers=e.web3=e.BN=e.Wallet=e.MarinadeUtils=e.MarinadeMint=e.MarinadeState=e.MarinadeReferralPartnerState=e.MarinadeBorsh=e.MarinadeConfig=e.Marinade=void 0;var a=n(8172);Object.defineProperty(e,"Marinade",{enumerable:!0,get:function(){return a.Marinade}}),o(n(1813),e);var c=n(7838);Object.defineProperty(e,"MarinadeConfig",{enumerable:!0,get:function(){return c.MarinadeConfig}}),e.MarinadeBorsh=s(n(8179));var u=n(3360);Object.defineProperty(e,"MarinadeReferralPartnerState",{enumerable:!0,get:function(){return u.MarinadeReferralPartnerState}});var l=n(1807);Object.defineProperty(e,"MarinadeState",{enumerable:!0,get:function(){return l.MarinadeState}});var d=n(7237);Object.defineProperty(e,"MarinadeMint",{enumerable:!0,get:function(){return d.MarinadeMint}}),e.MarinadeUtils=s(n(9420));var h=n(9812);Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return h.Wallet}}),Object.defineProperty(e,"BN",{enumerable:!0,get:function(){return h.BN}}),Object.defineProperty(e,"web3",{enumerable:!0,get:function(){return h.web3}}),e.StakePoolHelpers=s(n(572))},7237:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MarinadeMint=void 0;const i=n(9812),o=n(4970),s=n(7560);class a{constructor(t,e){this.anchorProvider=t,this.address=e,this.mintInfo=()=>(0,o.getMint)(this.anchorProvider.connection,this.address)}static build(t,e){return new a(t,e)}totalSupply(t){return r(this,void 0,void 0,(function*(){const e=null!=t?t:yield this.mintInfo();return(0,s.tokenBalanceToNumber)(new i.BN(e.supply.toString()),e.decimals)}))}tokenBalance(t){return r(this,void 0,void 0,(function*(){return this.totalSupply(t)}))}}e.MarinadeMint=a},1813:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.callRebalanceHint=e.getPrepareNativeUnstakeSOLIx=e.getRefNativeStakeAccountTx=e.getAuthNativeStakeAccountIx=e.getRefNativeStakeSOLTx=e.getAuthNativeStakeSOLIx=void 0;const o=n(9243),s=n(2221);e.getAuthNativeStakeSOLIx=function(t,e){return(new s.NativeStakingSDK).buildCreateAuthorizedStakeInstructions(t,e)},e.getRefNativeStakeSOLTx=function(t,e,n){return i(this,void 0,void 0,(function*(){const i=yield fetch(`https://native-staking-referral.marinade.finance/v1/tx/deposit-sol?amount=${e.toString()}&code=${n}&user=${t.toString()}`),s=yield i.json(),a=r.from(s.serializedTx,"base64");return o.VersionedTransaction.deserialize(a)}))},e.getAuthNativeStakeAccountIx=function(t,e){return(new s.NativeStakingSDK).buildAuthorizeInstructions(t,e)},e.getRefNativeStakeAccountTx=function(t,e,n){return i(this,void 0,void 0,(function*(){const i=yield fetch(`https://native-staking-referral.marinade.finance/v1/tx/deposit-stake-account?stake=${e.toString()}&code=${n}&user=${t.toString()}`),s=yield i.json(),a=r.from(s.serializedTx,"base64");return o.VersionedTransaction.deserialize(a)}))},e.getPrepareNativeUnstakeSOLIx=function(t,e){return i(this,void 0,void 0,(function*(){const n=new s.NativeStakingSDK;return yield n.initPrepareForRevoke(t,e)}))},e.callRebalanceHint=function(t){return i(this,void 0,void 0,(function*(){const e=new s.NativeStakingSDK;return yield e.callRebalanceHint(t)}))}},3973:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MarinadeReferralGlobalState=void 0;class r{constructor(t,e){this.state=t,this.marinadeReferralProgramId=e}static fetch(t){return n(this,void 0,void 0,(function*(){const{marinadeReferralProgram:e,config:n}=t,i=yield e.program.account.globalState.fetch(n.marinadeReferralGlobalStateAddress);return new r(i,n.marinadeReferralProgramId)}))}}e.MarinadeReferralGlobalState=r},3360:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MarinadeReferralPartnerState=void 0;class r{constructor(t,e,n){this.state=t,this.referralStateAddress=e,this.marinadeReferralProgramId=n}static fetch(t,e){return n(this,void 0,void 0,(function*(){const{marinadeReferralProgram:n,config:i}=t,o=null!=e?e:i.referralCode;if(!o)throw new Error("The Referral Code must be provided in the MarinadeConfigor supplied as an arg!");const s=yield n.program.account.referralState.fetch(o);return new r(s,o,i.marinadeReferralProgramId)}))}}e.MarinadeReferralPartnerState=r},8566:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commonBorshSchema=e.deserializeF64=e.deserializePublicKey=void 0;const r=n(9812);function i({publicKey:t}){return new r.web3.PublicKey(t)}function o({bytes:t}){const e=new ArrayBuffer(8),n=new DataView(e);return[...new Uint8Array(t)].forEach(((t,e)=>{n.setUint8(e,t)})),{value:new DataView(e).getFloat64(0,!0)}}e.deserializePublicKey=i,e.deserializeF64=o,e.commonBorshSchema=[[i,{kind:"struct",fields:[["publicKey",[32]]]}],[o,{kind:"struct",fields:[["bytes",[8]]]}]]},8179:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValidatorRecord=e.StakeState=e.Stake=e.Meta=e.Lockup=e.Delegation=e.Authorized=e.StakeRecord=e.StakeInfo=void 0;var r=n(21);Object.defineProperty(e,"StakeInfo",{enumerable:!0,get:function(){return r.StakeInfo}});var i=n(210);Object.defineProperty(e,"StakeRecord",{enumerable:!0,get:function(){return i.StakeRecord}});var o=n(1216);Object.defineProperty(e,"Authorized",{enumerable:!0,get:function(){return o.Authorized}}),Object.defineProperty(e,"Delegation",{enumerable:!0,get:function(){return o.Delegation}}),Object.defineProperty(e,"Lockup",{enumerable:!0,get:function(){return o.Lockup}}),Object.defineProperty(e,"Meta",{enumerable:!0,get:function(){return o.Meta}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return o.Stake}}),Object.defineProperty(e,"StakeState",{enumerable:!0,get:function(){return o.StakeState}});var s=n(8425);Object.defineProperty(e,"ValidatorRecord",{enumerable:!0,get:function(){return s.ValidatorRecord}})},21:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StakeInfo=void 0;e.StakeInfo=class{constructor(t){Object.assign(this,t)}}},210:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StakeRecord=void 0;e.StakeRecord=class{constructor(t){Object.assign(this,t)}}},1216:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STAKE_STATE_BORSH_SCHEMA=e.stakeStateBorshSchema=e.Delegation=e.Stake=e.Lockup=e.Authorized=e.Meta=e.StakeState=void 0;const r=n(8566);class i{constructor(t){Object.assign(this,t)}}e.StakeState=i,function(t){t.UninitializedState=class{constructor(t){Object.assign(this,t)}};t.InitializedState=class{constructor(t){Object.assign(this,t)}};t.StakeState=class{constructor(t){Object.assign(this,t)}};t.RewardsPoolState=class{constructor(t){Object.assign(this,t)}}}(i=e.StakeState||(e.StakeState={}));class o{constructor(t){Object.assign(this,t)}}e.Meta=o;class s{constructor(t){Object.assign(this,t)}}e.Authorized=s;class a{constructor(t){Object.assign(this,t)}}e.Lockup=a;class c{constructor(t){Object.assign(this,t)}}e.Stake=c;class u{constructor(t){Object.assign(this,t)}}e.Delegation=u,e.stakeStateBorshSchema=[[i.UninitializedState,{kind:"struct",fields:[]}],[i.InitializedState,{kind:"struct",fields:[["meta",o]]}],[i.StakeState,{kind:"struct",fields:[["meta",o],["stake",c]]}],[i.RewardsPoolState,{kind:"struct",fields:[]}],[o,{kind:"struct",fields:[["rentExemptReserve","u64"],["authorized",s],["lockup",a]]}],[s,{kind:"struct",fields:[["staker",r.deserializePublicKey],["withdrawer",r.deserializePublicKey]]}],[a,{kind:"struct",fields:[["unixTimestamp","u64"],["epoch","u64"],["custodian",r.deserializePublicKey]]}],[c,{kind:"struct",fields:[["delegation",u],["creditsObserved","u64"]]}],[u,{kind:"struct",fields:[["voterPubkey",r.deserializePublicKey],["stake","u64"],["activationEpoch","u64"],["deactivationEpoch","u64"],["warmupCooldownRate",r.deserializeF64]]}],[i,{kind:"enum",values:[["Uninitialized",i.UninitializedState],["Initialized",i.InitializedState],["Stake",i.StakeState],["RewardsPool",i.RewardsPoolState]]}]],e.STAKE_STATE_BORSH_SCHEMA=new Map([...r.commonBorshSchema,...e.stakeStateBorshSchema])},1694:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TicketAccount=e.TICKET_ACCOUNT_SIZE=void 0,e.TICKET_ACCOUNT_SIZE=88;e.TicketAccount=class{constructor(t){Object.assign(this,t)}}},8425:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValidatorRecord=void 0;e.ValidatorRecord=class{constructor(t){Object.assign(this,t)}}},1807:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MarinadeState=void 0;const c=n(9812),u=n(8797),l=n(7237),d=n(9420),h=s(n(3961)),f=n(1216),p=n(21);class y{constructor(t,e,n,r,i){this.marinade=t,this.anchorProvider=e,this.state=n,this.marinadeStateAddress=r,this.marinadeFinanceProgramId=i,this.reserveAddress=()=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("reserve")})),this.mSolPrice=this.state.msolPrice.toNumber()/4294967296,this.mSolMintAddress=this.state.msolMint,this.mSolMint=l.MarinadeMint.build(this.anchorProvider,this.mSolMintAddress),this.mSolMintAuthority=()=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("st_mint")})),this.mSolLegAuthority=()=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("liq_st_sol_authority")})),this.mSolLeg=this.state.liqPool.msolLeg,this.lpMintAddress=this.state.liqPool.lpMint,this.lpMint=l.MarinadeMint.build(this.anchorProvider,this.lpMintAddress),this.lpMintAuthority=()=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("liq_mint")})),this.solLeg=()=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("liq_sol")})),this.stakeDepositAuthority=()=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("deposit")})),this.stakeWithdrawAuthority=()=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("withdraw")})),this.validatorDuplicationFlag=t=>a(this,void 0,void 0,(function*(){return this.findProgramDerivedAddress("unique_validator",[t.toBuffer()])})),this.epochInfo=()=>a(this,void 0,void 0,(function*(){return this.anchorProvider.connection.getEpochInfo()})),this.treasuryMsolAccount=this.state.treasuryMsolAccount,this.rewardsCommissionPercent=this.state.rewardFee.basisPoints/100,this.maxStakeMovedPerEpoch=this.state.maxStakeMovedPerEpoch.basisPoints/100}static fetch(t){return a(this,void 0,void 0,(function*(){const{marinadeFinanceProgram:e,config:n}=t,r=yield e.program.account.state.fetch(n.marinadeStateAddress);return new y(t,t.provider,r,n.marinadeStateAddress,n.marinadeFinanceProgramId)}))}findProgramDerivedAddress(t,e=[]){return a(this,void 0,void 0,(function*(){const n=[this.marinade.config.marinadeStateAddress.toBuffer(),r.from(t),...e],[i]=yield c.web3.PublicKey.findProgramAddress(n,this.marinade.config.marinadeFinanceProgramId);return i}))}unstakeNowFeeBp(t){return a(this,void 0,void 0,(function*(){const e=yield this.solLeg(),n=yield this.anchorProvider.connection.getBalance(e),r=new c.BN(n).sub(this.state.rentExemptForTokenAcc);return h.unstakeNowFeeBp(this.state.liqPool.lpMinFee.basisPoints,this.state.liqPool.lpMaxFee.basisPoints,this.state.liqPool.lpLiquidityTarget,r,t)}))}stakeDelta(){const t=this.state.availableReserveBalance.sub(this.state.rentExemptForTokenAcc).add(this.state.stakeSystem.delayedUnstakeCoolingDown).sub(this.state.circulatingTicketBalance);if(!t.isNeg()||t.isZero())return t;{const e=t.add(this.state.emergencyCoolingDown);return e.isNeg()?e:new c.BN(0)}}getValidatorRecords(){return a(this,void 0,void 0,(function*(){const{validatorList:t}=this.state.validatorSystem,e=yield this.anchorProvider.connection.getAccountInfo(t.account);if(!e)throw new Error("Failed to fetch validators' details!");return{validatorRecords:Array.from({length:t.count},((n,r)=>this.marinade.marinadeFinanceProgram.program.coder.types.decode("ValidatorRecord",e.data.subarray(...(e=>(0,d.bounds)(e,t.itemSize,8))(r))))),capacity:(e.data.length-8)/t.itemSize}}))}getStakeRecords(){return a(this,void 0,void 0,(function*(){const{stakeList:t}=this.state.stakeSystem,e=yield this.anchorProvider.connection.getAccountInfo(t.account);if(!e)throw new Error("Failed to fetch stakes' details!");return{stakeRecords:Array.from({length:t.count},((n,r)=>this.marinade.marinadeFinanceProgram.program.coder.types.decode("StakeRecord",e.data.subarray(...(e=>(0,d.bounds)(e,t.itemSize,8))(r))))),capacity:(e.data.length-8)/t.itemSize}}))}getStakeStates(){return a(this,void 0,void 0,(function*(){return(yield this.anchorProvider.connection.getProgramAccounts(d.STAKE_PROGRAM_ID,{filters:[{dataSize:200},{memcmp:{offset:44,bytes:this.marinade.config.stakeWithdrawAuthPDA.toString()}}]})).map((t=>{const{data:e}=t.account;return this.deserializeStakeState(e)}))}))}deserializeStakeState(t){const e=r.concat([t.subarray(0,1),t.subarray(4,t.length)]);return(0,u.deserializeUnchecked)(f.STAKE_STATE_BORSH_SCHEMA,f.StakeState,e)}getStakeInfos(){return a(this,void 0,void 0,(function*(){const{stakeRecords:t,capacity:e}=yield this.getStakeRecords(),n=new Array,r=t.length;let i=0;for(;i<r;){const e=yield this.anchorProvider.connection.getMultipleAccountsInfo(t.slice(i,i+100).map((t=>t.stakeAccount)));n.push(...e.map(((e,n)=>new p.StakeInfo({index:i+n,record:t[i+n],stake:this.deserializeStakeState(null==e?void 0:e.data),balance:new c.BN(e.lamports)})))),i+=100}return{stakeInfos:n,capacity:e}}))}}e.MarinadeState=y},8172:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Marinade=void 0;const o=n(7838),s=n(9812),a=n(1807),c=n(9755),u=n(1741),l=n(4540),d=n(3360),h=n(3973),f=n(2354),p=n(1694),y=n(9420),m=n(4916),g=i(n(9864)),w=n(9397),b=n(572),v=n(9243);e.Marinade=class{constructor(t=new o.MarinadeConfig){var e;this.config=t,this.provider=new s.AnchorProvider(this.config.connection,new g.default(s.web3.Keypair.generate()),{commitment:"confirmed"}),this.directedStakeSdk=new m.DirectedStakeSdk({connection:this.config.connection,wallet:{signTransaction:()=>r(this,void 0,void 0,(function*(){return new Promise((()=>new s.web3.Transaction))})),signAllTransactions:()=>r(this,void 0,void 0,(function*(){return new Promise((()=>[new s.web3.Transaction]))})),publicKey:null!==(e=this.config.publicKey)&&void 0!==e?e:s.web3.PublicKey.default}}),this.marinadeFinanceProgram=new u.MarinadeFinanceProgram(this.config.marinadeFinanceProgramId,this.provider),this.marinadeReferralProgram=new l.MarinadeReferralProgram(this.config.marinadeReferralProgramId,this.provider,this.config.referralCode,this)}isReferralProgram(){return null!==this.config.referralCode}provideReferralOrMainProgram(){return this.isReferralProgram()?this.marinadeReferralProgram:this.marinadeFinanceProgram}getMarinadeState(){return r(this,void 0,void 0,(function*(){return a.MarinadeState.fetch(this)}))}getReferralPartnerState(t){return r(this,void 0,void 0,(function*(){return d.MarinadeReferralPartnerState.fetch(this,t)}))}getReferralGlobalState(){return r(this,void 0,void 0,(function*(){return h.MarinadeReferralGlobalState.fetch(this)}))}getReferralPartners(){return r(this,void 0,void 0,(function*(){const t=(yield this.config.connection.getProgramAccounts(new s.web3.PublicKey(this.config.marinadeReferralProgramId),{filters:[{dataSize:this.marinadeReferralProgram.program.account.referralState.size+20+96}]})).map((t=>t.pubkey));return yield Promise.all(t.map((t=>this.getReferralPartnerState(t))))}))}getUsersVoteRecord(t){return r(this,void 0,void 0,(function*(){const e=(0,m.voteRecordAddress)({root:new s.web3.PublicKey(m.DEFAULT_DIRECTED_STAKE_ROOT),owner:t}).address,n=yield(0,m.findVoteRecords)({sdk:this.directedStakeSdk,owner:t});return{voteRecord:1===n.length?n[0]:void 0,address:e}}))}addLiquidity(t){return r(this,void 0,void 0,(function*(){const e=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),n=yield this.getMarinadeState(),r=new s.web3.Transaction,{associatedTokenAccountAddress:i,createAssociateTokenInstruction:o}=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,n.lpMintAddress,e);o&&r.add(o);const a=yield this.marinadeFinanceProgram.addLiquidityInstructionBuilder({marinadeState:n,associatedLPTokenAccountAddress:i,ownerAddress:e,amountLamports:t});return r.add(a),{associatedLPTokenAccountAddress:i,transaction:r}}))}removeLiquidity(t){return r(this,void 0,void 0,(function*(){const e=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),n=yield this.getMarinadeState(),r=new s.web3.Transaction,i=yield(0,c.getAssociatedTokenAccountAddress)(n.lpMintAddress,e),{associatedTokenAccountAddress:o,createAssociateTokenInstruction:a}=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,n.mSolMintAddress,e);a&&r.add(a);const u=yield this.marinadeFinanceProgram.removeLiquidityInstructionBuilder({amountLamports:t,marinadeState:n,ownerAddress:e,associatedLPTokenAccountAddress:i,associatedMSolTokenAccountAddress:o});return r.add(u),{associatedLPTokenAccountAddress:i,associatedMSolTokenAccountAddress:o,transaction:r}}))}createDirectedStakeVoteIx(t){return r(this,void 0,void 0,(function*(){const e=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),{voteRecord:n}=yield this.getUsersVoteRecord(e);return n?t?(yield(0,m.withUpdateVote)({sdk:this.directedStakeSdk,validatorVote:t,voteRecord:n.publicKey})).instruction:(yield(0,m.withRemoveVote)({sdk:this.directedStakeSdk,voteRecord:n.publicKey})).instruction:t?(yield(0,m.withCreateVote)({sdk:this.directedStakeSdk,validatorVote:t})).instruction:void 0}))}deposit(t,e={}){var n;return r(this,void 0,void 0,(function*(){const r=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),i=(0,f.assertNotNullAndReturn)(null!==(n=e.mintToOwnerAddress)&&void 0!==n?n:this.config.publicKey,"User's public key must be provided in the configuration!"),o=yield this.getMarinadeState(),a=new s.web3.Transaction,{associatedTokenAccountAddress:u,createAssociateTokenInstruction:l}=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,o.mSolMintAddress,i,r);l&&a.add(l);const d=this.provideReferralOrMainProgram(),h=yield d.depositInstructionBuilder({amountLamports:t,marinadeState:o,transferFrom:r,associatedMSolTokenAccountAddress:u});a.add(h);const p=yield this.createDirectedStakeVoteIx(e.directToValidatorVoteAddress);return p&&a.add(p),{associatedMSolTokenAccountAddress:u,transaction:a}}))}liquidUnstake(t,e){return r(this,void 0,void 0,(function*(){const n=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),r=yield this.getMarinadeState(),i=new s.web3.Transaction;if(!e){const t=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,r.mSolMintAddress,n),o=t.createAssociateTokenInstruction;e=t.associatedTokenAccountAddress,o&&i.add(o)}const o=this.provideReferralOrMainProgram(),a=yield o.liquidUnstakeInstructionBuilder({amountLamports:t,marinadeState:r,ownerAddress:n,associatedMSolTokenAccountAddress:e});return i.add(a),{associatedMSolTokenAccountAddress:e,transaction:i}}))}depositStakeAccount(t,e={}){return r(this,void 0,void 0,(function*(){const n=yield(0,c.getParsedStakeAccountInfo)(this.provider,t),r=yield this.getMarinadeState(),i=yield this.provider.connection.getMinimumBalanceForRentExemption(s.web3.StakeProgram.space);return this.depositStakeAccountByAccount(n,i,r,e)}))}depositDeactivatingStakeAccount(t,e={}){return r(this,void 0,void 0,(function*(){const n=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),r=yield(0,c.getParsedStakeAccountInfo)(this.provider,t);if(!r.voterAddress)throw new Error("Stake account's votes could not be fetched/parsed.");const i=yield this.getMarinadeState(),o=v.StakeProgram.delegate({stakePubkey:t,authorizedPubkey:n,votePubkey:r.voterAddress}),{associatedTokenAccountAddress:s,createAssociateTokenInstruction:a}=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,i.mSolMintAddress,n);a&&o.instructions.push(a);const u=yield i.validatorDuplicationFlag(r.voterAddress),{validatorRecords:l}=yield i.getValidatorRecords(),d=l.findIndex((({validatorAccount:t})=>t.equals(r.voterAddress))),h=-1===d?i.state.validatorSystem.validatorList.count:d,p=yield this.provideReferralOrMainProgram().depositStakeAccountInstructionBuilder({validatorIndex:h,marinadeState:i,duplicationFlag:u,ownerAddress:n,stakeAccountAddress:t,authorizedWithdrawerAddress:n,associatedMSolTokenAccountAddress:s});o.instructions.push(p);const y=yield this.createDirectedStakeVoteIx(e.directToValidatorVoteAddress);return y&&o.add(y),{transaction:o,associatedMSolTokenAccountAddress:s}}))}depositStakeAccountByAccount(t,e,n,i={}){return r(this,void 0,void 0,(function*(){const r=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),o=new s.web3.Transaction,a=yield this.provider.connection.getEpochInfo(),{authorizedWithdrawerAddress:u,voterAddress:l,activationEpoch:d,isCoolingDown:h,isLockedUp:p,stakedLamports:y,balanceLamports:m}=t;if(!u)throw new Error("Withdrawer address is not available!");if(p)throw new Error("The stake account is locked up!");if(!d||!l)throw new Error("The stake account is not delegated!");if(h&&o.add(s.web3.StakeProgram.delegate({stakePubkey:t.address,authorizedPubkey:r,votePubkey:l})),y&&(null==m?void 0:m.gt(y))){const n=m.sub(y).toNumber()-e;n>0&&o.add(s.web3.StakeProgram.withdraw({stakePubkey:t.address,authorizedPubkey:r,toPubkey:r,lamports:n}))}const g=d.addn(2);if(g.gtn(a.epoch))throw new Error(`Deposited stake ${t.address} is not activated yet. Wait for #${g} epoch`);const{validatorRecords:w}=yield n.getValidatorRecords(),b=w.findIndex((({validatorAccount:t})=>t.equals(l))),v=-1===b?n.state.validatorSystem.validatorList.count:b,k=yield n.validatorDuplicationFlag(l),{associatedTokenAccountAddress:S,createAssociateTokenInstruction:A}=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,n.mSolMintAddress,r);A&&o.add(A);const _=this.provideReferralOrMainProgram(),I=yield _.depositStakeAccountInstructionBuilder({validatorIndex:v,marinadeState:n,duplicationFlag:k,authorizedWithdrawerAddress:u,associatedMSolTokenAccountAddress:S,ownerAddress:r,stakeAccountAddress:t.address});o.add(I);const E=yield this.createDirectedStakeVoteIx(i.directToValidatorVoteAddress);return E&&o.add(E),{associatedMSolTokenAccountAddress:S,voterAddress:l,transaction:o,mintRatio:n.mSolPrice}}))}partiallyDepositStakeAccount(t,e,n={}){var i;return r(this,void 0,void 0,(function*(){const r=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),o=yield(0,c.getParsedStakeAccountInfo)(this.provider,t);if(o.balanceLamports&&(null===(i=o.balanceLamports)||void 0===i?void 0:i.sub(e).toNumber())<1)throw new Error("Can't deposit less than 1 SOL");const a=yield this.provider.connection.getMinimumBalanceForRentExemption(s.web3.StakeProgram.space),u=yield this.getMarinadeState(),l=v.Keypair.generate(),d=v.StakeProgram.split({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:l.publicKey,lamports:e.toNumber()}),{transaction:h,associatedMSolTokenAccountAddress:p,voterAddress:y}=yield this.depositStakeAccountByAccount(o,a,u,n);return d.instructions.push(...h.instructions),{transaction:d,associatedMSolTokenAccountAddress:p,stakeAccountKeypair:l,voterAddress:y}}))}depositActivatingStakeAccount(t,e,n={}){return r(this,void 0,void 0,(function*(){const r=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),i=yield(0,c.getParsedStakeAccountInfo)(this.provider,t);if(!i.stakedLamports)throw new Error(`Stake account ${i.address} does not have staked lamports`);const o=yield this.provider.connection.getMinimumBalanceForRentExemption(s.web3.StakeProgram.space),a=i.stakedLamports.sub(e).add(new s.BN(o)),u=v.Keypair.generate(),l=new v.Transaction;if(e.gt(new s.BN(0))){const n=v.StakeProgram.split({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:u.publicKey,lamports:e.toNumber()});l.add(...n.instructions)}const d=v.StakeProgram.deactivate({stakePubkey:t,authorizedPubkey:r});l.add(...d.instructions);const h=v.StakeProgram.withdraw({stakePubkey:t,authorizedPubkey:r,toPubkey:r,lamports:a.toNumber()});l.add(...h.instructions);const{transaction:p,associatedMSolTokenAccountAddress:y}=yield this.deposit(a,{directToValidatorVoteAddress:n.directToValidatorVoteAddress});return l.instructions.push(...p.instructions),{transaction:l,associatedMSolTokenAccountAddress:y,stakeAccountKeypair:e.gt(new s.BN(0))?u:void 0}}))}liquidateStakeAccount(t,e){var n;return r(this,void 0,void 0,(function*(){const r=yield(0,c.getParsedStakeAccountInfo)(this.provider,t),i=yield this.provider.connection.getMinimumBalanceForRentExemption(s.web3.StakeProgram.space),o=yield this.getMarinadeState(),{transaction:a,associatedMSolTokenAccountAddress:u,voterAddress:l}=yield this.depositStakeAccountByAccount(r,i,o);let d=(0,y.computeMsolAmount)(null!==(n=r.stakedLamports)&&void 0!==n?n:new s.BN(0),o);if(this.isReferralProgram()){const t=(yield this.marinadeReferralProgram.getReferralStateData()).operationDepositStakeAccountFee;d=d.sub((0,y.proportionalBN)(d,new s.BN(t),new s.BN(1e4)))}const h=d.sub(null!=e?e:new s.BN(0)),{transaction:f}=yield this.liquidUnstake(h,u);return{transaction:a.add(f),associatedMSolTokenAccountAddress:u,voterAddress:l}}))}partiallyLiquidateStakeAccount(t,e){var n;return r(this,void 0,void 0,(function*(){const r=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),i=yield(0,c.getParsedStakeAccountInfo)(this.provider,t),o=yield this.provider.connection.getMinimumBalanceForRentExemption(s.web3.StakeProgram.space),a=null===(n=i.stakedLamports)||void 0===n?void 0:n.sub(e);if(!a||a.toNumber()<1)throw new Error("Can't liquidate less than 1 SOL");const u=yield this.getMarinadeState(),l=v.Keypair.generate(),d=v.StakeProgram.split({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:l.publicKey,lamports:e.toNumber()}),{transaction:h,associatedMSolTokenAccountAddress:p,voterAddress:m}=yield this.depositStakeAccountByAccount(i,o,u);h.instructions.unshift(...d.instructions);let g=(0,y.computeMsolAmount)(a,u);if(this.isReferralProgram()){const t=(yield this.marinadeReferralProgram.getReferralStateData()).operationDepositStakeAccountFee;g=g.sub((0,y.proportionalBN)(g,new s.BN(t),new s.BN(1e4)))}const{transaction:w}=yield this.liquidUnstake(g,p);return{transaction:h.add(w),associatedMSolTokenAccountAddress:p,stakeAccountKeypair:l,voterAddress:m}}))}getDelayedUnstakeTickets(t){return r(this,void 0,void 0,(function*(){return this.marinadeFinanceProgram.getDelayedUnstakeTickets(t)}))}getEstimatedUnstakeTicketDueDate(){return r(this,void 0,void 0,(function*(){const t=yield this.getMarinadeState();return this.marinadeFinanceProgram.getEstimatedUnstakeTicketDueDate(t)}))}orderUnstake(t){return r(this,void 0,void 0,(function*(){const e=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),n=yield this.getMarinadeState(),r=yield(0,c.getAssociatedTokenAccountAddress)(n.mSolMintAddress,e),i=s.web3.Keypair.generate(),o=yield this.provider.connection.getMinimumBalanceForRentExemption(p.TICKET_ACCOUNT_SIZE),a=s.web3.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:i.publicKey,lamports:o,space:p.TICKET_ACCOUNT_SIZE,programId:this.marinadeFinanceProgram.programAddress}),u=this.marinadeFinanceProgram,l=yield u.orderUnstakeInstructionBuilder({msolAmount:t,marinadeState:n,ownerAddress:e,associatedMSolTokenAccountAddress:r,newTicketAccount:i.publicKey});return{ticketAccountKeypair:i,transaction:(new s.web3.Transaction).add(a,l),associatedMSolTokenAccountAddress:r}}))}claim(t){return r(this,void 0,void 0,(function*(){const e=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),n=yield this.getMarinadeState(),r=this.marinadeFinanceProgram,i=yield r.claimInstructionBuilder({marinadeState:n,ticketAccount:t,transferSolTo:e});return{transaction:(new s.web3.Transaction).add(i)}}))}depositStakePoolToken(t,e,n,i={}){return r(this,void 0,void 0,(function*(){const r=yield this.getMarinadeState(),o=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),a=(yield this.config.connection.getAddressLookupTable(this.config.lookupTableAddress)).value;if(!a)throw new Error("Failed to load the lookup table");if((yield(0,b.computeExpectedSOL)(e,this.config.connection,t))/v.LAMPORTS_PER_SOL<1)throw new Error("Can't convert less than equivalent of 1 SOL");const u=[],l=new Set(n.filter((t=>t.score)).map((t=>t.vote_account))),d=yield(0,w.withdrawStake)(this.provider.connection,t,o,e,void 0,void 0,void 0,void 0,((t,e)=>(0,b.selectSpecificValidator)(t,e,l)));u.push(...d.instructions);const{associatedTokenAccountAddress:h,createAssociateTokenInstruction:p}=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,r.mSolMintAddress,o);p&&u.push(p);const{duplicationFlag:y,validatorIndex:m}=yield(0,b.identifyValidatorFromTx)(d.instructions,this.provider,r),g=yield this.provideReferralOrMainProgram().depositStakeAccountInstructionBuilder({validatorIndex:m,marinadeState:r,duplicationFlag:y,ownerAddress:o,stakeAccountAddress:d.signers[1].publicKey,authorizedWithdrawerAddress:o,associatedMSolTokenAccountAddress:h});u.push(g);const k=yield this.createDirectedStakeVoteIx(i.directToValidatorVoteAddress);k&&u.push(k);const{blockhash:S}=yield this.config.connection.getLatestBlockhash("finalized"),A=new s.web3.TransactionMessage({payerKey:o,recentBlockhash:S,instructions:u}).compileToV0Message([a]),_=new s.web3.VersionedTransaction(A);return _.sign(d.signers),{associatedMSolTokenAccountAddress:h,transaction:_}}))}liquidateStakePoolToken(t,e,n){return r(this,void 0,void 0,(function*(){const r=yield this.getMarinadeState(),i=(0,f.assertNotNullAndReturn)(this.config.publicKey,"User's public key must be provided in the configuration!"),o=(yield this.config.connection.getAddressLookupTable(this.config.lookupTableAddress)).value;if(!o)throw new Error("Failed to load the lookup table");const a=[],u=new Set(n.filter((t=>t.score)).map((t=>t.vote_account))),l=yield(0,w.withdrawStake)(this.provider.connection,t,i,e,void 0,void 0,void 0,void 0,((t,e)=>(0,b.selectSpecificValidator)(t,e,u))),d=yield(0,b.computeExpectedSOL)(e,this.config.connection,t);if(d/v.LAMPORTS_PER_SOL<1)throw new Error("Can't convert less than equivalent of 1 SOL");let h=(0,y.computeMsolAmount)(new s.BN(d),r);if(this.isReferralProgram()){const t=(yield this.marinadeReferralProgram.getReferralStateData()).operationDepositStakeAccountFee;h=h.sub((0,y.proportionalBN)(h,new s.BN(t),new s.BN(1e4)))}a.push(...l.instructions);const{associatedTokenAccountAddress:p,createAssociateTokenInstruction:m}=yield(0,c.getOrCreateAssociatedTokenAccount)(this.provider,r.mSolMintAddress,i);m&&a.push(m);const{duplicationFlag:g,validatorIndex:k}=yield(0,b.identifyValidatorFromTx)(l.instructions,this.provider,r),S=yield this.provideReferralOrMainProgram().depositStakeAccountInstructionBuilder({validatorIndex:k,marinadeState:r,duplicationFlag:g,ownerAddress:i,stakeAccountAddress:l.signers[1].publicKey,authorizedWithdrawerAddress:i,associatedMSolTokenAccountAddress:p}),A=yield this.marinadeFinanceProgram.liquidUnstakeInstructionBuilder({amountLamports:h,marinadeState:r,ownerAddress:i,associatedMSolTokenAccountAddress:p});a.push(S),a.push(A);const{blockhash:_}=yield this.config.connection.getLatestBlockhash("finalized"),I=new s.web3.TransactionMessage({payerKey:i,recentBlockhash:_,instructions:a}).compileToV0Message([o]),E=new s.web3.VersionedTransaction(I);return E.sign(l.signers),{associatedMSolTokenAccountAddress:p,transaction:E}}))}}},2169:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDL=void 0,e.IDL={version:"0.1.0",name:"marinade_finance",instructions:[{name:"initialize",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!1,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!1,isSigner:!1},{name:"operationalSolAccount",isMut:!1,isSigner:!1},{name:"liqPool",accounts:[{name:"lpMint",isMut:!1,isSigner:!1},{name:"solLegPda",isMut:!1,isSigner:!1},{name:"msolLeg",isMut:!1,isSigner:!1}]},{name:"treasuryMsolAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"data",type:{defined:"InitializeData"}}]},{name:"changeAuthority",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0}],args:[{name:"data",type:{defined:"ChangeAuthorityData"}}]},{name:"addValidator",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"validatorVote",isMut:!1,isSigner:!1},{name:"duplicationFlag",isMut:!0,isSigner:!1,docs:["by initializing this account we mark the validator as added"]},{name:"rentPayer",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"score",type:"u32"}]},{name:"removeValidator",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"duplicationFlag",isMut:!0,isSigner:!1},{name:"operationalSolAccount",isMut:!0,isSigner:!1}],args:[{name:"index",type:"u32"},{name:"validatorVote",type:"publicKey"}]},{name:"setValidatorScore",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1}],args:[{name:"index",type:"u32"},{name:"validatorVote",type:"publicKey"},{name:"score",type:"u32"}]},{name:"configValidatorSystem",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0}],args:[{name:"extraRuns",type:"u32"}]},{name:"deposit",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"liqPoolMsolLegAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"transferFrom",isMut:!0,isSigner:!0},{name:"mintTo",isMut:!0,isSigner:!1,docs:["user mSOL Token account to send the mSOL"]},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"depositStakeAccount",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeAuthority",isMut:!1,isSigner:!0},{name:"duplicationFlag",isMut:!0,isSigner:!1},{name:"rentPayer",isMut:!0,isSigner:!0},{name:"msolMint",isMut:!0,isSigner:!1},{name:"mintTo",isMut:!0,isSigner:!1,docs:["user mSOL Token account to send the mSOL"]},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"validatorIndex",type:"u32"}]},{name:"liquidUnstake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"getMsolFrom",isMut:!0,isSigner:!1},{name:"getMsolFromAuthority",isMut:!1,isSigner:!0},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"msolAmount",type:"u64"}]},{name:"addLiquidity",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"lpMintAuthority",isMut:!1,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!1,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"transferFrom",isMut:!0,isSigner:!0},{name:"mintTo",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"removeLiquidity",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"burnFrom",isMut:!0,isSigner:!1},{name:"burnFromAuthority",isMut:!1,isSigner:!0},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"transferMsolTo",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"liqPoolMsolLegAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"tokens",type:"u64"}]},{name:"configLp",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0}],args:[{name:"params",type:{defined:"ConfigLpParams"}}]},{name:"configMarinade",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0}],args:[{name:"params",type:{defined:"ConfigMarinadeParams"}}]},{name:"orderUnstake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"burnMsolFrom",isMut:!0,isSigner:!1},{name:"burnMsolAuthority",isMut:!1,isSigner:!0},{name:"newTicketAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"msolAmount",type:"u64"}]},{name:"claim",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"ticketAccount",isMut:!0,isSigner:!1},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stakeReserve",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"validatorVote",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!0},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"rentPayer",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"epochSchedule",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"validatorIndex",type:"u32"}]},{name:"updateActive",accounts:[{name:"common",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeWithdrawAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}]},{name:"validatorList",isMut:!0,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]},{name:"updateDeactivated",accounts:[{name:"common",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeWithdrawAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}]},{name:"operationalSolAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"}]},{name:"deactivateStake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!1,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"splitStakeAccount",isMut:!0,isSigner:!0},{name:"splitStakeRentPayer",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"epochSchedule",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]},{name:"emergencyUnstake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorManagerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]},{name:"partialUnstake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorManagerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!1,isSigner:!1},{name:"splitStakeAccount",isMut:!0,isSigner:!0},{name:"splitStakeRentPayer",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"},{name:"desiredUnstakeAmount",type:"u64"}]},{name:"mergeStakes",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"destinationStake",isMut:!0,isSigner:!1},{name:"sourceStake",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"stakeWithdrawAuthority",isMut:!1,isSigner:!1},{name:"operationalSolAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"destinationStakeIndex",type:"u32"},{name:"sourceStakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]},{name:"redelegate",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!1,isSigner:!1},{name:"splitStakeAccount",isMut:!0,isSigner:!0},{name:"splitStakeRentPayer",isMut:!0,isSigner:!0},{name:"destValidatorAccount",isMut:!1,isSigner:!1},{name:"redelegateStakeAccount",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"sourceValidatorIndex",type:"u32"},{name:"destValidatorIndex",type:"u32"}]},{name:"pause",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"pauseAuthority",isMut:!1,isSigner:!0}],args:[]},{name:"resume",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"pauseAuthority",isMut:!1,isSigner:!0}],args:[]},{name:"withdrawStakeAccount",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"burnMsolFrom",isMut:!0,isSigner:!1},{name:"burnMsolAuthority",isMut:!0,isSigner:!0},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeWithdrawAuthority",isMut:!1,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"splitStakeAccount",isMut:!0,isSigner:!0},{name:"splitStakeRentPayer",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"},{name:"msolAmount",type:"u64"},{name:"beneficiary",type:"publicKey"}]},{name:"reallocValidatorList",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"rentFunds",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"capacity",type:"u32"}]},{name:"reallocStakeList",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0},{name:"stakeList",isMut:!0,isSigner:!1},{name:"rentFunds",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"capacity",type:"u32"}]}],accounts:[{name:"ticketAccountData",type:{kind:"struct",fields:[{name:"stateAddress",type:"publicKey"},{name:"beneficiary",type:"publicKey"},{name:"lamportsAmount",type:"u64"},{name:"createdEpoch",type:"u64"}]}},{name:"state",type:{kind:"struct",fields:[{name:"msolMint",type:"publicKey"},{name:"adminAuthority",type:"publicKey"},{name:"operationalSolAccount",type:"publicKey"},{name:"treasuryMsolAccount",type:"publicKey"},{name:"reserveBumpSeed",type:"u8"},{name:"msolMintAuthorityBumpSeed",type:"u8"},{name:"rentExemptForTokenAcc",type:"u64"},{name:"rewardFee",type:{defined:"Fee"}},{name:"stakeSystem",type:{defined:"StakeSystem"}},{name:"validatorSystem",type:{defined:"ValidatorSystem"}},{name:"liqPool",type:{defined:"LiqPool"}},{name:"availableReserveBalance",type:"u64"},{name:"msolSupply",type:"u64"},{name:"msolPrice",type:"u64"},{name:"circulatingTicketCount",docs:["count tickets for delayed-unstake"],type:"u64"},{name:"circulatingTicketBalance",docs:["total lamports amount of generated and not claimed yet tickets"],type:"u64"},{name:"lentFromReserve",type:"u64"},{name:"minDeposit",type:"u64"},{name:"minWithdraw",type:"u64"},{name:"stakingSolCap",type:"u64"},{name:"emergencyCoolingDown",type:"u64"},{name:"pauseAuthority",docs:["emergency pause"],type:"publicKey"},{name:"paused",type:"bool"},{name:"delayedUnstakeFee",type:{defined:"FeeCents"}},{name:"withdrawStakeAccountFee",type:{defined:"FeeCents"}},{name:"withdrawStakeAccountEnabled",type:"bool"},{name:"lastStakeMoveEpoch",type:"u64"},{name:"stakeMoved",type:"u64"},{name:"maxStakeMovedPerEpoch",type:{defined:"Fee"}}]}}],types:[{name:"SplitStakeAccountInfo",type:{kind:"struct",fields:[{name:"account",type:"publicKey"},{name:"index",type:"u32"}]}},{name:"U64ValueChange",type:{kind:"struct",fields:[{name:"old",type:"u64"},{name:"new",type:"u64"}]}},{name:"U32ValueChange",type:{kind:"struct",fields:[{name:"old",type:"u32"},{name:"new",type:"u32"}]}},{name:"FeeValueChange",type:{kind:"struct",fields:[{name:"old",type:{defined:"Fee"}},{name:"new",type:{defined:"Fee"}}]}},{name:"FeeCentsValueChange",type:{kind:"struct",fields:[{name:"old",type:{defined:"FeeCents"}},{name:"new",type:{defined:"FeeCents"}}]}},{name:"PubkeyValueChange",type:{kind:"struct",fields:[{name:"old",type:"publicKey"},{name:"new",type:"publicKey"}]}},{name:"BoolValueChange",type:{kind:"struct",fields:[{name:"old",type:"bool"},{name:"new",type:"bool"}]}},{name:"ChangeAuthorityData",type:{kind:"struct",fields:[{name:"admin",type:{option:"publicKey"}},{name:"validatorManager",type:{option:"publicKey"}},{name:"operationalSolAccount",type:{option:"publicKey"}},{name:"treasuryMsolAccount",type:{option:"publicKey"}},{name:"pauseAuthority",type:{option:"publicKey"}}]}},{name:"ConfigLpParams",type:{kind:"struct",fields:[{name:"minFee",type:{option:{defined:"Fee"}}},{name:"maxFee",type:{option:{defined:"Fee"}}},{name:"liquidityTarget",type:{option:"u64"}},{name:"treasuryCut",type:{option:{defined:"Fee"}}}]}},{name:"ConfigMarinadeParams",type:{kind:"struct",fields:[{name:"rewardsFee",type:{option:{defined:"Fee"}}},{name:"slotsForStakeDelta",type:{option:"u64"}},{name:"minStake",type:{option:"u64"}},{name:"minDeposit",type:{option:"u64"}},{name:"minWithdraw",type:{option:"u64"}},{name:"stakingSolCap",type:{option:"u64"}},{name:"liquiditySolCap",type:{option:"u64"}},{name:"withdrawStakeAccountEnabled",type:{option:"bool"}},{name:"delayedUnstakeFee",type:{option:{defined:"FeeCents"}}},{name:"withdrawStakeAccountFee",type:{option:{defined:"FeeCents"}}},{name:"maxStakeMovedPerEpoch",type:{option:{defined:"Fee"}}}]}},{name:"InitializeData",type:{kind:"struct",fields:[{name:"adminAuthority",type:"publicKey"},{name:"validatorManagerAuthority",type:"publicKey"},{name:"minStake",type:"u64"},{name:"rewardsFee",type:{defined:"Fee"}},{name:"liqPool",type:{defined:"LiqPoolInitializeData"}},{name:"additionalStakeRecordSpace",type:"u32"},{name:"additionalValidatorRecordSpace",type:"u32"},{name:"slotsForStakeDelta",type:"u64"},{name:"pauseAuthority",type:"publicKey"}]}},{name:"LiqPoolInitializeData",type:{kind:"struct",fields:[{name:"lpLiquidityTarget",type:"u64"},{name:"lpMaxFee",type:{defined:"Fee"}},{name:"lpMinFee",type:{defined:"Fee"}},{name:"lpTreasuryCut",type:{defined:"Fee"}}]}},{name:"Fee",type:{kind:"struct",fields:[{name:"basisPoints",type:"u32"}]}},{name:"FeeCents",docs:["FeeCents, same as Fee but / 1_000_000 instead of 10_000","1 FeeCent = 0.0001%, 10_000 FeeCent = 1%, 1_000_000 FeeCent = 100%"],type:{kind:"struct",fields:[{name:"bpCents",type:"u32"}]}},{name:"LiqPool",type:{kind:"struct",fields:[{name:"lpMint",type:"publicKey"},{name:"lpMintAuthorityBumpSeed",type:"u8"},{name:"solLegBumpSeed",type:"u8"},{name:"msolLegAuthorityBumpSeed",type:"u8"},{name:"msolLeg",type:"publicKey"},{name:"lpLiquidityTarget",docs:["Liquidity target. If the Liquidity reach this amount, the fee reaches lp_min_discount_fee"],type:"u64"},{name:"lpMaxFee",docs:["Liquidity pool max fee"],type:{defined:"Fee"}},{name:"lpMinFee",docs:["SOL/mSOL Liquidity pool min fee"],type:{defined:"Fee"}},{name:"treasuryCut",docs:["Treasury cut"],type:{defined:"Fee"}},{name:"lpSupply",type:"u64"},{name:"lentFromSolLeg",type:"u64"},{name:"liquiditySolCap",type:"u64"}]}},{name:"List",type:{kind:"struct",fields:[{name:"account",type:"publicKey"},{name:"itemSize",type:"u32"},{name:"count",type:"u32"},{name:"reserved1",type:"publicKey"},{name:"reserved2",type:"u32"}]}},{name:"StakeRecord",type:{kind:"struct",fields:[{name:"stakeAccount",type:"publicKey"},{name:"lastUpdateDelegatedLamports",type:"u64"},{name:"lastUpdateEpoch",type:"u64"},{name:"isEmergencyUnstaking",type:"u8"}]}},{name:"StakeList",type:{kind:"struct",fields:[]}},{name:"StakeSystem",type:{kind:"struct",fields:[{name:"stakeList",type:{defined:"List"}},{name:"delayedUnstakeCoolingDown",type:"u64"},{name:"stakeDepositBumpSeed",type:"u8"},{name:"stakeWithdrawBumpSeed",type:"u8"},{name:"slotsForStakeDelta",docs:["set by admin, how much slots before the end of the epoch, stake-delta can start"],type:"u64"},{name:"lastStakeDeltaEpoch",docs:["Marks the start of stake-delta operations, meaning that if somebody starts a delayed-unstake ticket","after this var is set with epoch_num the ticket will have epoch_created = current_epoch+1","(the user must wait one more epoch, because their unstake-delta will be execute in this epoch)"],type:"u64"},{name:"minStake",type:"u64"},{name:"extraStakeDeltaRuns",docs:["can be set by validator-manager-auth to allow a second run of stake-delta to stake late stakers in the last minute of the epoch","so we maximize user's rewards"],type:"u32"}]}},{name:"ValidatorRecord",type:{kind:"struct",fields:[{name:"validatorAccount",docs:["Validator vote pubkey"],type:"publicKey"},{name:"activeBalance",docs:["Validator total balance in lamports"],type:"u64"},{name:"score",type:"u32"},{name:"lastStakeDeltaEpoch",type:"u64"},{name:"duplicationFlagBumpSeed",type:"u8"}]}},{name:"ValidatorList",type:{kind:"struct",fields:[]}},{name:"ValidatorSystem",type:{kind:"struct",fields:[{name:"validatorList",type:{defined:"List"}},{name:"managerAuthority",type:"publicKey"},{name:"totalValidatorScore",type:"u32"},{name:"totalActiveBalance",docs:["sum of all active lamports staked"],type:"u64"},{name:"autoAddValidatorEnabled",docs:["DEPRECATED, no longer used"],type:"u8"}]}}],events:[{name:"ChangeAuthorityEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"adminChange",type:{option:{defined:"PubkeyValueChange"}},index:!1},{name:"validatorManagerChange",type:{option:{defined:"PubkeyValueChange"}},index:!1},{name:"operationalSolAccountChange",type:{option:{defined:"PubkeyValueChange"}},index:!1},{name:"treasuryMsolAccountChange",type:{option:{defined:"PubkeyValueChange"}},index:!1},{name:"pauseAuthorityChange",type:{option:{defined:"PubkeyValueChange"}},index:!1}]},{name:"ConfigLpEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"minFeeChange",type:{option:{defined:"FeeValueChange"}},index:!1},{name:"maxFeeChange",type:{option:{defined:"FeeValueChange"}},index:!1},{name:"liquidityTargetChange",type:{option:{defined:"U64ValueChange"}},index:!1},{name:"treasuryCutChange",type:{option:{defined:"FeeValueChange"}},index:!1}]},{name:"ConfigMarinadeEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"rewardsFeeChange",type:{option:{defined:"FeeValueChange"}},index:!1},{name:"slotsForStakeDeltaChange",type:{option:{defined:"U64ValueChange"}},index:!1},{name:"minStakeChange",type:{option:{defined:"U64ValueChange"}},index:!1},{name:"minDepositChange",type:{option:{defined:"U64ValueChange"}},index:!1},{name:"minWithdrawChange",type:{option:{defined:"U64ValueChange"}},index:!1},{name:"stakingSolCapChange",type:{option:{defined:"U64ValueChange"}},index:!1},{name:"liquiditySolCapChange",type:{option:{defined:"U64ValueChange"}},index:!1},{name:"withdrawStakeAccountEnabledChange",type:{option:{defined:"BoolValueChange"}},index:!1},{name:"delayedUnstakeFeeChange",type:{option:{defined:"FeeCentsValueChange"}},index:!1},{name:"withdrawStakeAccountFeeChange",type:{option:{defined:"FeeCentsValueChange"}},index:!1},{name:"maxStakeMovedPerEpochChange",type:{option:{defined:"FeeValueChange"}},index:!1}]},{name:"InitializeEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"params",type:{defined:"InitializeData"},index:!1},{name:"stakeList",type:"publicKey",index:!1},{name:"validatorList",type:"publicKey",index:!1},{name:"msolMint",type:"publicKey",index:!1},{name:"operationalSolAccount",type:"publicKey",index:!1},{name:"lpMint",type:"publicKey",index:!1},{name:"lpMsolLeg",type:"publicKey",index:!1},{name:"treasuryMsolAccount",type:"publicKey",index:!1}]},{name:"EmergencyPauseEvent",fields:[{name:"state",type:"publicKey",index:!1}]},{name:"ResumeEvent",fields:[{name:"state",type:"publicKey",index:!1}]},{name:"ReallocValidatorListEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"count",type:"u32",index:!1},{name:"newCapacity",type:"u32",index:!1}]},{name:"ReallocStakeListEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"count",type:"u32",index:!1},{name:"newCapacity",type:"u32",index:!1}]},{name:"DeactivateStakeEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"stakeIndex",type:"u32",index:!1},{name:"stakeAccount",type:"publicKey",index:!1},{name:"lastUpdateStakeDelegation",type:"u64",index:!1},{name:"splitStakeAccount",type:{option:{defined:"SplitStakeAccountInfo"}},index:!1},{name:"validatorIndex",type:"u32",index:!1},{name:"validatorVote",type:"publicKey",index:!1},{name:"totalStakeTarget",type:"u64",index:!1},{name:"validatorStakeTarget",type:"u64",index:!1},{name:"totalActiveBalance",type:"u64",index:!1},{name:"delayedUnstakeCoolingDown",type:"u64",index:!1},{name:"validatorActiveBalance",type:"u64",index:!1},{name:"totalUnstakeDelta",type:"u64",index:!1},{name:"unstakedAmount",type:"u64",index:!1}]},{name:"MergeStakesEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"destinationStakeIndex",type:"u32",index:!1},{name:"destinationStakeAccount",type:"publicKey",index:!1},{name:"lastUpdateDestinationStakeDelegation",type:"u64",index:!1},{name:"sourceStakeIndex",type:"u32",index:!1},{name:"sourceStakeAccount",type:"publicKey",index:!1},{name:"lastUpdateSourceStakeDelegation",type:"u64",index:!1},{name:"validatorIndex",type:"u32",index:!1},{name:"validatorVote",type:"publicKey",index:!1},{name:"extraDelegated",type:"u64",index:!1},{name:"returnedStakeRent",type:"u64",index:!1},{name:"validatorActiveBalance",type:"u64",index:!1},{name:"totalActiveBalance",type:"u64",index:!1},{name:"operationalSolBalance",type:"u64",index:!1}]},{name:"RedelegateEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"stakeIndex",type:"u32",index:!1},{name:"stakeAccount",type:"publicKey",index:!1},{name:"lastUpdateDelegation",type:"u64",index:!1},{name:"sourceValidatorIndex",type:"u32",index:!1},{name:"sourceValidatorVote",type:"publicKey",index:!1},{name:"sourceValidatorScore",type:"u32",index:!1},{name:"sourceValidatorBalance",type:"u64",index:!1},{name:"sourceValidatorStakeTarget",type:"u64",index:!1},{name:"destValidatorIndex",type:"u32",index:!1},{name:"destValidatorVote",type:"publicKey",index:!1},{name:"destValidatorScore",type:"u32",index:!1},{name:"destValidatorBalance",type:"u64",index:!1},{name:"destValidatorStakeTarget",type:"u64",index:!1},{name:"redelegateAmount",type:"u64",index:!1},{name:"splitStakeAccount",type:{option:{defined:"SplitStakeAccountInfo"}},index:!1},{name:"redelegateStakeIndex",type:"u32",index:!1},{name:"redelegateStakeAccount",type:"publicKey",index:!1}]},{name:"StakeReserveEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"stakeIndex",type:"u32",index:!1},{name:"stakeAccount",type:"publicKey",index:!1},{name:"validatorIndex",type:"u32",index:!1},{name:"validatorVote",type:"publicKey",index:!1},{name:"totalStakeTarget",type:"u64",index:!1},{name:"validatorStakeTarget",type:"u64",index:!1},{name:"reserveBalance",type:"u64",index:!1},{name:"totalActiveBalance",type:"u64",index:!1},{name:"validatorActiveBalance",type:"u64",index:!1},{name:"totalStakeDelta",type:"u64",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"UpdateActiveEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"stakeIndex",type:"u32",index:!1},{name:"stakeAccount",type:"publicKey",index:!1},{name:"validatorIndex",type:"u32",index:!1},{name:"validatorVote",type:"publicKey",index:!1},{name:"delegationChange",type:{defined:"U64ValueChange"},index:!1},{name:"delegationGrowthMsolFees",type:{option:"u64"},index:!1},{name:"extraLamports",type:"u64",index:!1},{name:"extraMsolFees",type:{option:"u64"},index:!1},{name:"validatorActiveBalance",type:"u64",index:!1},{name:"totalActiveBalance",type:"u64",index:!1},{name:"msolPriceChange",type:{defined:"U64ValueChange"},index:!1},{name:"rewardFeeUsed",type:{defined:"Fee"},index:!1},{name:"totalVirtualStakedLamports",type:"u64",index:!1},{name:"msolSupply",type:"u64",index:!1}]},{name:"UpdateDeactivatedEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"stakeIndex",type:"u32",index:!1},{name:"stakeAccount",type:"publicKey",index:!1},{name:"balanceWithoutRentExempt",type:"u64",index:!1},{name:"lastUpdateDelegatedLamports",type:"u64",index:!1},{name:"msolFees",type:{option:"u64"},index:!1},{name:"msolPriceChange",type:{defined:"U64ValueChange"},index:!1},{name:"rewardFeeUsed",type:{defined:"Fee"},index:!1},{name:"operationalSolBalance",type:"u64",index:!1},{name:"totalVirtualStakedLamports",type:"u64",index:!1},{name:"msolSupply",type:"u64",index:!1}]},{name:"ClaimEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"ticket",type:"publicKey",index:!1},{name:"beneficiary",type:"publicKey",index:!1},{name:"circulatingTicketBalance",type:"u64",index:!1},{name:"circulatingTicketCount",type:"u64",index:!1},{name:"reserveBalance",type:"u64",index:!1},{name:"userBalance",type:"u64",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"OrderUnstakeEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"ticketEpoch",type:"u64",index:!1},{name:"ticket",type:"publicKey",index:!1},{name:"beneficiary",type:"publicKey",index:!1},{name:"circulatingTicketBalance",type:"u64",index:!1},{name:"circulatingTicketCount",type:"u64",index:!1},{name:"userMsolBalance",type:"u64",index:!1},{name:"burnedMsolAmount",type:"u64",index:!1},{name:"solAmount",type:"u64",index:!1},{name:"feeBpCents",type:"u32",index:!1},{name:"totalVirtualStakedLamports",type:"u64",index:!1},{name:"msolSupply",type:"u64",index:!1}]},{name:"AddLiquidityEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"solOwner",type:"publicKey",index:!1},{name:"userSolBalance",type:"u64",index:!1},{name:"userLpBalance",type:"u64",index:!1},{name:"solLegBalance",type:"u64",index:!1},{name:"lpSupply",type:"u64",index:!1},{name:"solAddedAmount",type:"u64",index:!1},{name:"lpMinted",type:"u64",index:!1},{name:"totalVirtualStakedLamports",type:"u64",index:!1},{name:"msolSupply",type:"u64",index:!1}]},{name:"LiquidUnstakeEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"msolOwner",type:"publicKey",index:!1},{name:"liqPoolSolBalance",type:"u64",index:!1},{name:"liqPoolMsolBalance",type:"u64",index:!1},{name:"treasuryMsolBalance",type:{option:"u64"},index:!1},{name:"userMsolBalance",type:"u64",index:!1},{name:"userSolBalance",type:"u64",index:!1},{name:"msolAmount",type:"u64",index:!1},{name:"msolFee",type:"u64",index:!1},{name:"treasuryMsolCut",type:"u64",index:!1},{name:"solAmount",type:"u64",index:!1},{name:"lpLiquidityTarget",type:"u64",index:!1},{name:"lpMaxFee",type:{defined:"Fee"},index:!1},{name:"lpMinFee",type:{defined:"Fee"},index:!1},{name:"treasuryCut",type:{defined:"Fee"},index:!1}]},{name:"RemoveLiquidityEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"solLegBalance",type:"u64",index:!1},{name:"msolLegBalance",type:"u64",index:!1},{name:"userLpBalance",type:"u64",index:!1},{name:"userSolBalance",type:"u64",index:!1},{name:"userMsolBalance",type:"u64",index:!1},{name:"lpMintSupply",type:"u64",index:!1},{name:"lpBurned",type:"u64",index:!1},{name:"solOutAmount",type:"u64",index:!1},{name:"msolOutAmount",type:"u64",index:!1}]},{name:"AddValidatorEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"validator",type:"publicKey",index:!1},{name:"index",type:"u32",index:!1},{name:"score",type:"u32",index:!1}]},{name:"RemoveValidatorEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"validator",type:"publicKey",index:!1},{name:"index",type:"u32",index:!1},{name:"operationalSolBalance",type:"u64",index:!1}]},{name:"SetValidatorScoreEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"validator",type:"publicKey",index:!1},{name:"index",type:"u32",index:!1},{name:"scoreChange",type:{defined:"U32ValueChange"},index:!1}]},{name:"DepositStakeAccountEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"stake",type:"publicKey",index:!1},{name:"delegated",type:"u64",index:!1},{name:"withdrawer",type:"publicKey",index:!1},{name:"stakeIndex",type:"u32",index:!1},{name:"validator",type:"publicKey",index:!1},{name:"validatorIndex",type:"u32",index:!1},{name:"validatorActiveBalance",type:"u64",index:!1},{name:"totalActiveBalance",type:"u64",index:!1},{name:"userMsolBalance",type:"u64",index:!1},{name:"msolMinted",type:"u64",index:!1},{name:"totalVirtualStakedLamports",type:"u64",index:!1},{name:"msolSupply",type:"u64",index:!1}]},{name:"DepositEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"solOwner",type:"publicKey",index:!1},{name:"userSolBalance",type:"u64",index:!1},{name:"userMsolBalance",type:"u64",index:!1},{name:"solLegBalance",type:"u64",index:!1},{name:"msolLegBalance",type:"u64",index:!1},{name:"reserveBalance",type:"u64",index:!1},{name:"solSwapped",type:"u64",index:!1},{name:"msolSwapped",type:"u64",index:!1},{name:"solDeposited",type:"u64",index:!1},{name:"msolMinted",type:"u64",index:!1},{name:"totalVirtualStakedLamports",type:"u64",index:!1},{name:"msolSupply",type:"u64",index:!1}]},{name:"WithdrawStakeAccountEvent",fields:[{name:"state",type:"publicKey",index:!1},{name:"epoch",type:"u64",index:!1},{name:"stake",type:"publicKey",index:!1},{name:"lastUpdateStakeDelegation",type:"u64",index:!1},{name:"stakeIndex",type:"u32",index:!1},{name:"validator",type:"publicKey",index:!1},{name:"validatorIndex",type:"u32",index:!1},{name:"userMsolBalance",type:"u64",index:!1},{name:"userMsolAuth",type:"publicKey",index:!1},{name:"msolBurned",type:"u64",index:!1},{name:"msolFees",type:"u64",index:!1},{name:"splitStake",type:"publicKey",index:!1},{name:"beneficiary",type:"publicKey",index:!1},{name:"splitLamports",type:"u64",index:!1},{name:"feeBpCents",type:"u32",index:!1},{name:"totalVirtualStakedLamports",type:"u64",index:!1},{name:"msolSupply",type:"u64",index:!1}]}],errors:[{code:6e3,name:"WrongReserveOwner",msg:"Wrong reserve owner. Must be a system account"},{code:6001,name:"NonEmptyReserveData",msg:"Reserve must have no data, but has data"},{code:6002,name:"InvalidInitialReserveLamports",msg:"Invalid initial reserve lamports"},{code:6003,name:"ZeroValidatorChunkSize",msg:"Zero validator chunk size"},{code:6004,name:"TooBigValidatorChunkSize",msg:"Too big validator chunk size"},{code:6005,name:"ZeroCreditChunkSize",msg:"Zero credit chunk size"},{code:6006,name:"TooBigCreditChunkSize",msg:"Too big credit chunk size"},{code:6007,name:"TooLowCreditFee",msg:"Too low credit fee"},{code:6008,name:"InvalidMintAuthority",msg:"Invalid mint authority"},{code:6009,name:"MintHasInitialSupply",msg:"Non empty initial mint supply"},{code:6010,name:"InvalidOwnerFeeState",msg:"Invalid owner fee state"},{code:6011,name:"InvalidProgramId",msg:"Invalid program id. For using program from another account please update id in the code"},{code:6012,name:"UnexpectedAccount",msg:"Unexpected account"},{code:6013,name:"CalculationFailure",msg:"Calculation failure"},{code:6014,name:"StakeAccountWithLockup",msg:"You can't deposit a stake-account with lockup"},{code:6015,name:"MinStakeIsTooLow",msg:"Min stake is too low"},{code:6016,name:"LpMaxFeeIsTooHigh",msg:"Lp max fee is too high"},{code:6017,name:"BasisPointsOverflow",msg:"Basis points overflow"},{code:6018,name:"LpFeesAreWrongWayRound",msg:"LP min fee > LP max fee"},{code:6019,name:"LiquidityTargetTooLow",msg:"Liquidity target too low"},{code:6020,name:"TicketNotDue",msg:"Ticket not due. Wait more epochs"},{code:6021,name:"TicketNotReady",msg:"Ticket not ready. Wait a few hours and try again"},{code:6022,name:"WrongBeneficiary",msg:"Wrong Ticket Beneficiary"},{code:6023,name:"StakeAccountNotUpdatedYet",msg:"Stake Account not updated yet"},{code:6024,name:"StakeNotDelegated",msg:"Stake Account not delegated"},{code:6025,name:"StakeAccountIsEmergencyUnstaking",msg:"Stake Account is emergency unstaking"},{code:6026,name:"InsufficientLiquidity",msg:"Insufficient Liquidity in the Liquidity Pool"},{code:6027,name:"NotUsed6027"},{code:6028,name:"InvalidAdminAuthority",msg:"Invalid admin authority"},{code:6029,name:"InvalidValidatorManager",msg:"Invalid validator system manager"},{code:6030,name:"InvalidStakeListDiscriminator",msg:"Invalid stake list account discriminator"},{code:6031,name:"InvalidValidatorListDiscriminator",msg:"Invalid validator list account discriminator"},{code:6032,name:"TreasuryCutIsTooHigh",msg:"Treasury cut is too high"},{code:6033,name:"RewardsFeeIsTooHigh",msg:"Reward fee is too high"},{code:6034,name:"StakingIsCapped",msg:"Staking is capped"},{code:6035,name:"LiquidityIsCapped",msg:"Liquidity is capped"},{code:6036,name:"UpdateWindowIsTooLow",msg:"Update window is too low"},{code:6037,name:"MinWithdrawIsTooHigh",msg:"Min withdraw is too high"},{code:6038,name:"WithdrawAmountIsTooLow",msg:"Withdraw amount is too low"},{code:6039,name:"DepositAmountIsTooLow",msg:"Deposit amount is too low"},{code:6040,name:"NotEnoughUserFunds",msg:"Not enough user funds"},{code:6041,name:"WrongTokenOwnerOrDelegate",msg:"Wrong token owner or delegate"},{code:6042,name:"TooEarlyForStakeDelta",msg:"Too early for stake delta"},{code:6043,name:"RequiredDelegatedStake",msg:"Required delegated stake"},{code:6044,name:"RequiredActiveStake",msg:"Required active stake"},{code:6045,name:"RequiredDeactivatingStake",msg:"Required deactivating stake"},{code:6046,name:"DepositingNotActivatedStake",msg:"Depositing not activated stake"},{code:6047,name:"TooLowDelegationInDepositingStake",msg:"Too low delegation in the depositing stake"},{code:6048,name:"WrongStakeBalance",msg:"Wrong deposited stake balance"},{code:6049,name:"WrongValidatorAccountOrIndex",msg:"Wrong validator account or index"},{code:6050,name:"WrongStakeAccountOrIndex",msg:"Wrong stake account or index"},{code:6051,name:"UnstakingOnPositiveDelta",msg:"Delta stake is positive so we must stake instead of unstake"},{code:6052,name:"StakingOnNegativeDelta",msg:"Delta stake is negative so we must unstake instead of stake"},{code:6053,name:"MovingStakeIsCapped",msg:"Moving stake during an epoch is capped"},{code:6054,name:"StakeMustBeUninitialized",msg:"Stake must be uninitialized"},{code:6055,name:"DestinationStakeMustBeDelegated",msg:"Destination stake must be delegated"},{code:6056,name:"DestinationStakeMustNotBeDeactivating",msg:"Destination stake must not be deactivating"},{code:6057,name:"DestinationStakeMustBeUpdated",msg:"Destination stake must be updated"},{code:6058,name:"InvalidDestinationStakeDelegation",msg:"Invalid destination stake delegation"},{code:6059,name:"SourceStakeMustBeDelegated",msg:"Source stake must be delegated"},{code:6060,name:"SourceStakeMustNotBeDeactivating",msg:"Source stake must not be deactivating"},{code:6061,name:"SourceStakeMustBeUpdated",msg:"Source stake must be updated"},{code:6062,name:"InvalidSourceStakeDelegation",msg:"Invalid source stake delegation"},{code:6063,name:"InvalidDelayedUnstakeTicket",msg:"Invalid delayed unstake ticket"},{code:6064,name:"ReusingDelayedUnstakeTicket",msg:"Reusing delayed unstake ticket"},{code:6065,name:"EmergencyUnstakingFromNonZeroScoredValidator",msg:"Emergency unstaking from non zero scored validator"},{code:6066,name:"WrongValidatorDuplicationFlag",msg:"Wrong validator duplication flag"},{code:6067,name:"RedepositingMarinadeStake",msg:"Redepositing marinade stake"},{code:6068,name:"RemovingValidatorWithBalance",msg:"Removing validator with balance"},{code:6069,name:"RedelegateOverTarget",msg:"Redelegate will put validator over stake target"},{code:6070,name:"SourceAndDestValidatorsAreTheSame",msg:"Source and Dest Validators are the same"},{code:6071,name:"UnregisteredMsolMinted",msg:"Some mSOL tokens was minted outside of marinade contract"},{code:6072,name:"UnregisteredLPMinted",msg:"Some LP tokens was minted outside of marinade contract"},{code:6073,name:"ListIndexOutOfBounds",msg:"List index out of bounds"},{code:6074,name:"ListOverflow",msg:"List overflow"},{code:6075,name:"AlreadyPaused",msg:"Requested pause and already Paused"},{code:6076,name:"NotPaused",msg:"Requested resume, but not Paused"},{code:6077,name:"ProgramIsPaused",msg:"Emergency Pause is Active"},{code:6078,name:"InvalidPauseAuthority",msg:"Invalid pause authority"},{code:6079,name:"SelectedStakeAccountHasNotEnoughFunds",msg:"Selected Stake account has not enough funds"},{code:6080,name:"BasisPointCentsOverflow",msg:"Basis point CENTS overflow"},{code:6081,name:"WithdrawStakeAccountIsNotEnabled",msg:"Withdraw stake account is not enabled"},{code:6082,name:"WithdrawStakeAccountFeeIsTooHigh",msg:"Withdraw stake account fee is too high"},{code:6083,name:"DelayedUnstakeFeeIsTooHigh",msg:"Delayed unstake fee is too high"},{code:6084,name:"WithdrawStakeLamportsIsTooLow",msg:"Withdraw stake account value is too low"},{code:6085,name:"StakeAccountRemainderTooLow",msg:"Stake account remainder too low"},{code:6086,name:"ShrinkingListWithDeletingContents",msg:"Capacity of the list must be not less than it's current size"}]}},1552:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDL=void 0,e.IDL={version:"0.2.0",name:"marinade_referral",instructions:[{name:"deposit",docs:["deposit SOL"],accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"liqPoolMsolLegAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"transferFrom",isMut:!0,isSigner:!0},{name:"mintTo",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"marinadeFinanceProgram",isMut:!1,isSigner:!1},{name:"referralState",isMut:!0,isSigner:!1},{name:"msolTokenPartnerAccount",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"depositStakeAccount",docs:["deposit stake account"],accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeAuthority",isMut:!1,isSigner:!0},{name:"duplicationFlag",isMut:!0,isSigner:!1},{name:"rentPayer",isMut:!0,isSigner:!0},{name:"msolMint",isMut:!0,isSigner:!1},{name:"mintTo",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1},{name:"marinadeFinanceProgram",isMut:!1,isSigner:!1},{name:"referralState",isMut:!0,isSigner:!1},{name:"msolTokenPartnerAccount",isMut:!0,isSigner:!1}],args:[{name:"validatorIndex",type:"u32"}]},{name:"liquidUnstake",docs:["liquid-unstake mSOL"],accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"getMsolFrom",isMut:!0,isSigner:!1},{name:"getMsolFromAuthority",isMut:!1,isSigner:!0},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"marinadeFinanceProgram",isMut:!1,isSigner:!1},{name:"referralState",isMut:!0,isSigner:!1},{name:"msolTokenPartnerAccount",isMut:!0,isSigner:!1}],args:[{name:"msolAmount",type:"u64"}]},{name:"initialize",docs:["Admin","create global state"],accounts:[{name:"adminAccount",isMut:!1,isSigner:!0},{name:"globalState",isMut:!0,isSigner:!1},{name:"msolMintAccount",isMut:!1,isSigner:!1},{name:"foreman1",isMut:!1,isSigner:!1},{name:"foreman2",isMut:!1,isSigner:!1}],args:[{name:"minKeepPct",type:"u8"},{name:"maxKeepPct",type:"u8"}]},{name:"initReferralAccount",docs:["create referral state"],accounts:[{name:"globalState",isMut:!1,isSigner:!1},{name:"signer",isMut:!1,isSigner:!0},{name:"referralState",isMut:!0,isSigner:!1},{name:"partnerAccount",isMut:!1,isSigner:!1},{name:"msolTokenPartnerAccount",isMut:!1,isSigner:!1}],args:[{name:"partnerName",type:"string"},{name:"validatorVoteKey",type:{option:"publicKey"}},{name:"keepSelfStakePct",type:"u8"}]},{name:"updateReferral",docs:["update referral state"],accounts:[{name:"globalState",isMut:!1,isSigner:!1},{name:"adminAccount",isMut:!1,isSigner:!0},{name:"referralState",isMut:!0,isSigner:!1},{name:"newPartnerAccount",isMut:!1,isSigner:!1},{name:"newMsolTokenPartnerAccount",isMut:!1,isSigner:!1}],args:[{name:"pause",type:"bool"}]},{name:"updateOperationFees",docs:["update referral operation fees"],accounts:[{name:"globalState",isMut:!1,isSigner:!1},{name:"signer",isMut:!1,isSigner:!0},{name:"referralState",isMut:!0,isSigner:!1}],args:[{name:"operationDepositSolFee",type:{option:"u8"}},{name:"operationDepositStakeAccountFee",type:{option:"u8"}},{name:"operationLiquidUnstakeFee",type:{option:"u8"}},{name:"operationDelayedUnstakeFee",type:{option:"u8"}}]},{name:"changeAuthority",docs:["update partner, authority and beneficiary account based on the new partner"],accounts:[{name:"globalState",isMut:!0,isSigner:!1},{name:"adminAccount",isMut:!1,isSigner:!0},{name:"newAdminAccount",isMut:!1,isSigner:!1},{name:"newForeman1",isMut:!1,isSigner:!1},{name:"newForeman2",isMut:!1,isSigner:!1}],args:[]},{name:"adminRecognizeDeposit",docs:["deposit SOL"],accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"globalState",isMut:!1,isSigner:!1},{name:"referralState",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]}],accounts:[{name:"globalState",docs:["marinade-referral-program PDA"],type:{kind:"struct",fields:[{name:"adminAccount",type:"publicKey"},{name:"msolMintAccount",type:"publicKey"},{name:"foreman1",type:"publicKey"},{name:"foreman2",type:"publicKey"},{name:"minKeepPct",type:"u8"},{name:"maxKeepPct",type:"u8"}]}},{name:"referralState",docs:["referral PDA"],type:{kind:"struct",fields:[{name:"partnerName",type:"string"},{name:"validatorVoteKey",docs:["set value if this referral-account is a stake-account-as-collateral partner record"],type:{option:"publicKey"}},{name:"keepSelfStakePct",type:"u8"},{name:"partnerAccount",type:"publicKey"},{name:"msolTokenPartnerAccount",type:"publicKey"},{name:"depositSolAmount",type:"u64"},{name:"depositSolOperations",type:"u64"},{name:"depositStakeAccountAmount",type:"u64"},{name:"depositStakeAccountOperations",type:"u64"},{name:"liqUnstakeMsolFees",type:"u64"},{name:"liqUnstakeSolAmount",type:"u64"},{name:"liqUnstakeMsolAmount",type:"u64"},{name:"liqUnstakeOperations",type:"u64"},{name:"delayedUnstakeAmount",type:"u64"},{name:"delayedUnstakeOperations",type:"u64"},{name:"baseFee",type:"u32"},{name:"maxFee",type:"u32"},{name:"maxNetStake",type:"u64"},{name:"pause",type:"bool"},{name:"operationDepositSolFee",type:"u8"},{name:"operationDepositStakeAccountFee",type:"u8"},{name:"operationLiquidUnstakeFee",type:"u8"},{name:"operationDelayedUnstakeFee",type:"u8"},{name:"accumDepositSolFee",type:"u64"},{name:"accumDepositStakeAccountFee",type:"u64"},{name:"accumLiquidUnstakeFee",type:"u64"},{name:"accumDelayedUnstakeFee",type:"u64"}]}}],types:[{name:"ReferralError",type:{kind:"enum",variants:[{name:"AccessDenied"},{name:"Paused"},{name:"TransferNotAvailable"},{name:"InvalidPartnerAccountOwner"},{name:"InvalidPartnerAccountMint"},{name:"PartnerNameTooLong"},{name:"NotInitializedMintAccount"},{name:"ReferralOperationFeeOverMax"},{name:"NotAllowedForStakeAsCollateralPartner"},{name:"KeepPctOutOfRange"},{name:"MaxKeepPctOutOfRange"},{name:"MinMaxKeepPctOutOfRange"},{name:"StakeAccountMustBeDelegatedToPartnerValidator"},{name:"StakeAccountAuthMustBePartnerAccount"},{name:"OnlyAllowedForStakeAsCollateralPartner"},{name:"InvalidGlobalAccount"}]}}]}},1741:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MarinadeFinanceProgram=void 0;const a=n(9812),c=n(9420),u=n(4970),l=o(n(2169)).IDL;e.MarinadeFinanceProgram=class{constructor(t,e){this.programAddress=t,this.anchorProvider=e,this.getEstimatedUnstakeTicketDueDate=t=>s(this,void 0,void 0,(function*(){const e=yield(0,c.getEpochInfo)(this.anchorProvider.connection);return(0,c.estimateTicketDateInfo)(e,Date.now(),t.state.stakeSystem.slotsForStakeDelta.toNumber())})),this.addLiquidityInstructionBuilder=({marinadeState:t,ownerAddress:e,associatedLPTokenAccountAddress:n,amountLamports:r})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.addLiquidity(r).accountsStrict({state:t.marinadeStateAddress,lpMint:t.lpMintAddress,lpMintAuthority:yield t.lpMintAuthority(),liqPoolMsolLeg:t.mSolLeg,liqPoolSolLegPda:yield t.solLeg(),transferFrom:e,mintTo:n,systemProgram:c.SYSTEM_PROGRAM_ID,tokenProgram:u.TOKEN_PROGRAM_ID}).instruction()})),this.removeLiquidityInstructionBuilder=({marinadeState:t,ownerAddress:e,associatedLPTokenAccountAddress:n,associatedMSolTokenAccountAddress:r,amountLamports:i})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.removeLiquidity(i).accountsStrict({state:t.marinadeStateAddress,lpMint:t.lpMintAddress,burnFrom:n,burnFromAuthority:e,liqPoolSolLegPda:yield t.solLeg(),transferSolTo:e,transferMsolTo:r,liqPoolMsolLeg:t.mSolLeg,liqPoolMsolLegAuthority:yield t.mSolLegAuthority(),systemProgram:c.SYSTEM_PROGRAM_ID,tokenProgram:u.TOKEN_PROGRAM_ID}).instruction()})),this.liquidUnstakeInstructionBuilder=({marinadeState:t,ownerAddress:e,associatedMSolTokenAccountAddress:n,amountLamports:r})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.liquidUnstake(r).accountsStrict({state:t.marinadeStateAddress,msolMint:t.mSolMintAddress,liqPoolMsolLeg:t.mSolLeg,liqPoolSolLegPda:yield t.solLeg(),getMsolFrom:n,getMsolFromAuthority:e,transferSolTo:e,treasuryMsolAccount:t.treasuryMsolAccount,systemProgram:c.SYSTEM_PROGRAM_ID,tokenProgram:u.TOKEN_PROGRAM_ID}).instruction()})),this.depositInstructionBuilder=({marinadeState:t,transferFrom:e,associatedMSolTokenAccountAddress:n,amountLamports:r})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.deposit(r).accountsStrict({reservePda:yield t.reserveAddress(),state:t.marinadeStateAddress,msolMint:t.mSolMintAddress,msolMintAuthority:yield t.mSolMintAuthority(),liqPoolMsolLegAuthority:yield t.mSolLegAuthority(),liqPoolMsolLeg:t.mSolLeg,liqPoolSolLegPda:yield t.solLeg(),mintTo:n,transferFrom:e,systemProgram:c.SYSTEM_PROGRAM_ID,tokenProgram:u.TOKEN_PROGRAM_ID}).instruction()})),this.depositStakeAccountInstructionBuilder=({marinadeState:t,duplicationFlag:e,ownerAddress:n,stakeAccountAddress:r,authorizedWithdrawerAddress:i,associatedMSolTokenAccountAddress:o,validatorIndex:l})=>s(this,void 0,void 0,(function*(){return this.program.methods.depositStakeAccount(l).accountsStrict({duplicationFlag:e,stakeAuthority:i,state:t.marinadeStateAddress,stakeList:t.state.stakeSystem.stakeList.account,stakeAccount:r,validatorList:t.state.validatorSystem.validatorList.account,msolMint:t.mSolMintAddress,msolMintAuthority:yield t.mSolMintAuthority(),mintTo:o,rentPayer:n,clock:a.web3.SYSVAR_CLOCK_PUBKEY,rent:a.web3.SYSVAR_RENT_PUBKEY,systemProgram:c.SYSTEM_PROGRAM_ID,tokenProgram:u.TOKEN_PROGRAM_ID,stakeProgram:c.STAKE_PROGRAM_ID}).instruction()})),this.claimInstructionBuilder=({marinadeState:t,ticketAccount:e,transferSolTo:n})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.claim().accountsStrict({state:t.marinadeStateAddress,reservePda:yield t.reserveAddress(),ticketAccount:e,transferSolTo:n,clock:a.web3.SYSVAR_CLOCK_PUBKEY,systemProgram:c.SYSTEM_PROGRAM_ID}).instruction()})),this.orderUnstakeInstructionBuilder=({marinadeState:t,ownerAddress:e,associatedMSolTokenAccountAddress:n,newTicketAccount:r,msolAmount:i})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.orderUnstake(i).accountsStrict({state:t.marinadeStateAddress,msolMint:t.mSolMintAddress,burnMsolFrom:n,burnMsolAuthority:e,newTicketAccount:r,rent:a.web3.SYSVAR_RENT_PUBKEY,clock:a.web3.SYSVAR_CLOCK_PUBKEY,tokenProgram:u.TOKEN_PROGRAM_ID}).instruction()}))}get program(){return new a.Program(l,this.programAddress,this.anchorProvider)}getDelayedUnstakeTickets(t){return s(this,void 0,void 0,(function*(){const e=[{dataSize:88}];t&&e.push({memcmp:{offset:40,bytes:t.toBase58()}});const n=yield this.program.account.ticketAccountData.all(e),r=yield(0,c.getEpochInfo)(this.anchorProvider.connection);return new Map(n.map((t=>{const e=t.account,n=t.publicKey,i=(0,c.getTicketDateInfo)(r,e.createdEpoch.toNumber(),Date.now());return[n,Object.assign(Object.assign({},e),i)]})))}))}}},4540:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MarinadeReferralProgram=void 0;const a=n(9812),c=n(4970),u=n(9420),l=n(2354),d=o(n(1552)).IDL;e.MarinadeReferralProgram=class{constructor(t,e,n,r){this.programAddress=t,this.anchorProvider=e,this.referralState=n,this.marinade=r,this.referralStateData=null,this.liquidUnstakeInstructionBuilder=({marinadeState:t,ownerAddress:e,associatedMSolTokenAccountAddress:n,amountLamports:r})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.liquidUnstake(r).accountsStrict({marinadeFinanceProgram:t.marinadeFinanceProgramId,state:t.marinadeStateAddress,referralState:(0,l.assertNotNullAndReturn)(this.referralState,"The referral code must be provided!"),msolMint:t.mSolMintAddress,liqPoolMsolLeg:t.mSolLeg,liqPoolSolLegPda:yield t.solLeg(),getMsolFrom:n,getMsolFromAuthority:e,transferSolTo:e,treasuryMsolAccount:t.treasuryMsolAccount,systemProgram:u.SYSTEM_PROGRAM_ID,tokenProgram:c.TOKEN_PROGRAM_ID,msolTokenPartnerAccount:(yield this.getReferralStateData()).msolTokenPartnerAccount}).instruction()})),this.depositInstructionBuilder=({marinadeState:t,transferFrom:e,associatedMSolTokenAccountAddress:n,amountLamports:r})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.deposit(r).accountsStrict({reservePda:yield t.reserveAddress(),marinadeFinanceProgram:t.marinadeFinanceProgramId,referralState:(0,l.assertNotNullAndReturn)(this.referralState,"The referral code must be provided!"),state:t.marinadeStateAddress,msolMint:t.mSolMintAddress,msolMintAuthority:yield t.mSolMintAuthority(),liqPoolMsolLegAuthority:yield t.mSolLegAuthority(),liqPoolMsolLeg:t.mSolLeg,liqPoolSolLegPda:yield t.solLeg(),mintTo:n,transferFrom:e,systemProgram:u.SYSTEM_PROGRAM_ID,tokenProgram:c.TOKEN_PROGRAM_ID,msolTokenPartnerAccount:(yield this.getReferralStateData()).msolTokenPartnerAccount}).instruction()})),this.depositStakeAccountInstructionBuilder=({marinadeState:t,duplicationFlag:e,ownerAddress:n,stakeAccountAddress:r,authorizedWithdrawerAddress:i,associatedMSolTokenAccountAddress:o,validatorIndex:d})=>s(this,void 0,void 0,(function*(){return yield this.program.methods.depositStakeAccount(d).accountsStrict({duplicationFlag:e,stakeAuthority:i,state:t.marinadeStateAddress,marinadeFinanceProgram:t.marinadeFinanceProgramId,referralState:(0,l.assertNotNullAndReturn)(this.referralState,"The referral code must be provided!"),stakeList:t.state.stakeSystem.stakeList.account,stakeAccount:r,validatorList:t.state.validatorSystem.validatorList.account,msolMint:t.mSolMintAddress,msolMintAuthority:yield t.mSolMintAuthority(),mintTo:o,rentPayer:n,clock:a.web3.SYSVAR_CLOCK_PUBKEY,rent:a.web3.SYSVAR_RENT_PUBKEY,systemProgram:u.SYSTEM_PROGRAM_ID,tokenProgram:c.TOKEN_PROGRAM_ID,stakeProgram:u.STAKE_PROGRAM_ID,msolTokenPartnerAccount:(yield this.getReferralStateData()).msolTokenPartnerAccount}).instruction()}))}get program(){return new a.Program(d,this.programAddress,this.anchorProvider)}getReferralStateData(){return s(this,void 0,void 0,(function*(){return this.referralStateData||(this.referralStateData=(yield this.marinade.getReferralPartnerState()).state),this.referralStateData}))}}},9755:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getEpochInfo=e.getParsedStakeAccountInfo=e.getOrCreateAssociatedTokenAccount=e.getAssociatedTokenAccountAddress=e.BNOrNull=e.web3PubKeyOrNull=e.U64_MAX=e.STAKE_PROGRAM_ID=e.SYSTEM_PROGRAM_ID=void 0;const o=n(9812),s=n(4970),a=n(9243);function c(t){return null===t?null:new o.web3.PublicKey(t)}function u(t){return null===t?null:new o.BN(t)}function l(t,e){return i(this,void 0,void 0,(function*(){return o.utils.token.associatedAddress({mint:t,owner:e})}))}e.SYSTEM_PROGRAM_ID=o.web3.SystemProgram.programId,e.STAKE_PROGRAM_ID=o.web3.StakeProgram.programId,e.U64_MAX=new o.BN("ffffffffffffffff",16),e.web3PubKeyOrNull=c,e.BNOrNull=u,e.getAssociatedTokenAccountAddress=l,e.getOrCreateAssociatedTokenAccount=function(t,e,n,r){var o;return i(this,void 0,void 0,(function*(){const i=yield t.connection.getTokenAccountsByOwner(n,{mint:e}),[a]=i.value,c=null!==(o=null==a?void 0:a.pubkey)&&void 0!==o?o:yield l(e,n);let u=null;try{yield(0,s.getAccount)(t.connection,c)}catch(t){if(!(t instanceof s.TokenError)||"TokenAccountNotFoundError"!==t.name)throw t;u=(0,s.createAssociatedTokenAccountInstruction)(null!=r?r:n,c,n,e)}return{associatedTokenAccountAddress:c,createAssociateTokenInstruction:u}}))},e.getParsedStakeAccountInfo=function(t,n){var o,s,l,d,h,f,p,y,m,g,w,b,v,k,S,A,_,I,E,T,x,P,M,O,B;return i(this,void 0,void 0,(function*(){const i=t instanceof a.Connection?t:t.connection,{value:R}=yield i.getParsedAccountInfo(n);if(!R)throw new Error(`Failed to find the stake account ${n.toBase58()}`);if(!R.owner.equals(e.STAKE_PROGRAM_ID))throw new Error(`${n.toBase58()} is not a stake account because owner is ${R.owner}`);if(!R.data||R.data instanceof r)throw new Error("Failed to parse the stake account data");const{parsed:C}=R.data,L=u(null!==(d=null===(l=null===(s=null===(o=null==C?void 0:C.info)||void 0===o?void 0:o.stake)||void 0===s?void 0:s.delegation)||void 0===l?void 0:l.activationEpoch)&&void 0!==d?d:null),D=u(null!==(y=null===(p=null===(f=null===(h=null==C?void 0:C.info)||void 0===h?void 0:h.stake)||void 0===f?void 0:f.delegation)||void 0===p?void 0:p.deactivationEpoch)&&void 0!==y?y:null),N=null===(g=null===(m=null==C?void 0:C.info)||void 0===m?void 0:m.meta)||void 0===g?void 0:g.lockup,U=u(R.lamports),z=u(null!==(v=null===(b=null===(w=null==C?void 0:C.info)||void 0===w?void 0:w.stake)||void 0===b?void 0:b.delegation.stake)&&void 0!==v?v:null),{epoch:K}=yield i.getEpochInfo(),F=Date.now()/1e3;return{address:n,ownerAddress:R.owner,authorizedStakerAddress:c(null!==(_=null===(A=null===(S=null===(k=null==C?void 0:C.info)||void 0===k?void 0:k.meta)||void 0===S?void 0:S.authorized)||void 0===A?void 0:A.staker)&&void 0!==_?_:null),authorizedWithdrawerAddress:c(null!==(x=null===(T=null===(E=null===(I=null==C?void 0:C.info)||void 0===I?void 0:I.meta)||void 0===E?void 0:E.authorized)||void 0===T?void 0:T.withdrawer)&&void 0!==x?x:null),voterAddress:c(null!==(B=null===(O=null===(M=null===(P=null==C?void 0:C.info)||void 0===P?void 0:P.stake)||void 0===M?void 0:M.delegation)||void 0===O?void 0:O.voter)&&void 0!==B?B:null),activationEpoch:L,deactivationEpoch:D,isCoolingDown:!!D&&!D.eq(e.U64_MAX),isLockedUp:(null==N?void 0:N.custodian)&&""!==(null==N?void 0:N.custodian)&&((null==N?void 0:N.epoch)>K||(null==N?void 0:N.unixTimestamp)>F),balanceLamports:U,stakedLamports:z}}))},e.getEpochInfo=function(t){return i(this,void 0,void 0,(function*(){const e=yield t.getEpochInfo(),n=yield t.getRecentPerformanceSamples(64),r=n.reduce(((t,e)=>e.numSlots+t),0),i=n.reduce(((t,e)=>e.samplePeriodSecs+t),0)/r*1e3,o=e.slotsInEpoch-e.slotIndex,s=i*o,a=e.slotIndex*i,c=100*e.slotIndex/e.slotsInEpoch;return Object.assign(Object.assign({},e),{msUntilEpochEnd:s,msElapsed:a,epochProgress:c,avgSlotDuration:i,slotsRemainingInEpoch:o})}))}},735:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2018:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bounds=void 0;e.bounds=(t,e,n=0)=>[n+t*e,n+(t+1)*e]},2354:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNotNullAndReturn=void 0;e.assertNotNullAndReturn=(t,e="Asserted value is null!")=>(((t,e="Asserted value is null!")=>{if(null===t)throw new Error(e)})(t,e),t)},7560:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calcLamportsWithdrawAmount=e.divideBnToNumber=e.solToLamports=e.lamportsToSol=e.tokenBalanceToNumber=e.withDecimalPoint=void 0;const r=n(9812),i=9;function o(t,e){const n=t.toString().padStart(e+1,"0"),r=n.length;return n.slice(0,r-e)+"."+n.slice(-e)}function s(t,e){return Number(o(t,e))}function a(t,e){if(e.isZero())return 0;const n=t.div(e).toNumber(),r=t.umod(e),i=r.gcd(e);return n+r.div(i).toNumber()/e.div(i).toNumber()}e.withDecimalPoint=o,e.tokenBalanceToNumber=s,e.lamportsToSol=function(t){return s(t,i)},e.solToLamports=function(t){return new r.BN(t.toFixed(i).replace(".",""))},e.divideBnToNumber=a,e.calcLamportsWithdrawAmount=function(t,e){const n=e.mul(t.totalLamports),r=t.poolTokenSupply;return n.lt(r)?0:a(n,r)}},9420:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(9755),e),i(n(735),e),i(n(2018),e),i(n(7560),e),i(n(3961),e),i(n(8818),e)},572:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.selectSpecificValidator=e.identifyValidatorFromTx=e.computeLSTValueInSOL=e.computeExpectedSOL=void 0;const i=n(9812),o=n(9397),s=n(9243),a=n(9755),c=n(4970),u=n(7560);e.computeExpectedSOL=function(t,e,n){return r(this,void 0,void 0,(function*(){const r=yield(0,o.getStakePoolAccount)(e,n),s=(0,u.calcLamportsWithdrawAmount)(r.account.data,(0,u.solToLamports)(t));return s-s*(r.account.data.stakeWithdrawalFee.numerator.mul(new i.BN(1e6)).div(r.account.data.stakeWithdrawalFee.denominator).toNumber()/1e6)}))},e.computeLSTValueInSOL=function(t,e,n){return r(this,void 0,void 0,(function*(){const r=yield(0,o.getStakePoolAccount)(e,n);return(0,u.calcLamportsWithdrawAmount)(r.account.data,(0,u.solToLamports)(t))}))},e.identifyValidatorFromTx=function(t,e,n){return r(this,void 0,void 0,(function*(){const i=t.flatMap((t=>t.keys.map((t=>t.pubkey.toString())))),o=[s.SYSVAR_CLOCK_PUBKEY.toString(),a.STAKE_PROGRAM_ID.toString(),c.TOKEN_PROGRAM_ID.toString()],u=i.filter(((t,e,n)=>n.indexOf(t)===e&&n.lastIndexOf(t)===e&&!o.includes(t)));let l="";yield Promise.all(u.map((t=>r(this,void 0,void 0,(function*(){try{const n=yield(0,a.getParsedStakeAccountInfo)(e,new s.PublicKey(t));n.voterAddress&&(l=n.voterAddress.toString())}catch(t){}})))));const d=yield n.validatorDuplicationFlag(new s.PublicKey(l)),{validatorRecords:h}=yield n.getValidatorRecords(),f=h.findIndex((({validatorAccount:t})=>t.equals(new s.PublicKey(l)))),p=-1===f?n.state.validatorSystem.validatorList.count:f;return{validatorAddress:new s.PublicKey(l),duplicationFlag:d,validatorIndex:p}}))},e.selectSpecificValidator=function(t,e,n){const r=!!t.voteAddress&&n.has(t.voteAddress.toString());return(!!e.voteAddress&&n.has(e.voteAddress.toString())?e.lamports:0)-(r?t.lamports:0)}},3961:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMsolAmount=e.proportionalBN=e.unstakeNowFeeBp=void 0;const r=n(9812);function i(t,e,n){if(n.isZero())return t;const i=BigInt(t.toString())*BigInt(e.toString())/BigInt(n.toString());return new r.BN(i.toString())}e.unstakeNowFeeBp=function(t,e,n,o,s){if(s.gte(o))return e;const a=o.sub(s);if(a.gte(n))return t;{const o=e-t;return e-i(new r.BN(o),a,n).toNumber()}},e.proportionalBN=i,e.computeMsolAmount=function(t,e){const n=e.state.stakeSystem.delayedUnstakeCoolingDown.add(e.state.emergencyCoolingDown),r=e.state.validatorSystem.totalActiveBalance.add(n).add(e.state.availableReserveBalance).sub(e.state.circulatingTicketBalance);return i(t,e.state.msolSupply,r)}},8818:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.estimateTicketDateInfo=e.getTicketDateInfo=void 0;const n=27e5;e.getTicketDateInfo=function(t,e,r=Date.now()){const i=r-t.msElapsed-t.avgSlotDuration*t.slotsInEpoch*(t.epoch-e-1)+n;return{ticketDue:i<r,ticketDueDate:new Date(i)}},e.estimateTicketDateInfo=function(t,e=Date.now(),r){const i=e+t.msUntilEpochEnd,o=t.avgSlotDuration*t.slotsInEpoch,s=i+(t.slotsRemainingInEpoch<=r?o:0)+n;return{ticketDue:!1,ticketDueDate:new Date(s)}}},7952:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},4911:(t,e,n)=>{"use strict";var r=n(2571),i=n(9141),o=n(8572),s=n(5698);function a(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),d=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var y=a(Symbol.prototype.valueOf);function m(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function g(t){return"[object Map]"===l(t)}function w(t){return"[object Set]"===l(t)}function b(t){return"[object WeakMap]"===l(t)}function v(t){return"[object WeakSet]"===l(t)}function k(t){return"[object ArrayBuffer]"===l(t)}function S(t){return"undefined"!=typeof ArrayBuffer&&(k.working?k(t):t instanceof ArrayBuffer)}function A(t){return"[object DataView]"===l(t)}function _(t){return"undefined"!=typeof DataView&&(A.working?A(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=i,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||_(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},g.working="undefined"!=typeof Map&&g(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(g.working?g(t):t instanceof Map)},w.working="undefined"!=typeof Set&&w(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(w.working?w(t):t instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(b.working?b(t):t instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),e.isWeakSet=function(t){return v(t)},k.working="undefined"!=typeof ArrayBuffer&&k(new ArrayBuffer),e.isArrayBuffer=S,A.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&A(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=_;var I="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function E(t){return"[object SharedArrayBuffer]"===l(t)}function T(t){return void 0!==I&&(void 0===E.working&&(E.working=E(new I)),E.working?E(t):t instanceof I)}function x(t){return m(t,d)}function P(t){return m(t,h)}function M(t){return m(t,f)}function O(t){return c&&m(t,p)}function B(t){return u&&m(t,y)}e.isSharedArrayBuffer=T,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=x,e.isStringObject=P,e.isBooleanObject=M,e.isBigIntObject=O,e.isSymbolObject=B,e.isBoxedPrimitive=function(t){return x(t)||P(t)||M(t)||O(t)||B(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(S(t)||T(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},3585:(t,e,n)=>{var r=n(4224),i=n(9500),o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},s=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(l(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(s,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<i;a=r[++n])w(a)||!A(a)?o+=" "+a:o+=" "+l(a);return o},e.deprecate=function(t,n){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?i.trace(n):i.error(n),o=!0}return t.apply(this,arguments)}};var a={},c=/^$/;if(r.env.NODE_DEBUG){var u=r.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+u+"$","i")}function l(t,n){var r={seen:[],stylize:h};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),k(r.showHidden)&&(r.showHidden=!1),k(r.depth)&&(r.depth=2),k(r.colors)&&(r.colors=!1),k(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=d),f(r,t,r.depth)}function d(t,e){var n=l.styles[e];return n?"["+l.colors[n][0]+"m"+t+"["+l.colors[n][1]+"m":t}function h(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return v(i)||(i=f(t,i,r)),i}var o=function(t,e){if(k(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(b(e))return t.stylize(""+e,"number");if(g(e))return t.stylize(""+e,"boolean");if(w(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),I(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(E(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(S(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(I(n))return p(n)}var u,l="",d=!1,h=["{","}"];(m(n)&&(d=!0,h=["[","]"]),E(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return S(n)&&(l=" "+RegExp.prototype.toString.call(n)),_(n)&&(l=" "+Date.prototype.toUTCString.call(n)),I(n)&&(l=" "+p(n)),0!==s.length||d&&0!=n.length?r<0?S(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=d?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)M(e,String(s))?o.push(y(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(y(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return y(t,n,r,a,e,d)})),t.seen.pop(),function(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,l,h)):h[0]+l+h[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function y(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),M(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=w(n)?f(t,c.value,null):f(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),k(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function m(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function w(t){return null===t}function b(t){return"number"==typeof t}function v(t){return"string"==typeof t}function k(t){return void 0===t}function S(t){return A(t)&&"[object RegExp]"===T(t)}function A(t){return"object"==typeof t&&null!==t}function _(t){return A(t)&&"[object Date]"===T(t)}function I(t){return A(t)&&("[object Error]"===T(t)||t instanceof Error)}function E(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(c.test(t)){var n=r.pid;a[t]=function(){var r=e.format.apply(e,arguments);i.error("%s %d: %s",t,n,r)}}else a[t]=function(){};return a[t]},e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(4911),e.isArray=m,e.isBoolean=g,e.isNull=w,e.isNullOrUndefined=function(t){return null==t},e.isNumber=b,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=k,e.isRegExp=S,e.types.isRegExp=S,e.isObject=A,e.isDate=_,e.types.isDate=_,e.isError=I,e.types.isNativeError=I,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(7952);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;i.log("%s - %s",(t=new Date,n=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":"),[t.getDate(),P[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(2937),e._extend=function(t,e){if(!e||!A(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function B(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=O,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,e).then((function(t){r.nextTick(s.bind(null,null,t))}),(function(t){r.nextTick(B.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,o(t)),e}},5249:(t,e,n)=>{"use strict";var r;n.d(e,{v4:()=>d});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&s.test(t)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};const d=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return l(r)}},8572:(t,e,n)=>{"use strict";var r=n(2904),i=n(6668),o=n(3099),s=n(658),a=o("Object.prototype.toString"),c=n(3060)(),u="undefined"==typeof globalThis?n.g:globalThis,l=i(),d=o("String.prototype.slice"),h={},f=Object.getPrototypeOf;c&&s&&f&&r(l,(function(t){if("function"==typeof u[t]){var e=new u[t];if(Symbol.toStringTag in e){var n=f(e),r=s(n,Symbol.toStringTag);if(!r){var i=f(n);r=s(i,Symbol.toStringTag)}h[t]=r.get}}}));var p=n(5698);t.exports=function(t){return!!p(t)&&(c&&Symbol.toStringTag in t?function(t){var e=!1;return r(h,(function(n,r){if(!e)try{var i=n.call(t);i===r&&(e=i)}catch(t){}})),e}(t):d(a(t),8,-1))}},4785:()=>{},1450:()=>{},5898:()=>{},4087:()=>{},9391:()=>{},8608:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},9811:t=>{function e(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var s=t.apply(n,r);function a(t){e(s,i,o,a,c,"next",t)}function c(t){e(s,i,o,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},1140:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},3466:(t,e,n)=>{var r=n(6982);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},4908:t=>{function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},8853:(t,e,n)=>{var r=n(9154);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},8772:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},1621:(t,e,n)=>{var r=n(7635).default,i=n(8608);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},5359:(t,e,n)=>{var r=n(7635).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new x(r||[]);return s(o,"_invoke",{value:_(t,n,a)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p={};function y(){}function m(){}function g(){}var w={};d(w,c,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(P([])));v&&v!==n&&o.call(v,c)&&(w=v);var k=g.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(i,s,a,c){var u=f(t[i],t,s);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;s(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function _(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=I(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function I(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:M}}function M(){return{value:void 0,done:!0}}return m.prototype=g,s(k,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:m,configurable:!0}),m.displayName=d(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(A.prototype),d(A.prototype,u,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new A(h(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(k),d(k,l,"Generator"),d(k,c,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},9154:t=>{function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},3299:(t,e,n)=>{var r=n(7635).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},6982:(t,e,n)=>{var r=n(7635).default,i=n(3299);t.exports=function(t){var e=i(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},7635:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},6534:(t,e,n)=>{var r=n(5359)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},4987:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NativeStakingConfig=e.DEFAULT_PREPARE_FOR_REVOKE_COST=e.NATIVE_STAKING_API_URL_DEV=e.DEFAULT_NATIVE_STAKING_API_URL=e.DEFAULT_BENEFICIARY=e.DEFAULT_EXIT_AUTHORITY=e.DEFAULT_STAKE_AUTHORITY=void 0;const i=n(9243),o=r(n(9098));e.DEFAULT_STAKE_AUTHORITY=new i.PublicKey("stWirqFCf2Uts1JBL1Jsd3r6VBWhgnpdPxCTe1MFjrq"),e.DEFAULT_EXIT_AUTHORITY=new i.PublicKey("ex9CfkBZZd6Nv9XdnoDmmB45ymbu4arXVk7g5pWnt3N"),e.DEFAULT_BENEFICIARY=new i.PublicKey("opNS8ENpEMWdXcJUgJCsJTDp7arTXayoBEeBUg6UezP"),e.DEFAULT_NATIVE_STAKING_API_URL="https://native-staking.marinade.finance",e.NATIVE_STAKING_API_URL_DEV="https://native-staking-dev.marinade.finance",e.DEFAULT_PREPARE_FOR_REVOKE_COST=new o.default("1000000");e.NativeStakingConfig=class{constructor(t={}){this.connection=new i.Connection("http://127.0.0.1:8899","confirmed"),this.stakeAuthority=e.DEFAULT_STAKE_AUTHORITY,this.exitAuthority=e.DEFAULT_EXIT_AUTHORITY,this.nativeStakingApiUrl=e.DEFAULT_NATIVE_STAKING_API_URL,this.beneficiary=e.DEFAULT_BENEFICIARY,this.prepareForRevokeCost=e.DEFAULT_PREPARE_FOR_REVOKE_COST,Object.assign(this,t)}}},2221:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(4987),e),i(n(6246),e),i(n(4567),e),i(n(9073),e)},4567:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.orderMessagesToStdin=void 0;e.orderMessagesToStdin=t=>t.map((t=>JSON.stringify(t))).join("\n")},6246:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.NativeStakingSDK=void 0;const i=n(9243),o=n(4987),s=n(9073),a=n(2465),c=2282880,u=(t,e,n)=>{const r={signature:e,user:t.toBase58()};return n&&(r.amount=n.toString()),r},l=t=>({user:t.toBase58()});e.NativeStakingSDK=class{constructor(t=new o.NativeStakingConfig){this.config=t,this.getStakeAccounts=t=>r(this,void 0,void 0,(function*(){const e=yield(0,s.getStakeAccounts)(this.config.connection,t,this.config.stakeAuthority),n=yield(0,s.getStakeAccounts)(this.config.connection,t,this.config.exitAuthority),{epoch:r}=yield this.config.connection.getEpochInfo();return{all:[...e,...n],staking:[...e],preparingToRevoke:n.filter((({account:t})=>!(0,s.filterReadyToRevoke)(r,t))),readyToRevoke:n.filter((({account:t})=>(0,s.filterReadyToRevoke)(r,t)))}})),this.getFutureStakeDistribution=(t=null)=>r(this,void 0,void 0,(function*(){return{stake:yield(0,s.getFutureStakeDistribution)(this.config.connection,t,this.config.stakeAuthority),exit:yield(0,s.getFutureStakeDistribution)(this.config.connection,t,this.config.exitAuthority)}})),this.getFutureStakeDistributionPretty=(t=null)=>r(this,void 0,void 0,(function*(){const{stake:e,exit:n}=yield this.getFutureStakeDistribution(t);return`-- STAKE --\n${(0,s.formatStakeDistribution)(e)}\n\n-- EXIT --\n${(0,s.formatStakeDistribution)(n)}`})),this.buildRebalanceOrderMessage=t=>({Rebalance:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58()}}),this.buildRebalanceOrderWithProxyMessage=(t,e,n)=>({Rebalance:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58(),stake_proxy:{root:e.toBase58(),operator:n.toBase58()}}}),this.buildMergeOrderMessage=t=>({Merge:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58()}}),this.buildMergeOrderWithProxyMessage=(t,e,n)=>({Merge:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58(),stake_proxy:{root:e.toBase58(),operator:n.toBase58()}}}),this.buildClaimExtraBalanceOrderMessage=t=>({ClaimExtraBalance:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58()}}),this.buildExitAllOrderMessage=t=>({Exit:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58(),exit_authority:this.config.exitAuthority.toBase58(),amount:"All"}}),this.buildExitPartOrderMessage=(t,e)=>({Exit:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58(),exit_authority:this.config.exitAuthority.toBase58(),amount:{Part:e.toNumber()}}}),this.buildExitPartOrderWithProxyMessage=(t,e,n,r)=>({Exit:{stake_authority:this.config.stakeAuthority.toBase58(),withdraw_authority:t.toBase58(),exit_authority:this.config.exitAuthority.toBase58(),amount:{Part:e.toNumber()},stake_proxy:{root:n.toBase58(),operator:r.toBase58()}}})}buildCreateAuthorizedStakeInstructions(t,e,n=i.Keypair.generate()){if(e.ltn(c))throw new Error("The amount must be at least 2282880!");return{createAuthorizedStake:i.StakeProgram.createAccount({fromPubkey:t,stakePubkey:n.publicKey,authorized:new i.Authorized(this.config.stakeAuthority,t),lamports:e.toNumber()}).instructions,stakeKeypair:n}}buildAuthorizeInstructions(t,e){return(0,s.buildAuthorizeStakerInstructions)(e,t,this.config.stakeAuthority)}initPrepareForRevoke(t,e){return r(this,void 0,void 0,(function*(){const n={PrepareForRevoke:{user:t.toBase58(),amount:null==e?void 0:e.toString()}};return{payFees:[i.SystemProgram.transfer({fromPubkey:t,toPubkey:this.config.beneficiary,lamports:this.config.prepareForRevokeCost.toNumber()}),(0,a.createMemoInstruction)(JSON.stringify(n))],onPaid:n=>r(this,void 0,void 0,(function*(){return yield this.callPrepareForRevoke(t,n,e)}))}}))}callPrepareForRevoke(t,e,n){return r(this,void 0,void 0,(function*(){const r=yield fetch(`${this.config.nativeStakingApiUrl}/v1/prepare-for-revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u(t,e,n))});return yield r.json()}))}callRebalanceHint(t){return r(this,void 0,void 0,(function*(){const e=yield fetch(`${this.config.nativeStakingApiUrl}/v1/rebalance-hint`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l(t))});return yield e.json()}))}fetchRewards(t){return r(this,void 0,void 0,(function*(){const e=yield fetch(`${this.config.nativeStakingApiUrl}/v1/user-rewards?user=${encodeURIComponent(t.toBase58())}`);return yield e.json()}))}buildRevokeInstructions(t,e){return(0,s.buildAuthorizeStakerInstructions)(e,t,t)}}},9073:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.buildAuthorizeStakerInstructions=e.formatStakeDistribution=e.getFutureStakeDistribution=e.filterReadyToRevoke=e.getStakeAccounts=e.lamportsToSol=e.tokenBalanceToNumber=e.withDecimalPoint=void 0;const o=n(9243),s=i(n(9098)),a="18446744073709551615";e.withDecimalPoint=(t,e)=>{const n=t.toString().padStart(e+1,"0"),r=n.length;return n.slice(0,r-e)+"."+n.slice(-e)};e.tokenBalanceToNumber=(t,n)=>(0,e.withDecimalPoint)(t,n);e.lamportsToSol=t=>(0,e.tokenBalanceToNumber)(t,9);e.getStakeAccounts=(t,e,n)=>r(void 0,void 0,void 0,(function*(){if(!n&&!e)throw new Error("At least one authority must be provided");const r=[];n&&r.push({memcmp:{bytes:n.toBase58(),offset:12}}),e&&r.push({memcmp:{bytes:e.toBase58(),offset:44}});return yield t.getParsedProgramAccounts(o.StakeProgram.programId,{filters:r})}));e.filterReadyToRevoke=(t,e)=>{var n,r,i;const o=null===(i=null===(r=null===(n=e.data.parsed)||void 0===n?void 0:n.info)||void 0===r?void 0:r.stake)||void 0===i?void 0:i.delegation;if(!o)return!0;const s=o.activationEpoch===t.toString(),c=!(o.deactivationEpoch===t.toString())&&a!==o.deactivationEpoch;return s||c};e.getFutureStakeDistribution=(t,n,i)=>r(void 0,void 0,void 0,(function*(){var r,o,c,u,l,d;const h=yield(0,e.getStakeAccounts)(t,n,i),f=(yield t.getEpochInfo()).epoch,p={},y="NONE",m=[];for(const{account:t}of h){const e=null===(u=null===(c=null===(o=null===(r=t.data.parsed)||void 0===r?void 0:r.info)||void 0===o?void 0:o.stake)||void 0===c?void 0:c.delegation)||void 0===u?void 0:u.voter;e&&m.push(e)}m.sort();for(const t of[y,...m])p[t]={balance:new s.default(0),stake:new s.default(0)};for(const{account:{data:{parsed:t},lamports:e},pubkey:n}of h){const n=null===(d=null===(l=null==t?void 0:t.info)||void 0===l?void 0:l.stake)||void 0===d?void 0:d.delegation,r=new s.default(e.toString());if(n){const t=new s.default(n.stake),e=n.deactivationEpoch===f.toString(),i=n.activationEpoch===f.toString()&&!e,o=!e&&a!==n.deactivationEpoch,c=!i&&!e&&!o,u=n.voter;c||i?(p[u].balance=p[u].balance.add(r),p[u].stake=p[u].stake.add(t)):(e||o)&&(p[y].balance=p[y].balance.add(r))}else p[y].balance=p[y].balance.add(r)}return{validatorsDelegation:p}}));e.formatStakeDistribution=t=>{const n=[],r=Object.entries(t.validatorsDelegation);r.sort((([t,e],[n,r])=>{const i=r.balance.cmp(e.balance);if(0!==i)return i;const o=r.stake.cmp(e.stake);return 0!==o?o:t.localeCompare(n)}));for(const[t,{balance:i,stake:o}]of r)n.push(`${t.padEnd(44)} balance: ${(0,e.lamportsToSol)(i).padStart(16)} stake: ${(0,e.lamportsToSol)(o).padStart(16)}`);return n.join("\n")};e.buildAuthorizeStakerInstructions=(t,e,n)=>t.flatMap((t=>o.StakeProgram.authorize({stakePubkey:t,authorizedPubkey:e,newAuthorizedPubkey:n,stakeAuthorizationType:{index:0}}).instructions))},4997:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeDecode=void 0;e.encodeDecode=t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)})},8687:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.u256be=e.u256=e.u192be=e.u192=e.u128be=e.u128=e.u64be=e.u64=e.bigIntBE=e.bigInt=void 0;const i=n(4639),o=n(3477),s=n(4997);e.bigInt=t=>e=>{const n=(0,i.blob)(t,e),{encode:a,decode:c}=(0,s.encodeDecode)(n),u=n;return u.decode=(t,e)=>{const n=c(t,e);return(0,o.toBigIntLE)(r.from(n))},u.encode=(e,n,r)=>{const i=(0,o.toBufferLE)(e,t);return a(i,n,r)},u};e.bigIntBE=t=>e=>{const n=(0,i.blob)(t,e),{encode:a,decode:c}=(0,s.encodeDecode)(n),u=n;return u.decode=(t,e)=>{const n=c(t,e);return(0,o.toBigIntBE)(r.from(n))},u.encode=(e,n,r)=>{const i=(0,o.toBufferBE)(e,t);return a(i,n,r)},u},e.u64=(0,e.bigInt)(8),e.u64be=(0,e.bigIntBE)(8),e.u128=(0,e.bigInt)(16),e.u128be=(0,e.bigIntBE)(16),e.u192=(0,e.bigInt)(24),e.u192be=(0,e.bigIntBE)(24),e.u256=(0,e.bigInt)(32),e.u256be=(0,e.bigIntBE)(32)},6985:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decimal=e.WAD=void 0;const i=r(n(1924)),o=n(4997),s=n(8687);e.WAD=new i.default("1e+18");e.decimal=t=>{const n=(0,s.u128)(t),{encode:r,decode:a}=(0,o.encodeDecode)(n),c=n;return c.decode=(t,n)=>{const r=a(t,n).toString();return new i.default(r).div(e.WAD)},c.encode=(t,n,i)=>{const o=BigInt(t.times(e.WAD).integerValue().toString());return r(o,n,i)},c}},3629:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(4997),e),i(n(8687),e),i(n(6985),e),i(n(6885),e),i(n(1211),e)},6885:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bool=void 0;const r=n(4639),i=n(4997);e.bool=t=>{const e=(0,r.u8)(t),{encode:n,decode:o}=(0,i.encodeDecode)(e),s=e;return s.decode=(t,e)=>!!o(t,e),s.encode=(t,e,r)=>{const i=Number(t);return n(i,e,r)},s}},1211:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.publicKey=void 0;const r=n(4639),i=n(9243),o=n(4997);e.publicKey=t=>{const e=(0,r.blob)(32,t),{encode:n,decode:s}=(0,o.encodeDecode)(e),a=e;return a.decode=(t,e)=>{const n=s(t,e);return new i.PublicKey(n)},a.encode=(t,e,r)=>{const i=t.toBuffer();return n(i,e,r)},a}},2465:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMemoInstruction=e.MEMO_PROGRAM_ID=void 0;const r=n(5872),i=n(9243);e.MEMO_PROGRAM_ID=new i.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),e.createMemoInstruction=function(t,n){const o=null==n?[]:n.map((function(t){return{pubkey:t,isSigner:!0,isWritable:!1}}));return new i.TransactionInstruction({keys:o,programId:e.MEMO_PROGRAM_ID,data:r.Buffer.from(t,"utf8")})}},9206:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.amountToUiAmount=void 0;const o=n(9243),s=n(6295),a=n(6963);e.amountToUiAmount=function(t,e,n,c,u=s.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new o.Transaction).add((0,a.createAmountToUiAmountInstruction)(n,c,u)),{returnData:s,err:l}=(yield t.simulateTransaction(i,[e],!1)).value;return(null==s?void 0:s.data)?r.from(s.data[0],s.data[1]).toString("utf-8"):l}))}},2473:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.approve=void 0;const i=n(9243),o=n(6295),s=n(8112),a=n(6761);e.approve=function(t,e,n,c,u,l,d=[],h,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,d),p=(new i.Transaction).add((0,s.createApproveInstruction)(n,c,r,l,d,f));return yield(0,i.sendAndConfirmTransaction)(t,p,[e,...o],h)}))}},8902:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.approveChecked=void 0;const i=n(9243),o=n(6295),s=n(995),a=n(6761);e.approveChecked=function(t,e,n,c,u,l,d,h,f=[],p,y=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(l,f),m=(new i.Transaction).add((0,s.createApproveCheckedInstruction)(c,n,u,r,d,h,f,y));return yield(0,i.sendAndConfirmTransaction)(t,m,[e,...o],p)}))}},8757:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.burn=void 0;const i=n(9243),o=n(6295),s=n(4073),a=n(6761);e.burn=function(t,e,n,c,u,l,d=[],h,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,d),p=(new i.Transaction).add((0,s.createBurnInstruction)(n,c,r,l,d,f));return yield(0,i.sendAndConfirmTransaction)(t,p,[e,...o],h)}))}},516:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.burnChecked=void 0;const i=n(9243),o=n(6295),s=n(7607),a=n(6761);e.burnChecked=function(t,e,n,c,u,l,d,h=[],f,p=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,h),y=(new i.Transaction).add((0,s.createBurnCheckedInstruction)(n,c,r,l,d,h,p));return yield(0,i.sendAndConfirmTransaction)(t,y,[e,...o],f)}))}},6084:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.closeAccount=void 0;const i=n(9243),o=n(6295),s=n(4474),a=n(6761);e.closeAccount=function(t,e,n,c,u,l=[],d,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,l),f=(new i.Transaction).add((0,s.createCloseAccountInstruction)(n,c,r,l,h));return yield(0,i.sendAndConfirmTransaction)(t,f,[e,...o],d)}))}},330:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createAccount=void 0;const i=n(9243),o=n(6295),s=n(3899),a=n(8979),c=n(839),u=n(7538);e.createAccount=function(t,e,n,l,d,h,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){if(!d)return yield(0,u.createAssociatedTokenAccount)(t,e,n,l,h,f);const r=yield(0,c.getMint)(t,n,null==h?void 0:h.commitment,f),o=(0,s.getAccountLenForMint)(r),p=yield t.getMinimumBalanceForRentExemption(o),y=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:d.publicKey,space:o,lamports:p,programId:f}),(0,a.createInitializeAccountInstruction)(d.publicKey,n,l,f));return yield(0,i.sendAndConfirmTransaction)(t,y,[e,d],h),d.publicKey}))}},7538:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createAssociatedTokenAccount=void 0;const i=n(9243),o=n(6295),s=n(2840),a=n(839);e.createAssociatedTokenAccount=function(t,e,n,c,u,l=o.TOKEN_PROGRAM_ID,d=o.ASSOCIATED_TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,a.getAssociatedTokenAddressSync)(n,c,!1,l,d),o=(new i.Transaction).add((0,s.createAssociatedTokenAccountInstruction)(e.publicKey,r,c,n,l,d));return yield(0,i.sendAndConfirmTransaction)(t,o,[e],u),r}))}},6916:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createAssociatedTokenAccountIdempotent=void 0;const i=n(9243),o=n(6295),s=n(2840),a=n(839);e.createAssociatedTokenAccountIdempotent=function(t,e,n,c,u,l=o.TOKEN_PROGRAM_ID,d=o.ASSOCIATED_TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,a.getAssociatedTokenAddressSync)(n,c,!1,l,d),o=(new i.Transaction).add((0,s.createAssociatedTokenAccountIdempotentInstruction)(e.publicKey,r,c,n,l,d));return yield(0,i.sendAndConfirmTransaction)(t,o,[e],u),r}))}},5738:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createMint=void 0;const i=n(9243),o=n(6295),s=n(3884),a=n(839);e.createMint=function(t,e,n,c,u,l=i.Keypair.generate(),d,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=yield(0,a.getMinimumBalanceForRentExemptMint)(t),o=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:l.publicKey,space:a.MINT_SIZE,lamports:r,programId:h}),(0,s.createInitializeMint2Instruction)(l.publicKey,u,n,c,h));return yield(0,i.sendAndConfirmTransaction)(t,o,[e,l],d),l.publicKey}))}},7322:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createMultisig=void 0;const i=n(9243),o=n(6295),s=n(7416),a=n(711);e.createMultisig=function(t,e,n,c,u=i.Keypair.generate(),l,d=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=yield(0,a.getMinimumBalanceForRentExemptMultisig)(t),o=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:u.publicKey,space:a.MULTISIG_SIZE,lamports:r,programId:d}),(0,s.createInitializeMultisigInstruction)(u.publicKey,n,c,d));return yield(0,i.sendAndConfirmTransaction)(t,o,[e,u],l),u.publicKey}))}},8806:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createNativeMint=void 0;const i=n(9243),o=n(6295),s=n(5578);e.createNativeMint=function(t,e,n,a=o.NATIVE_MINT_2022,c=o.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,s.createCreateNativeMintInstruction)(e.publicKey,a,c));yield(0,i.sendAndConfirmTransaction)(t,r,[e],n)}))}},5125:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createWrappedNativeAccount=void 0;const i=n(9243),o=n(6295),s=n(2840),a=n(8979),c=n(6461),u=n(2544),l=n(839),d=n(330);e.createWrappedNativeAccount=function(t,e,n,h,f,p,y=o.TOKEN_PROGRAM_ID,m=o.NATIVE_MINT){return r(this,void 0,void 0,(function*(){if(!h)return yield(0,d.createAccount)(t,e,m,n,f,p,y);if(!f){const r=(0,l.getAssociatedTokenAddressSync)(m,n,!1,y,o.ASSOCIATED_TOKEN_PROGRAM_ID),a=(new i.Transaction).add((0,s.createAssociatedTokenAccountInstruction)(e.publicKey,r,n,m,y,o.ASSOCIATED_TOKEN_PROGRAM_ID),i.SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:r,lamports:h}),(0,c.createSyncNativeInstruction)(r,y));return yield(0,i.sendAndConfirmTransaction)(t,a,[e],p),r}const r=yield(0,u.getMinimumBalanceForRentExemptAccount)(t),g=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:f.publicKey,space:u.ACCOUNT_SIZE,lamports:r,programId:y}),i.SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:f.publicKey,lamports:h}),(0,a.createInitializeAccountInstruction)(f.publicKey,m,n,y));return yield(0,i.sendAndConfirmTransaction)(t,g,[e,f],p),f.publicKey}))}},8575:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.freezeAccount=void 0;const i=n(9243),o=n(6295),s=n(764),a=n(6761);e.freezeAccount=function(t,e,n,c,u,l=[],d,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,l),f=(new i.Transaction).add((0,s.createFreezeAccountInstruction)(n,c,r,l,h));return yield(0,i.sendAndConfirmTransaction)(t,f,[e,...o],d)}))}},8767:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getOrCreateAssociatedTokenAccount=void 0;const i=n(9243),o=n(6295),s=n(1898),a=n(2840),c=n(2544),u=n(839);e.getOrCreateAssociatedTokenAccount=function(t,e,n,l,d=!1,h,f,p=o.TOKEN_PROGRAM_ID,y=o.ASSOCIATED_TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,u.getAssociatedTokenAddressSync)(n,l,d,p,y);let o;try{o=yield(0,c.getAccount)(t,r,h,p)}catch(u){if(!(u instanceof s.TokenAccountNotFoundError||u instanceof s.TokenInvalidAccountOwnerError))throw u;try{const o=(new i.Transaction).add((0,a.createAssociatedTokenAccountInstruction)(e.publicKey,r,l,n,p,y));yield(0,i.sendAndConfirmTransaction)(t,o,[e],f)}catch(t){}o=yield(0,c.getAccount)(t,r,h,p)}if(!o.mint.equals(n))throw new s.TokenInvalidMintError;if(!o.owner.equals(l))throw new s.TokenInvalidOwnerError;return o}))}},6613:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(9206),e),i(n(2473),e),i(n(8902),e),i(n(8757),e),i(n(516),e),i(n(6084),e),i(n(330),e),i(n(7538),e),i(n(6916),e),i(n(5738),e),i(n(7322),e),i(n(8806),e),i(n(5125),e),i(n(8575),e),i(n(8767),e),i(n(2270),e),i(n(7410),e),i(n(7310),e),i(n(9136),e),i(n(5512),e),i(n(8674),e),i(n(1776),e),i(n(7812),e),i(n(4146),e)},6761:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSigners=void 0;const r=n(9243);e.getSigners=function(t,e){return t instanceof r.PublicKey?[t,e]:[t.publicKey,[t]]}},2270:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.mintTo=void 0;const i=n(9243),o=n(6295),s=n(6744),a=n(6761);e.mintTo=function(t,e,n,c,u,l,d=[],h,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,d),p=(new i.Transaction).add((0,s.createMintToInstruction)(n,c,r,l,d,f));return yield(0,i.sendAndConfirmTransaction)(t,p,[e,...o],h)}))}},7410:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.mintToChecked=void 0;const i=n(9243),o=n(6295),s=n(28),a=n(6761);e.mintToChecked=function(t,e,n,c,u,l,d,h=[],f,p=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,h),y=(new i.Transaction).add((0,s.createMintToCheckedInstruction)(n,c,r,l,d,h,p));return yield(0,i.sendAndConfirmTransaction)(t,y,[e,...o],f)}))}},7310:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.revoke=void 0;const i=n(9243),o=n(6295),s=n(7395),a=n(6761);e.revoke=function(t,e,n,c,u=[],l,d=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(c,u),h=(new i.Transaction).add((0,s.createRevokeInstruction)(n,r,u,d));return yield(0,i.sendAndConfirmTransaction)(t,h,[e,...o],l)}))}},9136:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.setAuthority=void 0;const i=n(9243),o=n(6295),s=n(9278),a=n(6761);e.setAuthority=function(t,e,n,c,u,l,d=[],h,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(c,d),p=(new i.Transaction).add((0,s.createSetAuthorityInstruction)(n,r,u,l,d,f));return yield(0,i.sendAndConfirmTransaction)(t,p,[e,...o],h)}))}},5512:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.syncNative=void 0;const i=n(9243),o=n(6295),s=n(6461);e.syncNative=function(t,e,n,a,c=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,s.createSyncNativeInstruction)(n,c));return yield(0,i.sendAndConfirmTransaction)(t,r,[e],a)}))}},8674:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.thawAccount=void 0;const i=n(9243),o=n(6295),s=n(5703),a=n(6761);e.thawAccount=function(t,e,n,c,u,l=[],d,h=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,l),f=(new i.Transaction).add((0,s.createThawAccountInstruction)(n,c,r,l,h));return yield(0,i.sendAndConfirmTransaction)(t,f,[e,...o],d)}))}},1776:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=void 0;const i=n(9243),o=n(6295),s=n(22),a=n(6761);e.transfer=function(t,e,n,c,u,l,d=[],h,f=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(u,d),p=(new i.Transaction).add((0,s.createTransferInstruction)(n,c,r,l,d,f));return yield(0,i.sendAndConfirmTransaction)(t,p,[e,...o],h)}))}},7812:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.transferChecked=void 0;const i=n(9243),o=n(6295),s=n(4401),a=n(6761);e.transferChecked=function(t,e,n,c,u,l,d,h,f=[],p,y=o.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,o]=(0,a.getSigners)(l,f),m=(new i.Transaction).add((0,s.createTransferCheckedInstruction)(n,c,u,r,d,h,f,y));return yield(0,i.sendAndConfirmTransaction)(t,m,[e,...o],p)}))}},4146:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.uiAmountToAmount=void 0;const o=n(3629),s=n(9243),a=n(6295),c=n(536);e.uiAmountToAmount=function(t,e,n,u,l=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,c.createUiAmountToAmountInstruction)(n,u,l)),{returnData:a,err:d}=(yield t.simulateTransaction(i,[e],!1)).value;if(a){const t=r.from(a.data[0],a.data[1]);return(0,o.u64)().decode(t)}return d}))}},6295:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.programSupportsExtensions=e.NATIVE_MINT_2022=e.NATIVE_MINT=e.ASSOCIATED_TOKEN_PROGRAM_ID=e.TOKEN_2022_PROGRAM_ID=e.TOKEN_PROGRAM_ID=void 0;const r=n(9243);e.TOKEN_PROGRAM_ID=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),e.TOKEN_2022_PROGRAM_ID=new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),e.ASSOCIATED_TOKEN_PROGRAM_ID=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),e.NATIVE_MINT=new r.PublicKey("So11111111111111111111111111111111111111112"),e.NATIVE_MINT_2022=new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.programSupportsExtensions=function(t){return t!==e.TOKEN_PROGRAM_ID}},1898:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenUnsupportedInstructionError=e.TokenInvalidInstructionTypeError=e.TokenInvalidInstructionDataError=e.TokenInvalidInstructionKeysError=e.TokenInvalidInstructionProgramError=e.TokenOwnerOffCurveError=e.TokenInvalidOwnerError=e.TokenInvalidMintError=e.TokenInvalidAccountSizeError=e.TokenInvalidAccountOwnerError=e.TokenInvalidAccountError=e.TokenAccountNotFoundError=e.TokenError=void 0;class n extends Error{constructor(t){super(t)}}e.TokenError=n;e.TokenAccountNotFoundError=class extends n{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};e.TokenInvalidAccountError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};e.TokenInvalidAccountOwnerError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};e.TokenInvalidAccountSizeError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};e.TokenInvalidMintError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};e.TokenInvalidOwnerError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};e.TokenOwnerOffCurveError=class extends n{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};e.TokenInvalidInstructionProgramError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};e.TokenInvalidInstructionKeysError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};e.TokenInvalidInstructionDataError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};e.TokenInvalidInstructionTypeError=class extends n{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};e.TokenUnsupportedInstructionError=class extends n{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}},9314:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ACCOUNT_TYPE_SIZE=e.AccountType=void 0,function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"}(e.AccountType||(e.AccountType={})),e.ACCOUNT_TYPE_SIZE=1},1208:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.disableCpiGuard=e.enableCpiGuard=void 0;const i=n(9243),o=n(6761),s=n(6295),a=n(2496);e.enableCpiGuard=function(t,e,n,c,u=[],l,d=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),h=(new i.Transaction).add((0,a.createEnableCpiGuardInstruction)(n,r,s,d));return yield(0,i.sendAndConfirmTransaction)(t,h,[e,...s],l)}))},e.disableCpiGuard=function(t,e,n,c,u=[],l,d=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),h=(new i.Transaction).add((0,a.createDisableCpiGuardInstruction)(n,r,s,d));return yield(0,i.sendAndConfirmTransaction)(t,h,[e,...s],l)}))}},6945:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(1208),e),i(n(2496),e),i(n(4925),e)},2496:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableCpiGuardInstruction=e.createEnableCpiGuardInstruction=e.cpiGuardInstructionData=e.CpiGuardInstruction=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);var l;function d(t,n,i,l,d){if(!(0,s.programSupportsExtensions)(d))throw new a.TokenUnsupportedInstructionError;const h=(0,c.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],i,l),f=r.alloc(e.cpiGuardInstructionData.span);return e.cpiGuardInstructionData.encode({instruction:u.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:t},f),new o.TransactionInstruction({keys:h,programId:d,data:f})}!function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"}(l=e.CpiGuardInstruction||(e.CpiGuardInstruction={})),e.cpiGuardInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("cpiGuardInstruction")]),e.createEnableCpiGuardInstruction=function(t,e,n=[],r=s.TOKEN_2022_PROGRAM_ID){return d(l.Enable,t,e,n,r)},e.createDisableCpiGuardInstruction=function(t,e,n=[],r=s.TOKEN_2022_PROGRAM_ID){return d(l.Disable,t,e,n,r)}},4925:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCpiGuard=e.CPI_GUARD_SIZE=e.CpiGuardLayout=void 0;const r=n(4639),i=n(3629),o=n(3899);e.CpiGuardLayout=(0,r.struct)([(0,i.bool)("lockCpi")]),e.CPI_GUARD_SIZE=e.CpiGuardLayout.span,e.getCpiGuard=function(t){const n=(0,o.getExtensionData)(o.ExtensionType.CpiGuard,t.tlvData);return null!==n?e.CpiGuardLayout.decode(n):null}},6825:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.updateDefaultAccountState=e.initializeDefaultAccountState=void 0;const i=n(9243),o=n(6761),s=n(6295),a=n(2542);e.initializeDefaultAccountState=function(t,e,n,o,c,u=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,a.createInitializeDefaultAccountStateInstruction)(n,o,u));return yield(0,i.sendAndConfirmTransaction)(t,r,[e],c)}))},e.updateDefaultAccountState=function(t,e,n,c,u,l=[],d,h=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(u,l),f=(new i.Transaction).add((0,a.createUpdateDefaultAccountStateInstruction)(n,c,r,s,h));return yield(0,i.sendAndConfirmTransaction)(t,f,[e,...s],d)}))}},7832:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(6825),e),i(n(2542),e),i(n(5722),e)},2542:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateDefaultAccountStateInstruction=e.createInitializeDefaultAccountStateInstruction=e.defaultAccountStateInstructionData=e.DefaultAccountStateInstruction=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);var l;!function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"}(l=e.DefaultAccountStateInstruction||(e.DefaultAccountStateInstruction={})),e.defaultAccountStateInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("defaultAccountStateInstruction"),(0,i.u8)("accountState")]),e.createInitializeDefaultAccountStateInstruction=function(t,n,i=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(i))throw new a.TokenUnsupportedInstructionError;const c=[{pubkey:t,isSigner:!1,isWritable:!0}],d=r.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:u.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:l.Initialize,accountState:n},d),new o.TransactionInstruction({keys:c,programId:i,data:d})},e.createUpdateDefaultAccountStateInstruction=function(t,n,i,d=[],h=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(h))throw new a.TokenUnsupportedInstructionError;const f=(0,c.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],i,d),p=r.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:u.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:l.Update,accountState:n},p),new o.TransactionInstruction({keys:f,programId:h,data:p})}},5722:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultAccountState=e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout=void 0;const r=n(4639),i=n(3899);e.DefaultAccountStateLayout=(0,r.struct)([(0,r.u8)("state")]),e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout.span,e.getDefaultAccountState=function(t){const n=(0,i.getExtensionData)(i.ExtensionType.DefaultAccountState,t.tlvData);return null!==n?e.DefaultAccountStateLayout.decode(n):null}},3899:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAccountLenForMint=e.getExtensionTypes=e.getExtensionData=e.getAccountLen=e.getMintLen=e.getAccountTypeOfMintType=e.isAccountExtension=e.isMintExtension=e.getTypeLen=e.LENGTH_SIZE=e.TYPE_SIZE=e.ExtensionType=void 0;const r=n(2544),i=n(839),o=n(711),s=n(9314),a=n(6945),c=n(7832),u=n(5878),l=n(7678),d=n(8364),h=n(3690),f=n(3559),p=n(3010),y=n(7609);var m;function g(t){switch(t){case m.Uninitialized:return 0;case m.TransferFeeConfig:return y.TRANSFER_FEE_CONFIG_SIZE;case m.TransferFeeAmount:return y.TRANSFER_FEE_AMOUNT_SIZE;case m.MintCloseAuthority:return h.MINT_CLOSE_AUTHORITY_SIZE;case m.ConfidentialTransferMint:return 97;case m.ConfidentialTransferAccount:return 286;case m.CpiGuard:return a.CPI_GUARD_SIZE;case m.DefaultAccountState:return c.DEFAULT_ACCOUNT_STATE_SIZE;case m.ImmutableOwner:return u.IMMUTABLE_OWNER_SIZE;case m.MemoTransfer:return d.MEMO_TRANSFER_SIZE;case m.NonTransferable:return f.NON_TRANSFERABLE_SIZE;case m.InterestBearingConfig:return l.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case m.PermanentDelegate:return p.PERMANENT_DELEGATE_SIZE;case m.NonTransferableAccount:return f.NON_TRANSFERABLE_ACCOUNT_SIZE;default:throw Error(`Unknown extension type: ${t}`)}}function w(t){switch(t){case m.TransferFeeConfig:return m.TransferFeeAmount;case m.ConfidentialTransferMint:return m.ConfidentialTransferAccount;case m.NonTransferable:return m.NonTransferableAccount;case m.TransferFeeAmount:case m.ConfidentialTransferAccount:case m.CpiGuard:case m.DefaultAccountState:case m.ImmutableOwner:case m.MemoTransfer:case m.MintCloseAuthority:case m.Uninitialized:case m.InterestBearingConfig:case m.PermanentDelegate:case m.NonTransferableAccount:return m.Uninitialized}}function b(t,n){if(0===t.length)return n;{const n=r.ACCOUNT_SIZE+s.ACCOUNT_TYPE_SIZE+t.filter(((e,n)=>n===t.indexOf(e))).map((t=>g(t)+e.TYPE_SIZE+e.LENGTH_SIZE)).reduce(((t,e)=>t+e));return n===o.MULTISIG_SIZE?n+e.TYPE_SIZE:n}}function v(t){return b(t,r.ACCOUNT_SIZE)}function k(t){const n=[];let r=0;for(;r<t.length;){const i=t.readUInt16LE(r);n.push(i);const o=t.readUInt16LE(r+e.TYPE_SIZE);r+=e.TYPE_SIZE+e.LENGTH_SIZE+o}return n}!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount"}(m=e.ExtensionType||(e.ExtensionType={})),e.TYPE_SIZE=2,e.LENGTH_SIZE=2,e.getTypeLen=g,e.isMintExtension=function(t){switch(t){case m.TransferFeeConfig:case m.MintCloseAuthority:case m.ConfidentialTransferMint:case m.DefaultAccountState:case m.NonTransferable:case m.InterestBearingConfig:case m.PermanentDelegate:return!0;case m.Uninitialized:case m.TransferFeeAmount:case m.ConfidentialTransferAccount:case m.ImmutableOwner:case m.MemoTransfer:case m.CpiGuard:case m.NonTransferableAccount:return!1;default:throw Error(`Unknown extension type: ${t}`)}},e.isAccountExtension=function(t){switch(t){case m.TransferFeeAmount:case m.ConfidentialTransferAccount:case m.ImmutableOwner:case m.MemoTransfer:case m.CpiGuard:case m.NonTransferableAccount:return!0;case m.Uninitialized:case m.TransferFeeConfig:case m.MintCloseAuthority:case m.ConfidentialTransferMint:case m.DefaultAccountState:case m.NonTransferable:case m.InterestBearingConfig:case m.PermanentDelegate:return!1;default:throw Error(`Unknown extension type: ${t}`)}},e.getAccountTypeOfMintType=w,e.getMintLen=function(t){return b(t,i.MINT_SIZE)},e.getAccountLen=v,e.getExtensionData=function(t,n){let r=0;for(;r+e.TYPE_SIZE+e.LENGTH_SIZE<=n.length;){const i=n.readUInt16LE(r),o=n.readUInt16LE(r+e.TYPE_SIZE),s=r+e.TYPE_SIZE+e.LENGTH_SIZE;if(i==t)return n.slice(s,s+o);r=s+o}return null},e.getExtensionTypes=k,e.getAccountLenForMint=function(t){return v(k(t.tlvData).map(w))}},5878:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getImmutableOwner=e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout=void 0;const r=n(4639),i=n(3899);e.ImmutableOwnerLayout=(0,r.struct)([]),e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout.span,e.getImmutableOwner=function(t){const n=(0,i.getExtensionData)(i.ExtensionType.ImmutableOwner,t.tlvData);return null!==n?e.ImmutableOwnerLayout.decode(n):null}},8593:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(9314),e),i(n(6945),e),i(n(7832),e),i(n(3899),e),i(n(5878),e),i(n(5284),e),i(n(8364),e),i(n(3690),e),i(n(3559),e),i(n(7609),e),i(n(3010),e)},2125:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.updateRateInterestBearingMint=e.createInterestBearingMint=void 0;const i=n(9243),o=n(6761),s=n(6295),a=n(7477),c=n(3899),u=n(1530);e.createInterestBearingMint=function(t,e,n,o,l,d,h,f=i.Keypair.generate(),p,y=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(0,c.getMintLen)([c.ExtensionType.InterestBearingConfig]),s=yield t.getMinimumBalanceForRentExemption(r),m=(new i.Transaction).add(i.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:f.publicKey,space:r,lamports:s,programId:y}),(0,u.createInitializeInterestBearingMintInstruction)(f.publicKey,l,d,y),(0,a.createInitializeMintInstruction)(f.publicKey,h,n,o,y));return yield(0,i.sendAndConfirmTransaction)(t,m,[e,f],p),f.publicKey}))},e.updateRateInterestBearingMint=function(t,e,n,a,c,l=[],d,h=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(a,l),f=(new i.Transaction).add((0,u.createUpdateRateInterestBearingMintInstruction)(n,r,c,s,h));return yield(0,i.sendAndConfirmTransaction)(t,f,[e,a,...s],d)}))}},5284:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(2125),e),i(n(1530),e),i(n(7678),e)},1530:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateRateInterestBearingMintInstruction=e.createInitializeInterestBearingMintInstruction=e.interestBearingMintUpdateRateInstructionData=e.interestBearingMintInitializeInstructionData=e.InterestBearingMintInstruction=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(8297),u=n(9037);var l;!function(t){t[t.Initialize=0]="Initialize",t[t.UpdateRate=1]="UpdateRate"}(l=e.InterestBearingMintInstruction||(e.InterestBearingMintInstruction={})),e.interestBearingMintInitializeInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("interestBearingMintInstruction"),(0,o.publicKey)("rateAuthority"),(0,i.s16)("rate")]),e.interestBearingMintUpdateRateInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("interestBearingMintInstruction"),(0,i.s16)("rate")]),e.createInitializeInterestBearingMintInstruction=function(t,n,i,o=a.TOKEN_2022_PROGRAM_ID){const c=[{pubkey:t,isSigner:!1,isWritable:!0}],d=r.alloc(e.interestBearingMintInitializeInstructionData.span);return e.interestBearingMintInitializeInstructionData.encode({instruction:u.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:l.Initialize,rateAuthority:n,rate:i},d),new s.TransactionInstruction({keys:c,programId:o,data:d})},e.createUpdateRateInterestBearingMintInstruction=function(t,n,i,o=[],d=a.TOKEN_2022_PROGRAM_ID){const h=(0,c.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!o.length,isWritable:!1}],n,o),f=r.alloc(e.interestBearingMintUpdateRateInstructionData.span);return e.interestBearingMintUpdateRateInstructionData.encode({instruction:u.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:l.UpdateRate,rate:i},f),new s.TransactionInstruction({keys:h,programId:d,data:f})}},7678:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInterestBearingMintConfigState=e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout=void 0;const r=n(4639),i=n(3629),o=n(3899);e.InterestBearingMintConfigStateLayout=(0,r.struct)([(0,i.publicKey)("rateAuthority"),(0,r.ns64)("initializationTimestamp"),(0,r.s16)("preUpdateAverageRate"),(0,r.ns64)("lastUpdateTimestamp"),(0,r.s16)("currentRate")]),e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout.span,e.getInterestBearingMintConfigState=function(t){const n=(0,o.getExtensionData)(o.ExtensionType.InterestBearingConfig,t.tlvData);return null!==n?e.InterestBearingMintConfigStateLayout.decode(n):null}},7614:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.disableRequiredMemoTransfers=e.enableRequiredMemoTransfers=void 0;const i=n(9243),o=n(6761),s=n(6295),a=n(2830);e.enableRequiredMemoTransfers=function(t,e,n,c,u=[],l,d=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),h=(new i.Transaction).add((0,a.createEnableRequiredMemoTransfersInstruction)(n,r,s,d));return yield(0,i.sendAndConfirmTransaction)(t,h,[e,...s],l)}))},e.disableRequiredMemoTransfers=function(t,e,n,c,u=[],l,d=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(c,u),h=(new i.Transaction).add((0,a.createDisableRequiredMemoTransfersInstruction)(n,r,s,d));return yield(0,i.sendAndConfirmTransaction)(t,h,[e,...s],l)}))}},8364:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(7614),e),i(n(2830),e),i(n(1575),e)},2830:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableRequiredMemoTransfersInstruction=e.createEnableRequiredMemoTransfersInstruction=e.memoTransferInstructionData=e.MemoTransferInstruction=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);var l;function d(t,n,i,l,d){if(!(0,s.programSupportsExtensions)(d))throw new a.TokenUnsupportedInstructionError;const h=(0,c.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],i,l),f=r.alloc(e.memoTransferInstructionData.span);return e.memoTransferInstructionData.encode({instruction:u.TokenInstruction.MemoTransferExtension,memoTransferInstruction:t},f),new o.TransactionInstruction({keys:h,programId:d,data:f})}!function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"}(l=e.MemoTransferInstruction||(e.MemoTransferInstruction={})),e.memoTransferInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("memoTransferInstruction")]),e.createEnableRequiredMemoTransfersInstruction=function(t,e,n=[],r=s.TOKEN_2022_PROGRAM_ID){return d(l.Enable,t,e,n,r)},e.createDisableRequiredMemoTransfersInstruction=function(t,e,n=[],r=s.TOKEN_2022_PROGRAM_ID){return d(l.Disable,t,e,n,r)}},1575:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMemoTransfer=e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout=void 0;const r=n(4639),i=n(3629),o=n(3899);e.MemoTransferLayout=(0,r.struct)([(0,i.bool)("requireIncomingTransferMemos")]),e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout.span,e.getMemoTransfer=function(t){const n=(0,o.getExtensionData)(o.ExtensionType.MemoTransfer,t.tlvData);return null!==n?e.MemoTransferLayout.decode(n):null}},3690:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMintCloseAuthority=e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout=void 0;const r=n(4639),i=n(3629),o=n(3899);e.MintCloseAuthorityLayout=(0,r.struct)([(0,i.publicKey)("closeAuthority")]),e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout.span,e.getMintCloseAuthority=function(t){const n=(0,o.getExtensionData)(o.ExtensionType.MintCloseAuthority,t.tlvData);return null!==n?e.MintCloseAuthorityLayout.decode(n):null}},3559:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNonTransferableAccount=e.getNonTransferable=e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout=void 0;const r=n(4639),i=n(3899);e.NonTransferableLayout=(0,r.struct)([]),e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout.span,e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NonTransferableLayout.span,e.getNonTransferable=function(t){const n=(0,i.getExtensionData)(i.ExtensionType.NonTransferable,t.tlvData);return null!==n?e.NonTransferableLayout.decode(n):null},e.getNonTransferableAccount=function(t){const n=(0,i.getExtensionData)(i.ExtensionType.NonTransferableAccount,t.tlvData);return null!==n?e.NonTransferableLayout.decode(n):null}},3010:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPermanentDelegate=e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout=void 0;const r=n(4639),i=n(3629),o=n(3899);e.PermanentDelegateLayout=(0,r.struct)([(0,i.publicKey)("delegate")]),e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout.span,e.getPermanentDelegate=function(t){const n=(0,o.getExtensionData)(o.ExtensionType.PermanentDelegate,t.tlvData);return null!==n?e.PermanentDelegateLayout.decode(n):null}},1499:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.harvestWithheldTokensToMint=e.withdrawWithheldTokensFromAccounts=e.withdrawWithheldTokensFromMint=e.transferCheckedWithFee=void 0;const i=n(9243),o=n(6761),s=n(6295),a=n(4967);e.transferCheckedWithFee=function(t,e,n,c,u,l,d,h,f,p=[],y,m=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(l,p),g=(new i.Transaction).add((0,a.createTransferCheckedWithFeeInstruction)(n,c,u,r,d,h,f,p,m));return yield(0,i.sendAndConfirmTransaction)(t,g,[e,...s],y)}))},e.withdrawWithheldTokensFromMint=function(t,e,n,c,u,l=[],d,h=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(u,l),f=(new i.Transaction).add((0,a.createWithdrawWithheldTokensFromMintInstruction)(n,c,r,s,h));return yield(0,i.sendAndConfirmTransaction)(t,f,[e,...s],d)}))},e.withdrawWithheldTokensFromAccounts=function(t,e,n,c,u,l,d,h,f=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const[r,s]=(0,o.getSigners)(u,l),p=(new i.Transaction).add((0,a.createWithdrawWithheldTokensFromAccountsInstruction)(n,c,r,s,d,f));return yield(0,i.sendAndConfirmTransaction)(t,p,[e,...s],h)}))},e.harvestWithheldTokensToMint=function(t,e,n,o,c,u=s.TOKEN_2022_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=(new i.Transaction).add((0,a.createHarvestWithheldTokensToMintInstruction)(n,o,u));return yield(0,i.sendAndConfirmTransaction)(t,r,[e],c)}))}},7609:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(1499),e),i(n(4967),e),i(n(3720),e)},4967:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHarvestWithheldTokensToMintInstructionUnchecked=e.decodeHarvestWithheldTokensToMintInstruction=e.createHarvestWithheldTokensToMintInstruction=e.harvestWithheldTokensToMintInstructionData=e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=e.decodeWithdrawWithheldTokensFromAccountsInstruction=e.createWithdrawWithheldTokensFromAccountsInstruction=e.withdrawWithheldTokensFromAccountsInstructionData=e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=e.decodeWithdrawWithheldTokensFromMintInstruction=e.createWithdrawWithheldTokensFromMintInstruction=e.withdrawWithheldTokensFromMintInstructionData=e.decodeTransferCheckedWithFeeInstructionUnchecked=e.decodeTransferCheckedWithFeeInstruction=e.createTransferCheckedWithFeeInstruction=e.transferCheckedWithFeeInstructionData=e.decodeInitializeTransferFeeConfigInstructionUnchecked=e.decodeInitializeTransferFeeConfigInstruction=e.createInitializeTransferFeeConfigInstruction=e.initializeTransferFeeConfigInstructionData=e.TransferFeeInstruction=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);var d;function h({programId:t,keys:[n],data:r}){const{instruction:i,transferFeeInstruction:o,transferFeeConfigAuthorityOption:s,transferFeeConfigAuthority:a,withdrawWithheldAuthorityOption:c,withdrawWithheldAuthority:u,transferFeeBasisPoints:l,maximumFee:d}=e.initializeTransferFeeConfigInstructionData.decode(r);return{programId:t,keys:{mint:n},data:{instruction:i,transferFeeInstruction:o,transferFeeConfigAuthority:s?a:null,withdrawWithheldAuthority:c?u:null,transferFeeBasisPoints:l,maximumFee:d}}}function f({programId:t,keys:[n,r,i,o,...s],data:a}){const{instruction:c,transferFeeInstruction:u,amount:l,decimals:d,fee:h}=e.transferCheckedWithFeeInstructionData.decode(a);return{programId:t,keys:{source:n,mint:r,destination:i,authority:o,signers:s},data:{instruction:c,transferFeeInstruction:u,amount:l,decimals:d,fee:h}}}function p({programId:t,keys:[n,r,i,...o],data:s}){const{instruction:a,transferFeeInstruction:c}=e.withdrawWithheldTokensFromMintInstructionData.decode(s);return{programId:t,keys:{mint:n,destination:r,authority:i,signers:o},data:{instruction:a,transferFeeInstruction:c}}}function y({programId:t,keys:n,data:r}){const{instruction:i,transferFeeInstruction:o,numTokenAccounts:s}=e.withdrawWithheldTokensFromAccountsInstructionData.decode(r),[a,c,u,l,d]=[n[0],n[1],n[2],n.slice(3,3+s),n.slice(-1*s)];return{programId:t,keys:{mint:a,destination:c,authority:u,signers:l,sources:d},data:{instruction:i,transferFeeInstruction:o,numTokenAccounts:s}}}function m({programId:t,keys:[n,...r],data:i}){const{instruction:o,transferFeeInstruction:s}=e.harvestWithheldTokensToMintInstructionData.decode(i);return{programId:t,keys:{mint:n,sources:r},data:{instruction:o,transferFeeInstruction:s}}}!function(t){t[t.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",t[t.TransferCheckedWithFee=1]="TransferCheckedWithFee",t[t.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",t[t.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",t[t.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",t[t.SetTransferFee=5]="SetTransferFee"}(d=e.TransferFeeInstruction||(e.TransferFeeInstruction={})),e.initializeTransferFeeConfigInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction"),(0,i.u8)("transferFeeConfigAuthorityOption"),(0,o.publicKey)("transferFeeConfigAuthority"),(0,i.u8)("withdrawWithheldAuthorityOption"),(0,o.publicKey)("withdrawWithheldAuthority"),(0,i.u16)("transferFeeBasisPoints"),(0,o.u64)("maximumFee")]),e.createInitializeTransferFeeConfigInstruction=function(t,n,i,o,u,h=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(h))throw new c.TokenUnsupportedInstructionError;const f=[{pubkey:t,isSigner:!1,isWritable:!0}],p=r.alloc(e.initializeTransferFeeConfigInstructionData.span);return e.initializeTransferFeeConfigInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:d.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:n?1:0,transferFeeConfigAuthority:n||new s.PublicKey(0),withdrawWithheldAuthorityOption:i?1:0,withdrawWithheldAuthority:i||new s.PublicKey(0),transferFeeBasisPoints:o,maximumFee:u},p),new s.TransactionInstruction({keys:f,programId:h,data:p})},e.decodeInitializeTransferFeeConfigInstruction=function(t,n){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeTransferFeeConfigInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=h(t);if(i.instruction!==l.TokenInstruction.TransferFeeExtension||i.transferFeeInstruction!==d.InitializeTransferFeeConfig)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},e.decodeInitializeTransferFeeConfigInstructionUnchecked=h,e.transferCheckedWithFeeInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction"),(0,o.u64)("amount"),(0,i.u8)("decimals"),(0,o.u64)("fee")]),e.createTransferCheckedWithFeeInstruction=function(t,n,i,o,h,f,p,y=[],m=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(m))throw new c.TokenUnsupportedInstructionError;const g=r.alloc(e.transferCheckedWithFeeInstructionData.span);e.transferCheckedWithFeeInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:d.TransferCheckedWithFee,amount:h,decimals:f,fee:p},g);const w=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],o,y);return new s.TransactionInstruction({keys:w,programId:m,data:g})},e.decodeTransferCheckedWithFeeInstruction=function(t,n){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.transferCheckedWithFeeInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{source:r,mint:i,destination:o,authority:s,signers:a},data:u}=f(t);if(u.instruction!==l.TokenInstruction.TransferFeeExtension||u.transferFeeInstruction!==d.TransferCheckedWithFee)throw new c.TokenInvalidInstructionTypeError;if(!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:r,mint:i,destination:o,authority:s,signers:a||null},data:u}},e.decodeTransferCheckedWithFeeInstructionUnchecked=f,e.withdrawWithheldTokensFromMintInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction")]),e.createWithdrawWithheldTokensFromMintInstruction=function(t,n,i,o=[],h=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(h))throw new c.TokenUnsupportedInstructionError;const f=r.alloc(e.withdrawWithheldTokensFromMintInstructionData.span);e.withdrawWithheldTokensFromMintInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:d.WithdrawWithheldTokensFromMint},f);const p=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,o);return new s.TransactionInstruction({keys:p,programId:h,data:f})},e.decodeWithdrawWithheldTokensFromMintInstruction=function(t,n){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.withdrawWithheldTokensFromMintInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,signers:s},data:a}=p(t);if(a.instruction!==l.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==d.WithdrawWithheldTokensFromMint)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,signers:s||null},data:a}},e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=p,e.withdrawWithheldTokensFromAccountsInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction"),(0,i.u8)("numTokenAccounts")]),e.createWithdrawWithheldTokensFromAccountsInstruction=function(t,n,i,o,h,f=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(f))throw new c.TokenUnsupportedInstructionError;const p=r.alloc(e.withdrawWithheldTokensFromAccountsInstructionData.span);e.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:d.WithdrawWithheldTokensFromAccounts,numTokenAccounts:h.length},p);const y=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,o);for(const t of h)y.push({pubkey:t,isSigner:!1,isWritable:!0});return new s.TransactionInstruction({keys:y,programId:f,data:p})},e.decodeWithdrawWithheldTokensFromAccountsInstruction=function(t,n){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.withdrawWithheldTokensFromAccountsInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,signers:s,sources:a},data:u}=y(t);if(u.instruction!==l.TokenInstruction.TransferFeeExtension||u.transferFeeInstruction!==d.WithdrawWithheldTokensFromAccounts)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,signers:s||null,sources:a||null},data:u}},e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=y,e.harvestWithheldTokensToMintInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("transferFeeInstruction")]),e.createHarvestWithheldTokensToMintInstruction=function(t,n,i=a.TOKEN_2022_PROGRAM_ID){if(!(0,a.programSupportsExtensions)(i))throw new c.TokenUnsupportedInstructionError;const o=r.alloc(e.harvestWithheldTokensToMintInstructionData.span);e.harvestWithheldTokensToMintInstructionData.encode({instruction:l.TokenInstruction.TransferFeeExtension,transferFeeInstruction:d.HarvestWithheldTokensToMint},o);const u=[];u.push({pubkey:t,isSigner:!1,isWritable:!0});for(const t of n)u.push({pubkey:t,isSigner:!1,isWritable:!0});return new s.TransactionInstruction({keys:u,programId:i,data:o})},e.decodeHarvestWithheldTokensToMintInstruction=function(t,n){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.harvestWithheldTokensToMintInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,sources:i},data:o}=m(t);if(o.instruction!==l.TokenInstruction.TransferFeeExtension||o.transferFeeInstruction!==d.HarvestWithheldTokensToMint)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,sources:i},data:o}},e.decodeHarvestWithheldTokensToMintInstructionUnchecked=m},3720:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTransferFeeAmount=e.getTransferFeeConfig=e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout=e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout=e.transferFeeLayout=e.ONE_IN_BASIS_POINTS=e.MAX_FEE_BASIS_POINTS=void 0;const r=n(4639),i=n(3629),o=n(3899);function s(t){return(0,r.struct)([(0,i.u64)("epoch"),(0,i.u64)("maximumFee"),(0,r.u16)("transferFeeBasisPoints")],t)}e.MAX_FEE_BASIS_POINTS=1e4,e.ONE_IN_BASIS_POINTS=e.MAX_FEE_BASIS_POINTS,e.transferFeeLayout=s,e.TransferFeeConfigLayout=(0,r.struct)([(0,i.publicKey)("transferFeeConfigAuthority"),(0,i.publicKey)("withdrawWithheldAuthority"),(0,i.u64)("withheldAmount"),s("olderTransferFee"),s("newerTransferFee")]),e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout.span,e.TransferFeeAmountLayout=(0,r.struct)([(0,i.u64)("withheldAmount")]),e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout.span,e.getTransferFeeConfig=function(t){const n=(0,o.getExtensionData)(o.ExtensionType.TransferFeeConfig,t.tlvData);return null!==n?e.TransferFeeConfigLayout.decode(n):null},e.getTransferFeeAmount=function(t){const n=(0,o.getExtensionData)(o.ExtensionType.TransferFeeAmount,t.tlvData);return null!==n?e.TransferFeeAmountLayout.decode(n):null}},4970:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(6613),e),i(n(6295),e),i(n(1898),e),i(n(8593),e),i(n(4352),e),i(n(7883),e)},6963:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeAmountToUiAmountInstructionUnchecked=e.decodeAmountToUiAmountInstruction=e.createAmountToUiAmountInstruction=e.amountToUiAmountInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(9037);function l({programId:t,keys:[n],data:r}){return{programId:t,keys:{mint:n},data:e.amountToUiAmountInstructionData.decode(r)}}e.amountToUiAmountInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),e.createAmountToUiAmountInstruction=function(t,n,i=a.TOKEN_PROGRAM_ID){const o=[{pubkey:t,isSigner:!1,isWritable:!1}],c=r.alloc(e.amountToUiAmountInstructionData.span);return e.amountToUiAmountInstructionData.encode({instruction:u.TokenInstruction.AmountToUiAmount,amount:BigInt(n)},c),new s.TransactionInstruction({keys:o,programId:i,data:c})},e.decodeAmountToUiAmountInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.amountToUiAmountInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=l(t);if(i.instruction!==u.TokenInstruction.AmountToUiAmount)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},e.decodeAmountToUiAmountInstructionUnchecked=l},8112:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveInstructionUnchecked=e.decodeApproveInstruction=e.createApproveInstruction=e.approveInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{account:n,delegate:r,owner:i,multiSigners:o},data:e.approveInstructionData.decode(s)}}e.approveInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),e.createApproveInstruction=function(t,n,i,o,c=[],d=a.TOKEN_PROGRAM_ID){const h=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],i,c),f=r.alloc(e.approveInstructionData.span);return e.approveInstructionData.encode({instruction:l.TokenInstruction.Approve,amount:BigInt(o)},f),new s.TransactionInstruction({keys:h,programId:d,data:f})},e.decodeApproveInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.approveInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,delegate:i,owner:o,multiSigners:s},data:u}=d(t);if(u.instruction!==l.TokenInstruction.Approve)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,delegate:i,owner:o,multiSigners:s},data:u}},e.decodeApproveInstructionUnchecked=d},995:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveCheckedInstructionUnchecked=e.decodeApproveCheckedInstruction=e.createApproveCheckedInstruction=e.approveCheckedInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,o,...s],data:a}){return{programId:t,keys:{account:n,mint:r,delegate:i,owner:o,multiSigners:s},data:e.approveCheckedInstructionData.decode(a)}}e.approveCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),e.createApproveCheckedInstruction=function(t,n,i,o,c,d,h=[],f=a.TOKEN_PROGRAM_ID){const p=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}],o,h),y=r.alloc(e.approveCheckedInstructionData.span);return e.approveCheckedInstructionData.encode({instruction:l.TokenInstruction.ApproveChecked,amount:BigInt(c),decimals:d},y),new s.TransactionInstruction({keys:p,programId:f,data:y})},e.decodeApproveCheckedInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.approveCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,delegate:o,owner:s,multiSigners:u},data:h}=d(t);if(h.instruction!==l.TokenInstruction.ApproveChecked)throw new c.TokenInvalidInstructionTypeError;if(!(r&&i&&o&&s))throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,delegate:o,owner:s,multiSigners:u},data:h}},e.decodeApproveCheckedInstructionUnchecked=d},2840:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createAssociatedTokenAccountIdempotentInstruction=e.createAssociatedTokenAccountInstruction=void 0;const i=n(9243),o=n(6295);function s(t,e,n,r,s,a=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){const u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new i.TransactionInstruction({keys:u,programId:c,data:s})}e.createAssociatedTokenAccountInstruction=function(t,e,n,i,a=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){return s(t,e,n,i,r.alloc(0),a,c)},e.createAssociatedTokenAccountIdempotentInstruction=function(t,e,n,i,a=o.TOKEN_PROGRAM_ID,c=o.ASSOCIATED_TOKEN_PROGRAM_ID){return s(t,e,n,i,r.from([1]),a,c)}},4073:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnInstructionUnchecked=e.decodeBurnInstruction=e.createBurnInstruction=e.burnInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{account:n,mint:r,owner:i,multiSigners:o},data:e.burnInstructionData.decode(s)}}e.burnInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),e.createBurnInstruction=function(t,n,i,o,c=[],d=a.TOKEN_PROGRAM_ID){const h=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,c),f=r.alloc(e.burnInstructionData.span);return e.burnInstructionData.encode({instruction:l.TokenInstruction.Burn,amount:BigInt(o)},f),new s.TransactionInstruction({keys:h,programId:d,data:f})},e.decodeBurnInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.burnInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}=d(t);if(u.instruction!==l.TokenInstruction.Burn)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}},e.decodeBurnInstructionUnchecked=d},7607:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnCheckedInstructionUnchecked=e.decodeBurnCheckedInstruction=e.createBurnCheckedInstruction=e.burnCheckedInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{account:n,mint:r,owner:i,multiSigners:o},data:e.burnCheckedInstructionData.decode(s)}}e.burnCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),e.createBurnCheckedInstruction=function(t,n,i,o,c,d=[],h=a.TOKEN_PROGRAM_ID){const f=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,d),p=r.alloc(e.burnCheckedInstructionData.span);return e.burnCheckedInstructionData.encode({instruction:l.TokenInstruction.BurnChecked,amount:BigInt(o),decimals:c},p),new s.TransactionInstruction({keys:f,programId:h,data:p})},e.decodeBurnCheckedInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.burnCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}=d(t);if(u.instruction!==l.TokenInstruction.BurnChecked)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,owner:o,multiSigners:s},data:u}},e.decodeBurnCheckedInstructionUnchecked=d},4474:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeCloseAccountInstructionUnchecked=e.decodeCloseAccountInstruction=e.createCloseAccountInstruction=e.closeAccountInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);function l({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{account:n,destination:r,authority:i,multiSigners:o},data:e.closeAccountInstructionData.decode(s)}}e.closeAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createCloseAccountInstruction=function(t,n,i,a=[],l=s.TOKEN_PROGRAM_ID){const d=(0,c.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,a),h=r.alloc(e.closeAccountInstructionData.span);return e.closeAccountInstructionData.encode({instruction:u.TokenInstruction.CloseAccount},h),new o.TransactionInstruction({keys:d,programId:l,data:h})},e.decodeCloseAccountInstruction=function(t,n=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(t.data.length!==e.closeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,destination:i,authority:o,multiSigners:c},data:d}=l(t);if(d.instruction!==u.TokenInstruction.CloseAccount)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,destination:i,authority:o,multiSigners:c},data:d}},e.decodeCloseAccountInstructionUnchecked=l},5578:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createCreateNativeMintInstruction=e.createNativeMintInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(9037);e.createNativeMintInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createCreateNativeMintInstruction=function(t,n=s.NATIVE_MINT_2022,i=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(i))throw new a.TokenUnsupportedInstructionError;const u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1}],l=r.alloc(e.createNativeMintInstructionData.span);return e.createNativeMintInstructionData.encode({instruction:c.TokenInstruction.CreateNativeMint},l),new o.TransactionInstruction({keys:u,programId:i,data:l})}},685:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUiamountToAmountInstruction=e.isAmountToUiAmountInstruction=e.isInitializeMint2Instruction=e.isInitializeAccount3Instruction=e.isSyncNativeInstruction=e.isInitializeAccount2Instruction=e.isBurnCheckedInstruction=e.isMintToCheckedInstruction=e.isApproveCheckedInstruction=e.isTransferCheckedInstruction=e.isThawAccountInstruction=e.isFreezeAccountInstruction=e.isCloseAccountInstruction=e.isBurnInstruction=e.isMintToInstruction=e.isSetAuthorityInstruction=e.isRevokeInstruction=e.isApproveInstruction=e.isTransferInstruction=e.isInitializeMultisigInstruction=e.isInitializeAccountInstruction=e.isInitializeMintInstruction=e.decodeInstruction=void 0;const r=n(4639),i=n(6295),o=n(1898),s=n(6963),a=n(8112),c=n(995),u=n(4073),l=n(7607),d=n(4474),h=n(764),f=n(8979),p=n(4308),y=n(2193),m=n(7477),g=n(3884),w=n(7416),b=n(6744),v=n(28),k=n(7395),S=n(9278),A=n(6461),_=n(5703),I=n(22),E=n(4401),T=n(9037),x=n(536);e.decodeInstruction=function(t,e=i.TOKEN_PROGRAM_ID){if(!t.data.length)throw new o.TokenInvalidInstructionDataError;const n=(0,r.u8)().decode(t.data);if(n===T.TokenInstruction.InitializeMint)return(0,m.decodeInitializeMintInstruction)(t,e);if(n===T.TokenInstruction.InitializeAccount)return(0,f.decodeInitializeAccountInstruction)(t,e);if(n===T.TokenInstruction.InitializeMultisig)return(0,w.decodeInitializeMultisigInstruction)(t,e);if(n===T.TokenInstruction.Transfer)return(0,I.decodeTransferInstruction)(t,e);if(n===T.TokenInstruction.Approve)return(0,a.decodeApproveInstruction)(t,e);if(n===T.TokenInstruction.Revoke)return(0,k.decodeRevokeInstruction)(t,e);if(n===T.TokenInstruction.SetAuthority)return(0,S.decodeSetAuthorityInstruction)(t,e);if(n===T.TokenInstruction.MintTo)return(0,b.decodeMintToInstruction)(t,e);if(n===T.TokenInstruction.Burn)return(0,u.decodeBurnInstruction)(t,e);if(n===T.TokenInstruction.CloseAccount)return(0,d.decodeCloseAccountInstruction)(t,e);if(n===T.TokenInstruction.FreezeAccount)return(0,h.decodeFreezeAccountInstruction)(t,e);if(n===T.TokenInstruction.ThawAccount)return(0,_.decodeThawAccountInstruction)(t,e);if(n===T.TokenInstruction.TransferChecked)return(0,E.decodeTransferCheckedInstruction)(t,e);if(n===T.TokenInstruction.ApproveChecked)return(0,c.decodeApproveCheckedInstruction)(t,e);if(n===T.TokenInstruction.MintToChecked)return(0,v.decodeMintToCheckedInstruction)(t,e);if(n===T.TokenInstruction.BurnChecked)return(0,l.decodeBurnCheckedInstruction)(t,e);if(n===T.TokenInstruction.InitializeAccount2)return(0,p.decodeInitializeAccount2Instruction)(t,e);if(n===T.TokenInstruction.SyncNative)return(0,A.decodeSyncNativeInstruction)(t,e);if(n===T.TokenInstruction.InitializeAccount3)return(0,y.decodeInitializeAccount3Instruction)(t,e);if(n===T.TokenInstruction.InitializeMint2)return(0,g.decodeInitializeMint2Instruction)(t,e);if(n===T.TokenInstruction.AmountToUiAmount)return(0,s.decodeAmountToUiAmountInstruction)(t,e);if(n===T.TokenInstruction.UiAmountToAmount)return(0,x.decodeUiAmountToAmountInstruction)(t,e);if(n===T.TokenInstruction.InitializeMultisig2)throw new o.TokenInvalidInstructionTypeError;throw new o.TokenInvalidInstructionTypeError},e.isInitializeMintInstruction=function(t){return t.data.instruction===T.TokenInstruction.InitializeMint},e.isInitializeAccountInstruction=function(t){return t.data.instruction===T.TokenInstruction.InitializeAccount},e.isInitializeMultisigInstruction=function(t){return t.data.instruction===T.TokenInstruction.InitializeMultisig},e.isTransferInstruction=function(t){return t.data.instruction===T.TokenInstruction.Transfer},e.isApproveInstruction=function(t){return t.data.instruction===T.TokenInstruction.Approve},e.isRevokeInstruction=function(t){return t.data.instruction===T.TokenInstruction.Revoke},e.isSetAuthorityInstruction=function(t){return t.data.instruction===T.TokenInstruction.SetAuthority},e.isMintToInstruction=function(t){return t.data.instruction===T.TokenInstruction.MintTo},e.isBurnInstruction=function(t){return t.data.instruction===T.TokenInstruction.Burn},e.isCloseAccountInstruction=function(t){return t.data.instruction===T.TokenInstruction.CloseAccount},e.isFreezeAccountInstruction=function(t){return t.data.instruction===T.TokenInstruction.FreezeAccount},e.isThawAccountInstruction=function(t){return t.data.instruction===T.TokenInstruction.ThawAccount},e.isTransferCheckedInstruction=function(t){return t.data.instruction===T.TokenInstruction.TransferChecked},e.isApproveCheckedInstruction=function(t){return t.data.instruction===T.TokenInstruction.ApproveChecked},e.isMintToCheckedInstruction=function(t){return t.data.instruction===T.TokenInstruction.MintToChecked},e.isBurnCheckedInstruction=function(t){return t.data.instruction===T.TokenInstruction.BurnChecked},e.isInitializeAccount2Instruction=function(t){return t.data.instruction===T.TokenInstruction.InitializeAccount2},e.isSyncNativeInstruction=function(t){return t.data.instruction===T.TokenInstruction.SyncNative},e.isInitializeAccount3Instruction=function(t){return t.data.instruction===T.TokenInstruction.InitializeAccount3},e.isInitializeMint2Instruction=function(t){return t.data.instruction===T.TokenInstruction.InitializeMint2},e.isAmountToUiAmountInstruction=function(t){return t.data.instruction===T.TokenInstruction.AmountToUiAmount},e.isUiamountToAmountInstruction=function(t){return t.data.instruction===T.TokenInstruction.UiAmountToAmount}},764:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeFreezeAccountInstructionUnchecked=e.decodeFreezeAccountInstruction=e.createFreezeAccountInstruction=e.freezeAccountInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);function l({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{account:n,mint:r,authority:i,multiSigners:o},data:e.freezeAccountInstructionData.decode(s)}}e.freezeAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createFreezeAccountInstruction=function(t,n,i,a=[],l=s.TOKEN_PROGRAM_ID){const d=(0,c.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],i,a),h=r.alloc(e.freezeAccountInstructionData.span);return e.freezeAccountInstructionData.encode({instruction:u.TokenInstruction.FreezeAccount},h),new o.TransactionInstruction({keys:d,programId:l,data:h})},e.decodeFreezeAccountInstruction=function(t,n=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(t.data.length!==e.freezeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,authority:o,multiSigners:c},data:d}=l(t);if(d.instruction!==u.TokenInstruction.FreezeAccount)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,authority:o,multiSigners:c},data:d}},e.decodeFreezeAccountInstructionUnchecked=l},4352:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(2840),e),i(n(685),e),i(n(9037),e),i(n(7477),e),i(n(8979),e),i(n(7416),e),i(n(22),e),i(n(8112),e),i(n(7395),e),i(n(9278),e),i(n(6744),e),i(n(4073),e),i(n(4474),e),i(n(764),e),i(n(5703),e),i(n(4401),e),i(n(995),e),i(n(28),e),i(n(7607),e),i(n(4308),e),i(n(6461),e),i(n(2193),e),i(n(2521),e),i(n(3884),e),i(n(93),e),i(n(6963),e),i(n(536),e),i(n(7676),e),i(n(4131),e),i(n(5578),e),i(n(4657),e),i(n(5147),e)},8979:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccountInstructionUnchecked=e.decodeInitializeAccountInstruction=e.createInitializeAccountInstruction=e.initializeAccountInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(9037);function u({programId:t,keys:[n,r,i,o],data:s}){return{programId:t,keys:{account:n,mint:r,owner:i,rent:o},data:e.initializeAccountInstructionData.decode(s)}}e.initializeAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createInitializeAccountInstruction=function(t,n,i,a=s.TOKEN_PROGRAM_ID){const u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],l=r.alloc(e.initializeAccountInstructionData.span);return e.initializeAccountInstructionData.encode({instruction:c.TokenInstruction.InitializeAccount},l),new o.TransactionInstruction({keys:u,programId:a,data:l})},e.decodeInitializeAccountInstruction=function(t,n=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,owner:o,rent:l},data:d}=u(t);if(d.instruction!==c.TokenInstruction.InitializeAccount)throw new a.TokenInvalidInstructionTypeError;if(!(r&&i&&o&&l))throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,owner:o,rent:l},data:d}},e.decodeInitializeAccountInstructionUnchecked=u},4308:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount2InstructionUnchecked=e.decodeInitializeAccount2Instruction=e.createInitializeAccount2Instruction=e.initializeAccount2InstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(9037);function l({programId:t,keys:[n,r,i],data:o}){return{programId:t,keys:{account:n,mint:r,rent:i},data:e.initializeAccount2InstructionData.decode(o)}}e.initializeAccount2InstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.publicKey)("owner")]),e.createInitializeAccount2Instruction=function(t,n,i,o=a.TOKEN_PROGRAM_ID){const c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],l=r.alloc(e.initializeAccount2InstructionData.span);return e.initializeAccount2InstructionData.encode({instruction:u.TokenInstruction.InitializeAccount2,owner:i},l),new s.TransactionInstruction({keys:c,programId:o,data:l})},e.decodeInitializeAccount2Instruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeAccount2InstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,rent:o},data:s}=l(t);if(s.instruction!==u.TokenInstruction.InitializeAccount2)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,rent:o},data:s}},e.decodeInitializeAccount2InstructionUnchecked=l},2193:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount3InstructionUnchecked=e.decodeInitializeAccount3Instruction=e.createInitializeAccount3Instruction=e.initializeAccount3InstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(9037);function l({programId:t,keys:[n,r],data:i}){return{programId:t,keys:{account:n,mint:r},data:e.initializeAccount3InstructionData.decode(i)}}e.initializeAccount3InstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.publicKey)("owner")]),e.createInitializeAccount3Instruction=function(t,n,i,o=a.TOKEN_PROGRAM_ID){const c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],l=r.alloc(e.initializeAccount3InstructionData.span);return e.initializeAccount3InstructionData.encode({instruction:u.TokenInstruction.InitializeAccount3,owner:i},l),new s.TransactionInstruction({keys:c,programId:o,data:l})},e.decodeInitializeAccount3Instruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeAccount3InstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i},data:o}=l(t);if(o.instruction!==u.TokenInstruction.InitializeAccount3)throw new c.TokenInvalidInstructionTypeError;if(!r||!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i},data:o}},e.decodeInitializeAccount3InstructionUnchecked=l},93:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeImmutableOwnerInstructionUnchecked=e.decodeInitializeImmutableOwnerInstruction=e.createInitializeImmutableOwnerInstruction=e.initializeImmutableOwnerInstructionData=void 0;const i=n(4639),o=n(9243),s=n(1898),a=n(9037);function c({programId:t,keys:[n],data:r}){const{instruction:i}=e.initializeImmutableOwnerInstructionData.decode(r);return{programId:t,keys:{account:n},data:{instruction:i}}}e.initializeImmutableOwnerInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createInitializeImmutableOwnerInstruction=function(t,n){const i=[{pubkey:t,isSigner:!1,isWritable:!0}],s=r.alloc(e.initializeImmutableOwnerInstructionData.span);return e.initializeImmutableOwnerInstructionData.encode({instruction:a.TokenInstruction.InitializeImmutableOwner},s),new o.TransactionInstruction({keys:i,programId:n,data:s})},e.decodeInitializeImmutableOwnerInstruction=function(t,n){if(!t.programId.equals(n))throw new s.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeImmutableOwnerInstructionData.span)throw new s.TokenInvalidInstructionDataError;const{keys:{account:r},data:i}=c(t);if(i.instruction!==a.TokenInstruction.InitializeImmutableOwner)throw new s.TokenInvalidInstructionTypeError;if(!r)throw new s.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r},data:i}},e.decodeInitializeImmutableOwnerInstructionUnchecked=c},7477:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintInstructionUnchecked=e.decodeInitializeMintInstruction=e.createInitializeMintInstruction=e.initializeMintInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(9037);function l({programId:t,keys:[n,r],data:i}){const{instruction:o,decimals:s,mintAuthority:a,freezeAuthorityOption:c,freezeAuthority:u}=e.initializeMintInstructionData.decode(i);return{programId:t,keys:{mint:n,rent:r},data:{instruction:o,decimals:s,mintAuthority:a,freezeAuthority:c?u:null}}}e.initializeMintInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("decimals"),(0,o.publicKey)("mintAuthority"),(0,i.u8)("freezeAuthorityOption"),(0,o.publicKey)("freezeAuthority")]),e.createInitializeMintInstruction=function(t,n,i,o,c=a.TOKEN_PROGRAM_ID){const l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],d=r.alloc(e.initializeMintInstructionData.span);return e.initializeMintInstructionData.encode({instruction:u.TokenInstruction.InitializeMint,decimals:n,mintAuthority:i,freezeAuthorityOption:o?1:0,freezeAuthority:o||new s.PublicKey(0)},d),new s.TransactionInstruction({keys:l,programId:c,data:d})},e.decodeInitializeMintInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeMintInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,rent:i},data:o}=l(t);if(o.instruction!==u.TokenInstruction.InitializeMint)throw new c.TokenInvalidInstructionTypeError;if(!r||!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,rent:i},data:o}},e.decodeInitializeMintInstructionUnchecked=l},3884:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMint2InstructionUnchecked=e.decodeInitializeMint2Instruction=e.createInitializeMint2Instruction=e.initializeMint2InstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(9037);function l({programId:t,keys:[n],data:r}){const{instruction:i,decimals:o,mintAuthority:s,freezeAuthorityOption:a,freezeAuthority:c}=e.initializeMint2InstructionData.decode(r);return{programId:t,keys:{mint:n},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a?c:null}}}e.initializeMint2InstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("decimals"),(0,o.publicKey)("mintAuthority"),(0,i.u8)("freezeAuthorityOption"),(0,o.publicKey)("freezeAuthority")]),e.createInitializeMint2Instruction=function(t,n,i,o,c=a.TOKEN_PROGRAM_ID){const l=[{pubkey:t,isSigner:!1,isWritable:!0}],d=r.alloc(e.initializeMint2InstructionData.span);return e.initializeMint2InstructionData.encode({instruction:u.TokenInstruction.InitializeMint2,decimals:n,mintAuthority:i,freezeAuthorityOption:o?1:0,freezeAuthority:o||new s.PublicKey(0)},d),new s.TransactionInstruction({keys:l,programId:c,data:d})},e.decodeInitializeMint2Instruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeMint2InstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=l(t);if(i.instruction!==u.TokenInstruction.InitializeMint2)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},e.decodeInitializeMint2InstructionUnchecked=l},7676:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintCloseAuthorityInstructionUnchecked=e.decodeInitializeMintCloseAuthorityInstruction=e.createInitializeMintCloseAuthorityInstruction=e.initializeMintCloseAuthorityInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(9037);function l({programId:t,keys:[n],data:r}){const{instruction:i,closeAuthorityOption:o,closeAuthority:s}=e.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:t,keys:{mint:n},data:{instruction:i,closeAuthority:o?s:null}}}e.initializeMintCloseAuthorityInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("closeAuthorityOption"),(0,o.publicKey)("closeAuthority")]),e.createInitializeMintCloseAuthorityInstruction=function(t,n,i){if(!(0,a.programSupportsExtensions)(i))throw new c.TokenUnsupportedInstructionError;const o=[{pubkey:t,isSigner:!1,isWritable:!0}],l=r.alloc(e.initializeMintCloseAuthorityInstructionData.span);return e.initializeMintCloseAuthorityInstructionData.encode({instruction:u.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:n?1:0,closeAuthority:n||new s.PublicKey(0)},l),new s.TransactionInstruction({keys:o,programId:i,data:l})},e.decodeInitializeMintCloseAuthorityInstruction=function(t,n){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeMintCloseAuthorityInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=l(t);if(i.instruction!==u.TokenInstruction.InitializeMintCloseAuthority)throw new c.TokenInvalidInstructionTypeError;if(!r)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},e.decodeInitializeMintCloseAuthorityInstructionUnchecked=l},7416:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMultisigInstructionUnchecked=e.decodeInitializeMultisigInstruction=e.createInitializeMultisigInstruction=e.initializeMultisigInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(9037);function u({programId:t,keys:[n,r,...i],data:o}){return{programId:t,keys:{account:n,rent:r,signers:i},data:e.initializeMultisigInstructionData.decode(o)}}e.initializeMultisigInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("m")]),e.createInitializeMultisigInstruction=function(t,n,i,a=s.TOKEN_PROGRAM_ID){const u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const t of n)u.push({pubkey:t instanceof o.PublicKey?t:t.publicKey,isSigner:!1,isWritable:!1});const l=r.alloc(e.initializeMultisigInstructionData.span);return e.initializeMultisigInstructionData.encode({instruction:c.TokenInstruction.InitializeMultisig,m:i},l),new o.TransactionInstruction({keys:u,programId:a,data:l})},e.decodeInitializeMultisigInstruction=function(t,n=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializeMultisigInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,rent:i,signers:o},data:l}=u(t);if(l.instruction!==c.TokenInstruction.InitializeMultisig)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o.length)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,rent:i,signers:o},data:l}},e.decodeInitializeMultisigInstructionUnchecked=u},2521:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4657:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createInitializeNonTransferableMintInstruction=e.initializeNonTransferableMintInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(9037);e.initializeNonTransferableMintInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createInitializeNonTransferableMintInstruction=function(t,n){if(!(0,s.programSupportsExtensions)(n))throw new a.TokenUnsupportedInstructionError;const i=[{pubkey:t,isSigner:!1,isWritable:!0}],u=r.alloc(e.initializeNonTransferableMintInstructionData.span);return e.initializeNonTransferableMintInstructionData.encode({instruction:c.TokenInstruction.InitializeNonTransferableMint},u),new o.TransactionInstruction({keys:i,programId:n,data:u})}},5147:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializePermanentDelegateInstructionUnchecked=e.decodeInitializePermanentDelegateInstruction=e.createInitializePermanentDelegateInstruction=e.initializePermanentDelegateInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(9243),c=n(6295),u=n(1898),l=n(9037);function d({programId:t,keys:[n],data:r}){const{instruction:i,delegate:o}=e.initializePermanentDelegateInstructionData.decode(r);return{programId:t,keys:{mint:n},data:{instruction:i,delegate:o}}}e.initializePermanentDelegateInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.publicKey)("delegate")]),e.createInitializePermanentDelegateInstruction=function(t,n,i){if(!(0,c.programSupportsExtensions)(i))throw new u.TokenUnsupportedInstructionError;const o=[{pubkey:t,isSigner:!1,isWritable:!0}],d=r.alloc(e.initializePermanentDelegateInstructionData.span);return e.initializePermanentDelegateInstructionData.encode({instruction:l.TokenInstruction.InitializePermanentDelegate,delegate:n||new s.PublicKey(0)},d),new a.TransactionInstruction({keys:o,programId:i,data:d})},e.decodeInitializePermanentDelegateInstruction=function(t,n){if(!t.programId.equals(n))throw new u.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializePermanentDelegateInstructionData.span)throw new u.TokenInvalidInstructionDataError;const{keys:{mint:r},data:i}=d(t);if(i.instruction!==l.TokenInstruction.InitializePermanentDelegate)throw new u.TokenInvalidInstructionTypeError;if(!r)throw new u.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r},data:i}},e.decodeInitializePermanentDelegateInstructionUnchecked=d},8297:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addSigners=void 0;const r=n(9243);e.addSigners=function(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const e of n)t.push({pubkey:e instanceof r.PublicKey?e:e.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}},6744:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToInstructionUnchecked=e.decodeMintToInstruction=e.createMintToInstruction=e.mintToInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{mint:n,destination:r,authority:i,multiSigners:o},data:e.mintToInstructionData.decode(s)}}e.mintToInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),e.createMintToInstruction=function(t,n,i,o,c=[],d=a.TOKEN_PROGRAM_ID){const h=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,c),f=r.alloc(e.mintToInstructionData.span);return e.mintToInstructionData.encode({instruction:l.TokenInstruction.MintTo,amount:BigInt(o)},f),new s.TransactionInstruction({keys:h,programId:d,data:f})},e.decodeMintToInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.mintToInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}=d(t);if(u.instruction!==l.TokenInstruction.MintTo)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}},e.decodeMintToInstructionUnchecked=d},28:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToCheckedInstructionUnchecked=e.decodeMintToCheckedInstruction=e.createMintToCheckedInstruction=e.mintToCheckedInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{mint:n,destination:r,authority:i,multiSigners:o},data:e.mintToCheckedInstructionData.decode(s)}}e.mintToCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),e.createMintToCheckedInstruction=function(t,n,i,o,c,d=[],h=a.TOKEN_PROGRAM_ID){const f=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,d),p=r.alloc(e.mintToCheckedInstructionData.span);return e.mintToCheckedInstructionData.encode({instruction:l.TokenInstruction.MintToChecked,amount:BigInt(o),decimals:c},p),new s.TransactionInstruction({keys:f,programId:h,data:p})},e.decodeMintToCheckedInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.mintToCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}=d(t);if(u.instruction!==l.TokenInstruction.MintToChecked)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:r,destination:i,authority:o,multiSigners:s},data:u}},e.decodeMintToCheckedInstructionUnchecked=d},4131:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createReallocateInstruction=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);e.createReallocateInstruction=function(t,e,n,l,d=[],h=s.TOKEN_2022_PROGRAM_ID){if(!(0,s.programSupportsExtensions)(h))throw new a.TokenUnsupportedInstructionError;const f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1}],p=(0,c.addSigners)(f,l,d),y=(0,i.struct)([(0,i.u8)("instruction"),(0,i.seq)((0,i.u16)(),n.length,"extensionTypes")]),m=r.alloc(y.span);return y.encode({instruction:u.TokenInstruction.Reallocate,extensionTypes:n},m),new o.TransactionInstruction({keys:p,programId:h,data:m})}},7395:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeRevokeInstructionUnchecked=e.decodeRevokeInstruction=e.createRevokeInstruction=e.revokeInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);function l({programId:t,keys:[n,r,...i],data:o}){return{programId:t,keys:{account:n,owner:r,multiSigners:i},data:e.revokeInstructionData.decode(o)}}e.revokeInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createRevokeInstruction=function(t,n,i=[],a=s.TOKEN_PROGRAM_ID){const l=(0,c.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],n,i),d=r.alloc(e.revokeInstructionData.span);return e.revokeInstructionData.encode({instruction:u.TokenInstruction.Revoke},d),new o.TransactionInstruction({keys:l,programId:a,data:d})},e.decodeRevokeInstruction=function(t,n=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(t.data.length!==e.revokeInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,owner:i,multiSigners:o},data:c}=l(t);if(c.instruction!==u.TokenInstruction.Revoke)throw new a.TokenInvalidInstructionTypeError;if(!r||!i)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,owner:i,multiSigners:o},data:c}},e.decodeRevokeInstructionUnchecked=l},9278:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSetAuthorityInstructionUnchecked=e.decodeSetAuthorityInstruction=e.createSetAuthorityInstruction=e.setAuthorityInstructionData=e.AuthorityType=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,...i],data:o}){const{instruction:s,authorityType:a,newAuthorityOption:c,newAuthority:u}=e.setAuthorityInstructionData.decode(o);return{programId:t,keys:{account:n,currentAuthority:r,multiSigners:i},data:{instruction:s,authorityType:a,newAuthority:c?u:null}}}!function(t){t[t.MintTokens=0]="MintTokens",t[t.FreezeAccount=1]="FreezeAccount",t[t.AccountOwner=2]="AccountOwner",t[t.CloseAccount=3]="CloseAccount"}(e.AuthorityType||(e.AuthorityType={})),e.setAuthorityInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,i.u8)("authorityType"),(0,i.u8)("newAuthorityOption"),(0,o.publicKey)("newAuthority")]),e.createSetAuthorityInstruction=function(t,n,i,o,c=[],d=a.TOKEN_PROGRAM_ID){const h=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],n,c),f=r.alloc(e.setAuthorityInstructionData.span);return e.setAuthorityInstructionData.encode({instruction:l.TokenInstruction.SetAuthority,authorityType:i,newAuthorityOption:o?1:0,newAuthority:o||new s.PublicKey(0)},f),new s.TransactionInstruction({keys:h,programId:d,data:f})},e.decodeSetAuthorityInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.setAuthorityInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{account:r,currentAuthority:i,multiSigners:o},data:s}=d(t);if(s.instruction!==l.TokenInstruction.SetAuthority)throw new c.TokenInvalidInstructionTypeError;if(!r||!i)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,currentAuthority:i,multiSigners:o},data:s}},e.decodeSetAuthorityInstructionUnchecked=d},6461:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSyncNativeInstructionUnchecked=e.decodeSyncNativeInstruction=e.createSyncNativeInstruction=e.syncNativeInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(9037);function u({programId:t,keys:[n],data:r}){return{programId:t,keys:{account:n},data:e.syncNativeInstructionData.decode(r)}}e.syncNativeInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createSyncNativeInstruction=function(t,n=s.TOKEN_PROGRAM_ID){const i=[{pubkey:t,isSigner:!1,isWritable:!0}],a=r.alloc(e.syncNativeInstructionData.span);return e.syncNativeInstructionData.encode({instruction:c.TokenInstruction.SyncNative},a),new o.TransactionInstruction({keys:i,programId:n,data:a})},e.decodeSyncNativeInstruction=function(t,n=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(t.data.length!==e.syncNativeInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r},data:i}=u(t);if(i.instruction!==c.TokenInstruction.SyncNative)throw new a.TokenInvalidInstructionTypeError;if(!r)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r},data:i}},e.decodeSyncNativeInstructionUnchecked=u},5703:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeThawAccountInstructionUnchecked=e.decodeThawAccountInstruction=e.createThawAccountInstruction=e.thawAccountInstructionData=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(8297),u=n(9037);function l({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{account:n,mint:r,authority:i,multiSigners:o},data:e.thawAccountInstructionData.decode(s)}}e.thawAccountInstructionData=(0,i.struct)([(0,i.u8)("instruction")]),e.createThawAccountInstruction=function(t,n,i,a=[],l=s.TOKEN_PROGRAM_ID){const d=(0,c.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],i,a),h=r.alloc(e.thawAccountInstructionData.span);return e.thawAccountInstructionData.encode({instruction:u.TokenInstruction.ThawAccount},h),new o.TransactionInstruction({keys:d,programId:l,data:h})},e.decodeThawAccountInstruction=function(t,n=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new a.TokenInvalidInstructionProgramError;if(t.data.length!==e.thawAccountInstructionData.span)throw new a.TokenInvalidInstructionDataError;const{keys:{account:r,mint:i,authority:o,multiSigners:c},data:d}=l(t);if(d.instruction!==u.TokenInstruction.ThawAccount)throw new a.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new a.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:r,mint:i,authority:o,multiSigners:c},data:d}},e.decodeThawAccountInstructionUnchecked=l},22:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferInstructionUnchecked=e.decodeTransferInstruction=e.createTransferInstruction=e.transferInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,...o],data:s}){return{programId:t,keys:{source:n,destination:r,owner:i,multiSigners:o},data:e.transferInstructionData.decode(s)}}e.transferInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount")]),e.createTransferInstruction=function(t,n,i,o,c=[],d=a.TOKEN_PROGRAM_ID){const h=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,c),f=r.alloc(e.transferInstructionData.span);return e.transferInstructionData.encode({instruction:l.TokenInstruction.Transfer,amount:BigInt(o)},f),new s.TransactionInstruction({keys:h,programId:d,data:f})},e.decodeTransferInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.transferInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{source:r,destination:i,owner:o,multiSigners:s},data:u}=d(t);if(u.instruction!==l.TokenInstruction.Transfer)throw new c.TokenInvalidInstructionTypeError;if(!r||!i||!o)throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:r,destination:i,owner:o,multiSigners:s},data:u}},e.decodeTransferInstructionUnchecked=d},4401:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferCheckedInstructionUnchecked=e.decodeTransferCheckedInstruction=e.createTransferCheckedInstruction=e.transferCheckedInstructionData=void 0;const i=n(4639),o=n(3629),s=n(9243),a=n(6295),c=n(1898),u=n(8297),l=n(9037);function d({programId:t,keys:[n,r,i,o,...s],data:a}){return{programId:t,keys:{source:n,mint:r,destination:i,owner:o,multiSigners:s},data:e.transferCheckedInstructionData.decode(a)}}e.transferCheckedInstructionData=(0,i.struct)([(0,i.u8)("instruction"),(0,o.u64)("amount"),(0,i.u8)("decimals")]),e.createTransferCheckedInstruction=function(t,n,i,o,c,d,h=[],f=a.TOKEN_PROGRAM_ID){const p=(0,u.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],o,h),y=r.alloc(e.transferCheckedInstructionData.span);return e.transferCheckedInstructionData.encode({instruction:l.TokenInstruction.TransferChecked,amount:BigInt(c),decimals:d},y),new s.TransactionInstruction({keys:p,programId:f,data:y})},e.decodeTransferCheckedInstruction=function(t,n=a.TOKEN_PROGRAM_ID){if(!t.programId.equals(n))throw new c.TokenInvalidInstructionProgramError;if(t.data.length!==e.transferCheckedInstructionData.span)throw new c.TokenInvalidInstructionDataError;const{keys:{source:r,mint:i,destination:o,owner:s,multiSigners:u},data:h}=d(t);if(h.instruction!==l.TokenInstruction.TransferChecked)throw new c.TokenInvalidInstructionTypeError;if(!(r&&i&&o&&s))throw new c.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:r,mint:i,destination:o,owner:s,multiSigners:u},data:h}},e.decodeTransferCheckedInstructionUnchecked=d},9037:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenInstruction=void 0,function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate"}(e.TokenInstruction||(e.TokenInstruction={}))},536:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUiAmountToAmountInstructionUnchecked=e.decodeUiAmountToAmountInstruction=e.createUiAmountToAmountInstruction=void 0;const i=n(4639),o=n(9243),s=n(6295),a=n(1898),c=n(9037);function u({programId:t,keys:[e],data:n}){return{programId:t,keys:{mint:e},data:(0,i.struct)([(0,i.u8)("instruction"),(0,i.blob)(n.length-1,"amount")]).decode(n)}}e.createUiAmountToAmountInstruction=function(t,e,n=s.TOKEN_PROGRAM_ID){const a=[{pubkey:t,isSigner:!1,isWritable:!1}],u=r.from(e,"utf8"),l=(0,i.struct)([(0,i.u8)("instruction"),(0,i.blob)(u.length,"amount")]),d=r.alloc(l.span);return l.encode({instruction:c.TokenInstruction.UiAmountToAmount,amount:u},d),new o.TransactionInstruction({keys:a,programId:n,data:d})},e.decodeUiAmountToAmountInstruction=function(t,e=s.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new a.TokenInvalidInstructionProgramError;const n=(0,i.struct)([(0,i.u8)("instruction"),(0,i.blob)(t.data.length-1,"amount")]);if(t.data.length!==n.span)throw new a.TokenInvalidInstructionDataError;const{keys:{mint:r},data:o}=u(t);if(o.instruction!==c.TokenInstruction.UiAmountToAmount)throw new a.TokenInvalidInstructionTypeError;if(!r)throw new a.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:o}},e.decodeUiAmountToAmountInstructionUnchecked=u},2544:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.unpackAccount=e.getMinimumBalanceForRentExemptAccountWithExtensions=e.getMinimumBalanceForRentExemptAccount=e.getMultipleAccounts=e.getAccount=e.ACCOUNT_SIZE=e.AccountLayout=e.AccountState=void 0;const o=n(4639),s=n(3629),a=n(6295),c=n(1898),u=n(9314),l=n(3899),d=n(711);var h;function f(t,e,n){return i(this,void 0,void 0,(function*(){const r=(0,l.getAccountLen)(e);return yield t.getMinimumBalanceForRentExemption(r,n)}))}function p(t,n,i=a.TOKEN_PROGRAM_ID){if(!n)throw new c.TokenAccountNotFoundError;if(!n.owner.equals(i))throw new c.TokenInvalidAccountOwnerError;if(n.data.length<e.ACCOUNT_SIZE)throw new c.TokenInvalidAccountSizeError;const o=e.AccountLayout.decode(n.data.slice(0,e.ACCOUNT_SIZE));let s=r.alloc(0);if(n.data.length>e.ACCOUNT_SIZE){if(n.data.length===d.MULTISIG_SIZE)throw new c.TokenInvalidAccountSizeError;if(n.data[e.ACCOUNT_SIZE]!=u.AccountType.Account)throw new c.TokenInvalidAccountError;s=n.data.slice(e.ACCOUNT_SIZE+u.ACCOUNT_TYPE_SIZE)}return{address:t,mint:o.mint,owner:o.owner,amount:o.amount,delegate:o.delegateOption?o.delegate:null,delegatedAmount:o.delegatedAmount,isInitialized:o.state!==h.Uninitialized,isFrozen:o.state===h.Frozen,isNative:!!o.isNativeOption,rentExemptReserve:o.isNativeOption?o.isNative:null,closeAuthority:o.closeAuthorityOption?o.closeAuthority:null,tlvData:s}}!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"}(h=e.AccountState||(e.AccountState={})),e.AccountLayout=(0,o.struct)([(0,s.publicKey)("mint"),(0,s.publicKey)("owner"),(0,s.u64)("amount"),(0,o.u32)("delegateOption"),(0,s.publicKey)("delegate"),(0,o.u8)("state"),(0,o.u32)("isNativeOption"),(0,s.u64)("isNative"),(0,s.u64)("delegatedAmount"),(0,o.u32)("closeAuthorityOption"),(0,s.publicKey)("closeAuthority")]),e.ACCOUNT_SIZE=e.AccountLayout.span,e.getAccount=function(t,e,n,r=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield t.getAccountInfo(e,n);return p(e,i,r)}))},e.getMultipleAccounts=function(t,e,n,r=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield t.getMultipleAccountsInfo(e,n);return e.map(((t,e)=>p(t,i[e],r)))}))},e.getMinimumBalanceForRentExemptAccount=function(t,e){return i(this,void 0,void 0,(function*(){return yield f(t,[],e)}))},e.getMinimumBalanceForRentExemptAccountWithExtensions=f,e.unpackAccount=p},7883:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(2544),e),i(n(839),e),i(n(711),e)},839:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getAssociatedTokenAddressSync=e.getAssociatedTokenAddress=e.getMinimumBalanceForRentExemptMintWithExtensions=e.getMinimumBalanceForRentExemptMint=e.unpackMint=e.getMint=e.MINT_SIZE=e.MintLayout=void 0;const o=n(4639),s=n(3629),a=n(9243),c=n(6295),u=n(1898),l=n(9314),d=n(3899),h=n(2544),f=n(711);function p(t,n,i=c.TOKEN_PROGRAM_ID){if(!n)throw new u.TokenAccountNotFoundError;if(!n.owner.equals(i))throw new u.TokenInvalidAccountOwnerError;if(n.data.length<e.MINT_SIZE)throw new u.TokenInvalidAccountSizeError;const o=e.MintLayout.decode(n.data.slice(0,e.MINT_SIZE));let s=r.alloc(0);if(n.data.length>e.MINT_SIZE){if(n.data.length<=h.ACCOUNT_SIZE)throw new u.TokenInvalidAccountSizeError;if(n.data.length===f.MULTISIG_SIZE)throw new u.TokenInvalidAccountSizeError;if(n.data[h.ACCOUNT_SIZE]!=l.AccountType.Mint)throw new u.TokenInvalidMintError;s=n.data.slice(h.ACCOUNT_SIZE+l.ACCOUNT_TYPE_SIZE)}return{address:t,mintAuthority:o.mintAuthorityOption?o.mintAuthority:null,supply:o.supply,decimals:o.decimals,isInitialized:o.isInitialized,freezeAuthority:o.freezeAuthorityOption?o.freezeAuthority:null,tlvData:s}}function y(t,e,n){return i(this,void 0,void 0,(function*(){const r=(0,d.getMintLen)(e);return yield t.getMinimumBalanceForRentExemption(r,n)}))}e.MintLayout=(0,o.struct)([(0,o.u32)("mintAuthorityOption"),(0,s.publicKey)("mintAuthority"),(0,s.u64)("supply"),(0,o.u8)("decimals"),(0,s.bool)("isInitialized"),(0,o.u32)("freezeAuthorityOption"),(0,s.publicKey)("freezeAuthority")]),e.MINT_SIZE=e.MintLayout.span,e.getMint=function(t,e,n,r=c.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield t.getAccountInfo(e,n);return p(e,i,r)}))},e.unpackMint=p,e.getMinimumBalanceForRentExemptMint=function(t,e){return i(this,void 0,void 0,(function*(){return yield y(t,[],e)}))},e.getMinimumBalanceForRentExemptMintWithExtensions=y,e.getAssociatedTokenAddress=function(t,e,n=!1,r=c.TOKEN_PROGRAM_ID,o=c.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){if(!n&&!a.PublicKey.isOnCurve(e.toBuffer()))throw new u.TokenOwnerOffCurveError;const[i]=yield a.PublicKey.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],o);return i}))},e.getAssociatedTokenAddressSync=function(t,e,n=!1,r=c.TOKEN_PROGRAM_ID,i=c.ASSOCIATED_TOKEN_PROGRAM_ID){if(!n&&!a.PublicKey.isOnCurve(e.toBuffer()))throw new u.TokenOwnerOffCurveError;const[o]=a.PublicKey.findProgramAddressSync([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return o}},711:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getMinimumBalanceForRentExemptMultisig=e.unpackMultisig=e.getMultisig=e.MULTISIG_SIZE=e.MultisigLayout=void 0;const i=n(4639),o=n(3629),s=n(6295),a=n(1898);function c(t,n,r=s.TOKEN_PROGRAM_ID){if(!n)throw new a.TokenAccountNotFoundError;if(!n.owner.equals(r))throw new a.TokenInvalidAccountOwnerError;if(n.data.length!=e.MULTISIG_SIZE)throw new a.TokenInvalidAccountSizeError;const i=e.MultisigLayout.decode(n.data);return Object.assign({address:t},i)}e.MultisigLayout=(0,i.struct)([(0,i.u8)("m"),(0,i.u8)("n"),(0,o.bool)("isInitialized"),(0,o.publicKey)("signer1"),(0,o.publicKey)("signer2"),(0,o.publicKey)("signer3"),(0,o.publicKey)("signer4"),(0,o.publicKey)("signer5"),(0,o.publicKey)("signer6"),(0,o.publicKey)("signer7"),(0,o.publicKey)("signer8"),(0,o.publicKey)("signer9"),(0,o.publicKey)("signer10"),(0,o.publicKey)("signer11")]),e.MULTISIG_SIZE=e.MultisigLayout.span,e.getMultisig=function(t,e,n,i=s.TOKEN_PROGRAM_ID){return r(this,void 0,void 0,(function*(){const r=yield t.getAccountInfo(e,n);return c(e,r,i)}))},e.unpackMultisig=c,e.getMinimumBalanceForRentExemptMultisig=function(t,n){return r(this,void 0,void 0,(function*(){return yield t.getMinimumBalanceForRentExemption(e.MULTISIG_SIZE,n)}))}},6668:(t,e,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?n.g:globalThis;t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof i[r[e]]&&(t[t.length]=r[e]);return t}},189:(t,e,n)=>{"use strict";n.d(e,{rr:()=>gn});function r(t){let e=t.length;for(;--e>=0;)t[e]=0}const i=256,o=286,s=30,a=15,c=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),u=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);r(h);const f=new Array(60);r(f);const p=new Array(512);r(p);const y=new Array(256);r(y);const m=new Array(29);r(m);const g=new Array(s);function w(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let b,v,k;function S(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}r(g);const A=t=>t<256?p[t]:p[256+(t>>>7)],_=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},I=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},E=(t,e,n)=>{I(t,n[2*e],n[2*e+1])},T=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},x=(t,e,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=a;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=T(r[e]++,e))}},P=t=>{let e;for(e=0;e<o;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},M=t=>{t.bi_valid>8?_(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},O=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},B=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&O(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!O(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},R=(t,e,n)=>{let r,o,s,a,l=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+l++],r+=(255&t.pending_buf[t.sym_buf+l++])<<8,o=t.pending_buf[t.sym_buf+l++],0===r?E(t,o,e):(s=y[o],E(t,s+i+1,e),a=c[s],0!==a&&(o-=m[s],I(t,o,a)),r--,s=A(r),E(t,s,n),a=u[s],0!==a&&(r-=g[s],I(t,r,a)))}while(l<t.sym_next);E(t,256,e)},C=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,c,u,l=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[2*u+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)B(t,n,s);u=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],B(t,n,1),c=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=c,n[2*u]=n[2*s]+n[2*c],t.depth[u]=(t.depth[s]>=t.depth[c]?t.depth[s]:t.depth[c])+1,n[2*s+1]=n[2*c+1]=u,t.heap[1]=u++,B(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,d,h,f,p,y,m=0;for(f=0;f<=a;f++)t.bl_count[f]=0;for(n[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)d=t.heap[l],f=n[2*n[2*d+1]+1]+1,f>u&&(f=u,m++),n[2*d+1]=f,d>r||(t.bl_count[f]++,p=0,d>=c&&(p=s[d-c]),y=n[2*d],t.opt_len+=y*(f+p),o&&(t.static_len+=y*(i[2*d+1]+p)));if(0!==m){do{for(f=u-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[u]--,m-=2}while(m>0);for(f=u;0!==f;f--)for(d=t.bl_count[f];0!==d;)h=t.heap[--l],h>r||(n[2*h+1]!==f&&(t.opt_len+=(f-n[2*h+1])*n[2*h],n[2*h+1]=f),d--)}})(t,e),x(n,l,t.bl_count)},L=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},D=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<c&&i===s)){if(a<u)do{E(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(E(t,i,t.bl_tree),a--),E(t,16,t.bl_tree),I(t,a-3,2)):a<=10?(E(t,17,t.bl_tree),I(t,a-3,3)):(E(t,18,t.bl_tree),I(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}};let N=!1;const U=(t,e,n,r)=>{I(t,0+(r?1:0),3),M(t),_(t,n),_(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var z=(t,e,n,r)=>{let o,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<i;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),C(t,t.l_desc),C(t,t.d_desc),a=(t=>{let e;for(L(t,t.dyn_ltree,t.l_desc.max_code),L(t,t.dyn_dtree,t.d_desc.max_code),C(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=o&&(o=s)):o=s=n+5,n+4<=o&&-1!==e?U(t,e,n,r):4===t.strategy||s===o?(I(t,2+(r?1:0),3),R(t,h,f)):(I(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(I(t,e-257,5),I(t,n-1,5),I(t,r-4,4),i=0;i<r;i++)I(t,t.bl_tree[2*d[i]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),R(t,t.dyn_ltree,t.dyn_dtree)),P(t),r&&M(t)},K={_tr_init:t=>{N||((()=>{let t,e,n,r,i;const d=new Array(16);for(n=0,r=0;r<28;r++)for(m[r]=n,t=0;t<1<<c[r];t++)y[n++]=r;for(y[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,t=0;t<1<<u[r];t++)p[i++]=r;for(i>>=7;r<s;r++)for(g[r]=i<<7,t=0;t<1<<u[r]-7;t++)p[256+i++]=r;for(e=0;e<=a;e++)d[e]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,d[8]++;for(;t<=255;)h[2*t+1]=9,t++,d[9]++;for(;t<=279;)h[2*t+1]=7,t++,d[7]++;for(;t<=287;)h[2*t+1]=8,t++,d[8]++;for(x(h,287,d),t=0;t<s;t++)f[2*t+1]=5,f[2*t]=T(t,5);b=new w(h,c,257,o,a),v=new w(f,u,0,s,a),k=new w(new Array(0),l,0,19,7)})(),N=!0),t.l_desc=new S(t.dyn_ltree,b),t.d_desc=new S(t.dyn_dtree,v),t.bl_desc=new S(t.bl_tree,k),t.bi_buf=0,t.bi_valid=0,P(t)},_tr_stored_block:U,_tr_flush_block:z,_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(y[n]+i+1)]++,t.dyn_dtree[2*A(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{I(t,2,3),E(t,256,h),(t=>{16===t.bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var F=(t,e,n,r)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const j=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var W=(t,e,n,r)=>{const i=j,o=r+n;t^=-1;for(let n=r;n<o;n++)t=t>>>8^i[255&(t^e[n])];return-1^t},V={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:H,_tr_stored_block:G,_tr_flush_block:$,_tr_tally:Z,_tr_align:Y}=K,{Z_NO_FLUSH:X,Z_PARTIAL_FLUSH:J,Z_FULL_FLUSH:Q,Z_FINISH:tt,Z_BLOCK:et,Z_OK:nt,Z_STREAM_END:rt,Z_STREAM_ERROR:it,Z_DATA_ERROR:ot,Z_BUF_ERROR:st,Z_DEFAULT_COMPRESSION:at,Z_FILTERED:ct,Z_HUFFMAN_ONLY:ut,Z_RLE:lt,Z_FIXED:dt,Z_DEFAULT_STRATEGY:ht,Z_UNKNOWN:ft,Z_DEFLATED:pt}=q,yt=258,mt=262,gt=42,wt=113,bt=666,vt=(t,e)=>(t.msg=V[e],e),kt=t=>2*t-(t>4?9:0),St=t=>{let e=t.length;for(;--e>=0;)t[e]=0},At=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let _t=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const It=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Et=(t,e)=>{$(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,It(t.strm)},Tt=(t,e)=>{t.pending_buf[t.pending++]=e},xt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Pt=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=F(t.adler,e,i,n):2===t.state.wrap&&(t.adler=W(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Mt=(t,e)=>{let n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-mt?t.strstart-(t.w_size-mt):0,u=t.window,l=t.w_mask,d=t.prev,h=t.strstart+yt;let f=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,u[n+s]===p&&u[n+s-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=yt-(h-o),o=h-yt,r>s){if(t.match_start=e,s=r,r>=a)break;f=u[o+s-1],p=u[o+s]}}}while((e=d[e&l])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead},Ot=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-mt)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),At(t),r+=e),0===t.strm.avail_in)break;if(n=Pt(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=_t(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=_t(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<mt&&0!==t.strm.avail_in)},Bt=(t,e)=>{let n,r,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&e!==tt||e===X||n!==r+t.strm.avail_in))break;s=e===tt&&n===r+t.strm.avail_in?1:0,G(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,It(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(Pt(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==X&&e!==tt&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(Pt(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,r=t.strstart-t.block_start,(r>=o||(r||e===tt)&&e!==X&&0===t.strm.avail_in&&r<=i)&&(n=r>i?i:r,s=e===tt&&0===t.strm.avail_in&&n===r?1:0,G(t,t.block_start,n,s),t.block_start+=n,It(t.strm)),s?3:1)},Rt=(t,e)=>{let n,r;for(;;){if(t.lookahead<mt){if(Ot(t),t.lookahead<mt&&e===X)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-mt&&(t.match_length=Mt(t,n)),t.match_length>=3)if(r=Z(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=_t(t,t.ins_h,t.window[t.strstart+1]);else r=Z(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Et(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===tt?(Et(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Et(t,!1),0===t.strm.avail_out)?1:2},Ct=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<mt){if(Ot(t),t.lookahead<mt&&e===X)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-mt&&(t.match_length=Mt(t,n),t.match_length<=5&&(t.strategy===ct||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=Z(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Et(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=Z(t,0,t.window[t.strstart-1]),r&&Et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Z(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===tt?(Et(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Et(t,!1),0===t.strm.avail_out)?1:2};function Lt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Dt=[new Lt(0,0,0,0,Bt),new Lt(4,4,8,4,Rt),new Lt(4,5,16,8,Rt),new Lt(4,6,32,32,Rt),new Lt(4,4,16,16,Ct),new Lt(8,16,32,32,Ct),new Lt(8,16,128,128,Ct),new Lt(8,32,128,256,Ct),new Lt(32,128,258,1024,Ct),new Lt(32,258,258,4096,Ct)];function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),St(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ut=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==gt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==wt&&e.status!==bt?1:0},zt=t=>{if(Ut(t))return vt(t,it);t.total_in=t.total_out=0,t.data_type=ft;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?gt:wt,t.adler=2===e.wrap?0:1,e.last_flush=-2,H(e),nt},Kt=t=>{const e=zt(t);var n;return e===nt&&((n=t.state).window_size=2*n.w_size,St(n.head),n.max_lazy_match=Dt[n.level].max_lazy,n.good_match=Dt[n.level].good_length,n.nice_match=Dt[n.level].nice_length,n.max_chain_length=Dt[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},Ft=(t,e,n,r,i,o)=>{if(!t)return it;let s=1;if(e===at&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==pt||r<8||r>15||e<0||e>9||o<0||o>dt||8===r&&1!==s)return vt(t,it);8===r&&(r=9);const a=new Nt;return t.state=a,a.strm=t,a.status=gt,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,Kt(t)};var jt={deflateInit:(t,e)=>Ft(t,e,pt,15,8,ht),deflateInit2:Ft,deflateReset:Kt,deflateResetKeep:zt,deflateSetHeader:(t,e)=>Ut(t)||2!==t.state.wrap?it:(t.state.gzhead=e,nt),deflate:(t,e)=>{if(Ut(t)||e>et||e<0)return t?vt(t,it):it;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===bt&&e!==tt)return vt(t,0===t.avail_out?st:it);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(It(t),0===t.avail_out)return n.last_flush=-1,nt}else if(0===t.avail_in&&kt(e)<=kt(r)&&e!==tt)return vt(t,st);if(n.status===bt&&0!==t.avail_in)return vt(t,st);if(n.status===gt&&0===n.wrap&&(n.status=wt),n.status===gt){let e=pt+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=ut||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,xt(n,e),0!==n.strstart&&(xt(n,t.adler>>>16),xt(n,65535&t.adler)),t.adler=1,n.status=wt,It(t),0!==n.pending)return n.last_flush=-1,nt}if(57===n.status)if(t.adler=0,Tt(n,31),Tt(n,139),Tt(n,8),n.gzhead)Tt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Tt(n,255&n.gzhead.time),Tt(n,n.gzhead.time>>8&255),Tt(n,n.gzhead.time>>16&255),Tt(n,n.gzhead.time>>24&255),Tt(n,9===n.level?2:n.strategy>=ut||n.level<2?4:0),Tt(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Tt(n,255&n.gzhead.extra.length),Tt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=W(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Tt(n,0),Tt(n,0),Tt(n,0),Tt(n,0),Tt(n,0),Tt(n,9===n.level?2:n.strategy>=ut||n.level<2?4:0),Tt(n,3),n.status=wt,It(t),0!==n.pending)return n.last_flush=-1,nt;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=W(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=i,It(t),0!==n.pending)return n.last_flush=-1,nt;e=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=W(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=W(t.adler,n.pending_buf,n.pending-r,r)),It(t),0!==n.pending)return n.last_flush=-1,nt;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Tt(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=W(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=W(t.adler,n.pending_buf,n.pending-r,r)),It(t),0!==n.pending)return n.last_flush=-1,nt;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Tt(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=W(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(It(t),0!==n.pending))return n.last_flush=-1,nt;Tt(n,255&t.adler),Tt(n,t.adler>>8&255),t.adler=0}if(n.status=wt,It(t),0!==n.pending)return n.last_flush=-1,nt}if(0!==t.avail_in||0!==n.lookahead||e!==X&&n.status!==bt){let r=0===n.level?Bt(n,e):n.strategy===ut?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Ot(t),0===t.lookahead)){if(e===X)return 1;break}if(t.match_length=0,n=Z(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Et(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===tt?(Et(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Et(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===lt?((t,e)=>{let n,r,i,o;const s=t.window;for(;;){if(t.lookahead<=yt){if(Ot(t),t.lookahead<=yt&&e===X)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+yt;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=yt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Z(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Z(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Et(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===tt?(Et(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Et(t,!1),0===t.strm.avail_out)?1:2})(n,e):Dt[n.level].func(n,e);if(3!==r&&4!==r||(n.status=bt),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),nt;if(2===r&&(e===J?Y(n):e!==et&&(G(n,0,0,!1),e===Q&&(St(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),It(t),0===t.avail_out))return n.last_flush=-1,nt}return e!==tt?nt:n.wrap<=0?rt:(2===n.wrap?(Tt(n,255&t.adler),Tt(n,t.adler>>8&255),Tt(n,t.adler>>16&255),Tt(n,t.adler>>24&255),Tt(n,255&t.total_in),Tt(n,t.total_in>>8&255),Tt(n,t.total_in>>16&255),Tt(n,t.total_in>>24&255)):(xt(n,t.adler>>>16),xt(n,65535&t.adler)),It(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?nt:rt)},deflateEnd:t=>{if(Ut(t))return it;const e=t.state.status;return t.state=null,e===wt?vt(t,ot):nt},deflateSetDictionary:(t,e)=>{let n=e.length;if(Ut(t))return it;const r=t.state,i=r.wrap;if(2===i||1===i&&r.status!==gt||r.lookahead)return it;if(1===i&&(t.adler=F(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(St(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Ot(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=_t(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,Ot(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,nt},deflateInfo:"pako deflate (from Nodeca project)"};const Wt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Vt={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)Wt(n,e)&&(t[e]=n[e])}}return t},flattenChunks:t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,i=t.length;e<i;e++){let i=t[e];n.set(i,r),r+=i.length}return n}};let qt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){qt=!1}const Ht=new Uint8Array(256);for(let t=0;t<256;t++)Ht[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ht[254]=Ht[254]=1;var Gt={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){o[i++]=e;continue}let s=Ht[e];if(s>4)o[i++]=65533,r+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&r<n;)e=e<<6|63&t[r++],s--;s>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&qt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(o,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Ht[t[n]]>e?n:e}};var $t=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Zt=Object.prototype.toString,{Z_NO_FLUSH:Yt,Z_SYNC_FLUSH:Xt,Z_FULL_FLUSH:Jt,Z_FINISH:Qt,Z_OK:te,Z_STREAM_END:ee,Z_DEFAULT_COMPRESSION:ne,Z_DEFAULT_STRATEGY:re,Z_DEFLATED:ie}=q;function oe(t){this.options=Vt.assign({level:ne,method:ie,chunkSize:16384,windowBits:15,memLevel:8,strategy:re},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $t,this.strm.avail_out=0;let n=jt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==te)throw new Error(V[n]);if(e.header&&jt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Gt.string2buf(e.dictionary):"[object ArrayBuffer]"===Zt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=jt.deflateSetDictionary(this.strm,t),n!==te)throw new Error(V[n]);this._dict_set=!0}}function se(t,e){const n=new oe(e);if(n.push(t,!0),n.err)throw n.msg||V[n.err];return n.result}oe.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Qt:Yt,"string"==typeof t?n.input=Gt.string2buf(t):"[object ArrayBuffer]"===Zt.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Xt||o===Jt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=jt.deflate(n,o),i===ee)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=jt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===te;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},oe.prototype.onData=function(t){this.chunks.push(t)},oe.prototype.onEnd=function(t){t===te&&(this.result=Vt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ae={Deflate:oe,deflate:se,deflateRaw:function(t,e){return(e=e||{}).raw=!0,se(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,se(t,e)},constants:q};const ce=16209;var ue=function(t,e){let n,r,i,o,s,a,c,u,l,d,h,f,p,y,m,g,w,b,v,k,S,A,_,I;const E=t.state;n=t.next_in,_=t.input,r=n+(t.avail_in-5),i=t.next_out,I=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=E.dmax,c=E.wsize,u=E.whave,l=E.wnext,d=E.window,h=E.hold,f=E.bits,p=E.lencode,y=E.distcode,m=(1<<E.lenbits)-1,g=(1<<E.distbits)-1;t:do{f<15&&(h+=_[n++]<<f,f+=8,h+=_[n++]<<f,f+=8),w=p[h&m];e:for(;;){if(b=w>>>24,h>>>=b,f-=b,b=w>>>16&255,0===b)I[i++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=p[(65535&w)+(h&(1<<b)-1)];continue e}if(32&b){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=ce;break t}v=65535&w,b&=15,b&&(f<b&&(h+=_[n++]<<f,f+=8),v+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=_[n++]<<f,f+=8,h+=_[n++]<<f,f+=8),w=y[h&g];n:for(;;){if(b=w>>>24,h>>>=b,f-=b,b=w>>>16&255,!(16&b)){if(0==(64&b)){w=y[(65535&w)+(h&(1<<b)-1)];continue n}t.msg="invalid distance code",E.mode=ce;break t}if(k=65535&w,b&=15,f<b&&(h+=_[n++]<<f,f+=8,f<b&&(h+=_[n++]<<f,f+=8)),k+=h&(1<<b)-1,k>a){t.msg="invalid distance too far back",E.mode=ce;break t}if(h>>>=b,f-=b,b=i-o,k>b){if(b=k-b,b>u&&E.sane){t.msg="invalid distance too far back",E.mode=ce;break t}if(S=0,A=d,0===l){if(S+=c-b,b<v){v-=b;do{I[i++]=d[S++]}while(--b);S=i-k,A=I}}else if(l<b){if(S+=c+l-b,b-=l,b<v){v-=b;do{I[i++]=d[S++]}while(--b);if(S=0,l<v){b=l,v-=b;do{I[i++]=d[S++]}while(--b);S=i-k,A=I}}}else if(S+=l-b,b<v){v-=b;do{I[i++]=d[S++]}while(--b);S=i-k,A=I}for(;v>2;)I[i++]=A[S++],I[i++]=A[S++],I[i++]=A[S++],v-=3;v&&(I[i++]=A[S++],v>1&&(I[i++]=A[S++]))}else{S=i-k;do{I[i++]=I[S++],I[i++]=I[S++],I[i++]=I[S++],v-=3}while(v>2);v&&(I[i++]=I[S++],v>1&&(I[i++]=I[S++]))}break}}break}}while(n<r&&i<s);v=f>>3,n-=v,f-=v<<3,h&=(1<<f)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<s?s-i+257:257-(i-s),E.hold=h,E.bits=f};const le=15,de=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),he=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ye=(t,e,n,r,i,o,s,a)=>{const c=a.bits;let u,l,d,h,f,p,y=0,m=0,g=0,w=0,b=0,v=0,k=0,S=0,A=0,_=0,I=null;const E=new Uint16Array(16),T=new Uint16Array(16);let x,P,M,O=null;for(y=0;y<=le;y++)E[y]=0;for(m=0;m<r;m++)E[e[n+m]]++;for(b=c,w=le;w>=1&&0===E[w];w--);if(b>w&&(b=w),0===w)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(g=1;g<w&&0===E[g];g++);for(b<g&&(b=g),S=1,y=1;y<=le;y++)if(S<<=1,S-=E[y],S<0)return-1;if(S>0&&(0===t||1!==w))return-1;for(T[1]=0,y=1;y<le;y++)T[y+1]=T[y]+E[y];for(m=0;m<r;m++)0!==e[n+m]&&(s[T[e[n+m]]++]=m);if(0===t?(I=O=s,p=20):1===t?(I=de,O=he,p=257):(I=fe,O=pe,p=0),_=0,m=0,y=g,f=o,v=b,k=0,d=-1,A=1<<b,h=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){x=y-k,s[m]+1<p?(P=0,M=s[m]):s[m]>=p?(P=O[s[m]-p],M=I[s[m]-p]):(P=96,M=0),u=1<<y-k,l=1<<v,g=l;do{l-=u,i[f+(_>>k)+l]=x<<24|P<<16|M|0}while(0!==l);for(u=1<<y-1;_&u;)u>>=1;if(0!==u?(_&=u-1,_+=u):_=0,m++,0==--E[y]){if(y===w)break;y=e[n+s[m]]}if(y>b&&(_&h)!==d){for(0===k&&(k=b),f+=g,v=y-k,S=1<<v;v+k<w&&(S-=E[v+k],!(S<=0));)v++,S<<=1;if(A+=1<<v,1===t&&A>852||2===t&&A>592)return 1;d=_&h,i[d]=b<<24|v<<16|f-o|0}}return 0!==_&&(i[f+_]=y-k<<24|64<<16|0),a.bits=b,0};const{Z_FINISH:me,Z_BLOCK:ge,Z_TREES:we,Z_OK:be,Z_STREAM_END:ve,Z_NEED_DICT:ke,Z_STREAM_ERROR:Se,Z_DATA_ERROR:Ae,Z_MEM_ERROR:_e,Z_BUF_ERROR:Ie,Z_DEFLATED:Ee}=q,Te=16180,xe=16190,Pe=16191,Me=16192,Oe=16194,Be=16199,Re=16200,Ce=16206,Le=16209,De=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Ne(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ue=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Te||e.mode>16211?1:0},ze=t=>{if(Ue(t))return Se;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Te,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,be},Ke=t=>{if(Ue(t))return Se;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ze(t)},Fe=(t,e)=>{let n;if(Ue(t))return Se;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Se:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Ke(t))},je=(t,e)=>{if(!t)return Se;const n=new Ne;t.state=n,n.strm=t,n.window=null,n.mode=Te;const r=Fe(t,e);return r!==be&&(t.state=null),r};let We,Ve,qe=!0;const He=t=>{if(qe){We=new Int32Array(512),Ve=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ye(1,t.lens,0,288,We,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ye(2,t.lens,0,32,Ve,0,t.work,{bits:5}),qe=!1}t.lencode=We,t.lenbits=9,t.distcode=Ve,t.distbits=5},Ge=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var $e={inflateReset:Ke,inflateReset2:Fe,inflateResetKeep:ze,inflateInit:t=>je(t,15),inflateInit2:je,inflate:(t,e)=>{let n,r,i,o,s,a,c,u,l,d,h,f,p,y,m,g,w,b,v,k,S,A,_=0;const I=new Uint8Array(4);let E,T;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ue(t)||!t.output||!t.input&&0!==t.avail_in)return Se;n=t.state,n.mode===Pe&&(n.mode=Me),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,d=a,h=c,A=be;t:for(;;)switch(n.mode){case Te:if(0===n.wrap){n.mode=Me;break}for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,I[0]=255&u,I[1]=u>>>8&255,n.check=W(n.check,I,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Le;break}if((15&u)!==Ee){t.msg="unknown compression method",n.mode=Le;break}if(u>>>=4,l-=4,S=8+(15&u),0===n.wbits&&(n.wbits=S),S>15||S>n.wbits){t.msg="invalid window size",n.mode=Le;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&u?16189:Pe,u=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==Ee){t.msg="unknown compression method",n.mode=Le;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Le;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(I[0]=255&u,I[1]=u>>>8&255,n.check=W(n.check,I,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(I[0]=255&u,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,n.check=W(n.check,I,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(I[0]=255&u,I[1]=u>>>8&255,n.check=W(n.check,I,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(I[0]=255&u,I[1]=u>>>8&255,n.check=W(n.check,I,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),S)),512&n.flags&&4&n.wrap&&(n.check=W(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break t;f=0;do{S=r[o+f++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=W(n.check,r,f,o)),a-=f,o+=f,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break t;f=0;do{S=r[o+f++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=W(n.check,r,f,o)),a-=f,o+=f,S)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Le;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Pe;break;case 16189:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=De(u),u=0,l=0,n.mode=xe;case xe:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,ke;t.adler=n.check=1,n.mode=Pe;case Pe:if(e===ge||e===we)break t;case Me:if(n.last){u>>>=7&l,l-=7&l,n.mode=Ce;break}for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(He(n),n.mode=Be,e===we){u>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Le}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Le;break}if(n.length=65535&u,u=0,l=0,n.mode=Oe,e===we)break t;case Oe:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;i.set(r.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,n.length-=f;break}n.mode=Pe;break;case 16196:for(;l<14;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Le;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.lens[x[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[x[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},A=ye(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,A){t.msg="invalid code lengths set",n.mode=Le;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[u&(1<<n.lenbits)-1],m=_>>>24,g=_>>>16&255,w=65535&_,!(m<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(w<16)u>>>=m,l-=m,n.lens[n.have++]=w;else{if(16===w){for(T=m+2;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(u>>>=m,l-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=Le;break}S=n.lens[n.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===w){for(T=m+3;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=m,l-=m,S=0,f=3+(7&u),u>>>=3,l-=3}else{for(T=m+7;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=m,l-=m,S=0,f=11+(127&u),u>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Le;break}for(;f--;)n.lens[n.have++]=S}}if(n.mode===Le)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Le;break}if(n.lenbits=9,E={bits:n.lenbits},A=ye(1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,A){t.msg="invalid literal/lengths set",n.mode=Le;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},A=ye(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,A){t.msg="invalid distances set",n.mode=Le;break}if(n.mode=Be,e===we)break t;case Be:n.mode=Re;case Re:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,ue(t,h),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===Pe&&(n.back=-1);break}for(n.back=0;_=n.lencode[u&(1<<n.lenbits)-1],m=_>>>24,g=_>>>16&255,w=65535&_,!(m<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(g&&0==(240&g)){for(b=m,v=g,k=w;_=n.lencode[k+((u&(1<<b+v)-1)>>b)],m=_>>>24,g=_>>>16&255,w=65535&_,!(b+m<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=m,l-=m,n.back+=m,n.length=w,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=Pe;break}if(64&g){t.msg="invalid literal/length code",n.mode=Le;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;_=n.distcode[u&(1<<n.distbits)-1],m=_>>>24,g=_>>>16&255,w=65535&_,!(m<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(0==(240&g)){for(b=m,v=g,k=w;_=n.distcode[k+((u&(1<<b+v)-1)>>b)],m=_>>>24,g=_>>>16&255,w=65535&_,!(b+m<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=m,l-=m,n.back+=m,64&g){t.msg="invalid distance code",n.mode=Le;break}n.offset=w,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Le;break}n.mode=16204;case 16204:if(0===c)break t;if(f=h-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Le;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),y=n.window}else y=i,p=s-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{i[s++]=y[p++]}while(--f);0===n.length&&(n.mode=Re);break;case 16205:if(0===c)break t;i[s++]=n.length,c--,n.mode=Re;break;case Ce:if(n.wrap){for(;l<32;){if(0===a)break t;a--,u|=r[o++]<<l,l+=8}if(h-=c,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?W(n.check,i,h,s-h):F(n.check,i,h,s-h)),h=c,4&n.wrap&&(n.flags?u:De(u))!==n.check){t.msg="incorrect data check",n.mode=Le;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Le;break}u=0,l=0}n.mode=16208;case 16208:A=ve;break t;case Le:A=Ae;break t;case 16210:return _e;default:return Se}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<Le&&(n.mode<Ce||e!==me))&&Ge(t,t.output,t.next_out,h-t.avail_out),d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?W(n.check,i,h,t.next_out-h):F(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Pe?128:0)+(n.mode===Be||n.mode===Oe?256:0),(0===d&&0===h||e===me)&&A===be&&(A=Ie),A},inflateEnd:t=>{if(Ue(t))return Se;let e=t.state;return e.window&&(e.window=null),t.state=null,be},inflateGetHeader:(t,e)=>{if(Ue(t))return Se;const n=t.state;return 0==(2&n.wrap)?Se:(n.head=e,e.done=!1,be)},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,o;return Ue(t)?Se:(r=t.state,0!==r.wrap&&r.mode!==xe?Se:r.mode===xe&&(i=1,i=F(i,e,n,0),i!==r.check)?Ae:(o=Ge(t,e,n,n),o?(r.mode=16210,_e):(r.havedict=1,be)))},inflateInfo:"pako inflate (from Nodeca project)"};var Ze=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Ye=Object.prototype.toString,{Z_NO_FLUSH:Xe,Z_FINISH:Je,Z_OK:Qe,Z_STREAM_END:tn,Z_NEED_DICT:en,Z_STREAM_ERROR:nn,Z_DATA_ERROR:rn,Z_MEM_ERROR:on}=q;function sn(t){this.options=Vt.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $t,this.strm.avail_out=0;let n=$e.inflateInit2(this.strm,e.windowBits);if(n!==Qe)throw new Error(V[n]);if(this.header=new Ze,$e.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Gt.string2buf(e.dictionary):"[object ArrayBuffer]"===Ye.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=$e.inflateSetDictionary(this.strm,e.dictionary),n!==Qe)))throw new Error(V[n])}function an(t,e){const n=new sn(e);if(n.push(t),n.err)throw n.msg||V[n.err];return n.result}sn.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Je:Xe,"[object ArrayBuffer]"===Ye.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=$e.inflate(n,s),o===en&&i&&(o=$e.inflateSetDictionary(n,i),o===Qe?o=$e.inflate(n,s):o===rn&&(o=en));n.avail_in>0&&o===tn&&n.state.wrap>0&&0!==t[n.next_in];)$e.inflateReset(n),o=$e.inflate(n,s);switch(o){case nn:case rn:case en:case on:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===tn))if("string"===this.options.to){let t=Gt.utf8border(n.output,n.next_out),e=n.next_out-t,i=Gt.buf2string(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Qe||0!==a){if(o===tn)return o=$e.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},sn.prototype.onData=function(t){this.chunks.push(t)},sn.prototype.onEnd=function(t){t===Qe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Vt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var cn={Inflate:sn,inflate:an,inflateRaw:function(t,e){return(e=e||{}).raw=!0,an(t,e)},ungzip:an,constants:q};const{Deflate:un,deflate:ln,deflateRaw:dn,gzip:hn}=ae,{Inflate:fn,inflate:pn,inflateRaw:yn,ungzip:mn}=cn;var gn=pn}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&e&&t;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>t[e]));return r.default=()=>t,__webpack_require__.d(n,r),n},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__=__webpack_require__(5285);this.MarinadeSdk=__webpack_exports__})();